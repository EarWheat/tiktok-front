(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"113":function(e,t){},"146":function(e,t,a){},"149":function(e,t,a){},"160":function(e,t,a){"use strict";a.r(t);var n=a(15),c=a.n(n),o=a(112),r=a.n(o),i=a(102),l=a(2),s=a(3),u=a(4),p=a(19),d=a(11),m=a(12),f=a(5),y=a(156),b=(a(145),a(146),function(e){Object(d.a)(VideoPlayer,e);var t=Object(m.a)(VideoPlayer);function VideoPlayer(){var e;Object(s.a)(this,VideoPlayer);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n)),Object(f.a)(Object(p.a)(e),"state",{"play":!0}),Object(f.a)(Object(p.a)(e),"videoNode",void 0),Object(f.a)(Object(p.a)(e),"player",void 0),Object(f.a)(Object(p.a)(e),"playVideo",(function(){e.setState({"play":!0},(function(){e.player.play()}))})),Object(f.a)(Object(p.a)(e),"pauseVideo",(function(){e.setState({"play":!1},(function(){e.player.pause()}))})),Object(f.a)(Object(p.a)(e),"togglePlay",(function(){e.setState({"play":!e.state.play},(function(){e.state.play?e.player.play():e.player.pause()}))})),e}return Object(u.a)(VideoPlayer,[{"key":"componentDidMount","value":function componentDidMount(){this.player=Object(y.a)(this.videoNode,Object(l.a)({},this.props),(function(){}))}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.player&&this.player.dispose()}},{"key":"render","value":function render(){var e=this,t=this.props.src;return c.a.createElement("div",{"onClick":this.togglePlay,"onTouchStart":this.togglePlay,"className":"hello"},c.a.createElement("div",{"data-vjs-player":!0},c.a.createElement("video",{"ref":function ref(t){return e.videoNode=t},"className":"video-js my-video","preload":"auto","data-setup":"{}","loop":!0,"webkit-playsInline":!0,"playsInline":!0},c.a.createElement("source",{"src":t,"type":"video/mp4"}))))}}]),VideoPlayer}(c.a.Component)),v=a(7),O=a(150),j=(a(147),a(148),a(149),Object(i.b)({"key":"commentAtom","default":{"isOpened":!1,"data":[]}})),h=function Comment(){var e=Object(i.c)(j),t=Object(v.a)(e,2),a=t[0],n=a.isOpened,o=a.data,r=t[1];return c.a.createElement(O.a,{"isOpened":n,"title":"评论","scrollY":!0,"scrollTop":800,"onClose":function onClose(){r({"isOpened":!1,"data":[]})}},o.map((function(e){return e.content})))},E=function CommentIcon(e){var t=e.commentId,a=Object(i.d)(j);return c.a.createElement("div",{"className":"tiktok-comment"},c.a.createElement("div",{"onClick":function onOpen(){a({"isOpened":!0,"data":[{"content":"评论-".concat(t)}]})}},c.a.createElement(O.b,{"className":"tiktok-comment-icon","value":"message","customStyle":{"fontSize":40},"color":"#FFF"}),c.a.createElement("div",{"className":"tiktok-comment-text"},"写评论")))};t.default=function Fullpage(){var e=c.a.useRef([]),t=Object(n.useCallback)((function(t,a){var n=e.current[a.index],c=e.current[t.index];n&&n.player&&(document.addEventListener("WeixinJSBridgeReady",(function(){e.current.forEach((function(e,t){e.player.play(),t!==a.index&&e.player.pause()}))}),!1),n.player.play()),t.index!==a.index&&c&&c.player&&c.player.pause()}),[e.current]),a=[{"id":"1","src":"https://mp4.vjshi.com/2020-02-12/b80f178923f85a4e4d3a24b1beaf048d.mp4"},{"id":"2","src":"https://mp4.vjshi.com/2019-11-21/0735dcbcb5fa2e5ee5e4fb7639f2a06d.mp4"},{"id":"3","src":"https://mp4.vjshi.com/2019-01-07/b49262c14070bfff694139590812f798.mp4"}];return c.a.createElement(i.a,null,c.a.createElement(r.a,{"licenseKey":"YOUR_KEY_HERE","continuousVertical":!0,"scrollingSpeed":500,"afterLoad":t,"render":function render(){return c.a.createElement("div",null,a.map((function(t,n){return c.a.createElement("div",{"className":"section","key":n},c.a.createElement(b,{"src":t.src,"ref":function ref(t){e.current.length<a.length&&e.current.push(t)}}),c.a.createElement(E,{"commentId":t.id}))})))}}),c.a.createElement(h,null))}}}]);