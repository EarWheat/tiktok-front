/*! For license information please see 3.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],Array(123).concat([function(v,_,b){(function(_){var b;b="undefined"!=typeof window?window:void 0!==_?_:"undefined"!=typeof self?self:{},v.exports=b}).call(this,b(21))},function(v,_){v.exports={"toUnsigned":function(v){return v>>>0},"toHexString":function(v){return("00"+v.toString(16)).slice(-2)}}},function(v,_){function _extends(){return v.exports=_extends=Object.assign||function(v){for(var _=1;_<arguments.length;_++){var b=arguments[_];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(v[T]=b[T])}return v},v.exports.default=v.exports,v.exports.__esModule=!0,_extends.apply(this,arguments)}v.exports=_extends,v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _assertThisInitialized(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){function _setPrototypeOf(_,b){return v.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(v,_){return v.__proto__=_,v},v.exports.default=v.exports,v.exports.__esModule=!0,_setPrototypeOf(_,b)}v.exports=_setPrototypeOf,v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){"use strict";(function(v){b.d(_,"a",(function(){return Tn})),b.d(_,"b",(function(){return Cn})),b.d(_,"c",(function(){return On})),b.d(_,"d",(function(){return Ei})),b.d(_,"e",(function(){return Ci})),b.d(_,"f",(function(){return Gi}));var T=b(7),S=b(16),w=b.n(S),E=b(208),C=b(32),k=function extendStatics(v,_){return(k=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var b in _)_.hasOwnProperty(b)&&(v[b]=_[b])})(v,_)};function __extends(v,_){function __(){this.constructor=v}k(v,_),v.prototype=null===_?Object.create(_):(__.prototype=_.prototype,new __)}var x=function __assign(){return(x=Object.assign||function __assign(v){for(var _,b=1,T=arguments.length;b<T;b++)for(var S in _=arguments[b])Object.prototype.hasOwnProperty.call(_,S)&&(v[S]=_[S]);return v}).apply(this,arguments)};function __read(v,_){var b="function"==typeof Symbol&&v[Symbol.iterator];if(!b)return v;var T,S,w=b.call(v),E=[];try{for(;(void 0===_||_-- >0)&&!(T=w.next()).done;)E.push(T.value)}catch(v){S={"error":v}}finally{try{T&&!T.done&&(b=w.return)&&b.call(w)}finally{if(S)throw S.error}}return E}function __spread(){for(var v=[],_=0;_<arguments.length;_++)v=v.concat(__read(arguments[_]));return v}var P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==v?v:"undefined"!=typeof self?self:{};function createCommonjsModule(v,_){return v(_={"exports":{}},_.exports),_.exports}var I=createCommonjsModule((function(v){!function(){var _={}.hasOwnProperty;function classNames(){for(var v=[],b=0;b<arguments.length;b++){var S=arguments[b];if(S){var w=Object(T.a)(S);if("string"===w||"number"===w)v.push(S);else if(Array.isArray(S)&&S.length){var E=classNames.apply(null,S);E&&v.push(E)}else if("object"===w)for(var C in S)_.call(S,C)&&S[C]&&v.push(C)}}return v.join(" ")}v.exports?(classNames.default=classNames,v.exports=classNames):window.classNames=classNames}()})),O="function"==typeof Symbol&&Symbol.for,L=O?Symbol.for("react.element"):60103,D=O?Symbol.for("react.portal"):60106,N=O?Symbol.for("react.fragment"):60107,R=O?Symbol.for("react.strict_mode"):60108,B=O?Symbol.for("react.profiler"):60114,j=O?Symbol.for("react.provider"):60109,U=O?Symbol.for("react.context"):60110,V=O?Symbol.for("react.async_mode"):60111,H=O?Symbol.for("react.concurrent_mode"):60111,W=O?Symbol.for("react.forward_ref"):60112,q=O?Symbol.for("react.suspense"):60113,G=O?Symbol.for("react.suspense_list"):60120,Y=O?Symbol.for("react.memo"):60115,X=O?Symbol.for("react.lazy"):60116,K=O?Symbol.for("react.block"):60121,Q=O?Symbol.for("react.fundamental"):60117,J=O?Symbol.for("react.responder"):60118,Z=O?Symbol.for("react.scope"):60119;function z(v){if("object"===Object(T.a)(v)&&null!==v){var _=v.$$typeof;switch(_){case L:switch(v=v.type){case V:case H:case N:case B:case R:case q:return v;default:switch(v=v&&v.$$typeof){case U:case W:case X:case Y:case j:return v;default:return _}}case D:return _}}}function A(v){return z(v)===H}var ee={"AsyncMode":V,"ConcurrentMode":H,"ContextConsumer":U,"ContextProvider":j,"Element":L,"ForwardRef":W,"Fragment":N,"Lazy":X,"Memo":Y,"Portal":D,"Profiler":B,"StrictMode":R,"Suspense":q,"isAsyncMode":function isAsyncMode(v){return A(v)||z(v)===V},"isConcurrentMode":A,"isContextConsumer":function isContextConsumer(v){return z(v)===U},"isContextProvider":function isContextProvider(v){return z(v)===j},"isElement":function isElement(v){return"object"===Object(T.a)(v)&&null!==v&&v.$$typeof===L},"isForwardRef":function isForwardRef(v){return z(v)===W},"isFragment":function isFragment(v){return z(v)===N},"isLazy":function isLazy(v){return z(v)===X},"isMemo":function isMemo(v){return z(v)===Y},"isPortal":function isPortal(v){return z(v)===D},"isProfiler":function isProfiler(v){return z(v)===B},"isStrictMode":function isStrictMode(v){return z(v)===R},"isSuspense":function isSuspense(v){return z(v)===q},"isValidElementType":function isValidElementType(v){return"string"==typeof v||"function"==typeof v||v===N||v===H||v===B||v===R||v===q||v===G||"object"===Object(T.a)(v)&&null!==v&&(v.$$typeof===X||v.$$typeof===Y||v.$$typeof===j||v.$$typeof===U||v.$$typeof===W||v.$$typeof===Q||v.$$typeof===J||v.$$typeof===Z||v.$$typeof===K)},"typeOf":z},te=createCommonjsModule((function(v,_){0})),ne=(te.AsyncMode,te.ConcurrentMode,te.ContextConsumer,te.ContextProvider,te.Element,te.ForwardRef,te.Fragment,te.Lazy,te.Memo,te.Portal,te.Profiler,te.StrictMode,te.Suspense,te.isAsyncMode,te.isConcurrentMode,te.isContextConsumer,te.isContextProvider,te.isElement,te.isForwardRef,te.isFragment,te.isLazy,te.isMemo,te.isPortal,te.isProfiler,te.isStrictMode,te.isSuspense,te.isValidElementType,te.typeOf,createCommonjsModule((function(v){v.exports=ee})),Object.getOwnPropertySymbols),oe=Object.prototype.hasOwnProperty,an=Object.prototype.propertyIsEnumerable;function toObject(v){if(null==v)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}(function shouldUseNative(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de","5"===Object.getOwnPropertyNames(v)[0])return!1;for(var _={},b=0;b<10;b++)_["_"+String.fromCharCode(b)]=b;if("0123456789"!==Object.getOwnPropertyNames(_).map((function(v){return _[v]})).join(""))return!1;var T={};return"abcdefghijklmnopqrst".split("").forEach((function(v){T[v]=v})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},T)).join("")}catch(v){return!1}})()&&Object.assign;var sn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function checkPropTypes(v,_,b,T,S){}checkPropTypes.resetWarningCache=function(){0};Function.call.bind(Object.prototype.hasOwnProperty);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var cn=createCommonjsModule((function(v){v.exports=function factoryWithThrowingShims(){function shim(v,_,b,T,S,w){if(w!==sn){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}function getShim(){return shim}shim.isRequired=shim;var v={"array":shim,"bool":shim,"func":shim,"number":shim,"object":shim,"string":shim,"symbol":shim,"any":shim,"arrayOf":getShim,"element":shim,"elementType":shim,"instanceOf":getShim,"node":shim,"objectOf":getShim,"oneOf":getShim,"oneOfType":getShim,"shape":getShim,"exact":getShim,"checkPropTypes":emptyFunctionWithReset,"resetWarningCache":emptyFunction};return v.PropTypes=v,v}()})),un=function(v){function AtActionSheetBody(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtActionSheetBody,v),AtActionSheetBody.prototype.render=function(){var v=I("at-action-sheet__body",this.props.className);return w.a.createElement(E.q,{"className":v},this.props.children)},AtActionSheetBody}(w.a.Component),dn=function(v){function AtActionSheetFooter(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleClick=function(){for(var v,b=[],T=0;T<arguments.length;T++)b[T]=arguments[T];"function"==typeof _.props.onClick&&(v=_.props).onClick.apply(v,__spread(b))},_}return __extends(AtActionSheetFooter,v),AtActionSheetFooter.prototype.render=function(){var v=I("at-action-sheet__footer",this.props.className);return w.a.createElement(E.q,{"onClick":this.handleClick,"className":v},this.props.children)},AtActionSheetFooter}(w.a.Component);dn.propTypes={"onClick":cn.func};var hn=function(v){function AtActionSheetHeader(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtActionSheetHeader,v),AtActionSheetHeader.prototype.render=function(){var v=I("at-action-sheet__header",this.props.className);return w.a.createElement(E.q,{"className":v},this.props.children)},AtActionSheetHeader}(w.a.Component),pn=function(v){function AtActionSheet(_){var b=v.call(this,_)||this;b.handleClose=function(){"function"==typeof b.props.onClose&&b.props.onClose()},b.handleCancel=function(){if("function"==typeof b.props.onCancel)return b.props.onCancel();b.close()},b.close=function(){b.setState({"_isOpened":!1},b.handleClose)},b.handleTouchMove=function(v){v.stopPropagation(),v.preventDefault()};var T=_.isOpened;return b.state={"_isOpened":T},b}return __extends(AtActionSheet,v),AtActionSheet.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.isOpened;_!==this.state._isOpened&&(this.setState({"_isOpened":_}),!_&&this.handleClose())},AtActionSheet.prototype.render=function(){var v=this.props,_=v.title,b=v.cancelText,T=v.className,S=this.state._isOpened,C=I("at-action-sheet",{"at-action-sheet--active":S},T);return w.a.createElement(E.q,{"className":C,"onTouchMove":this.handleTouchMove},w.a.createElement(E.q,{"onClick":this.close,"className":"at-action-sheet__overlay"}),w.a.createElement(E.q,{"className":"at-action-sheet__container"},_&&w.a.createElement(hn,null,_),w.a.createElement(un,null,this.props.children),b&&w.a.createElement(dn,{"onClick":this.handleCancel},b)))},AtActionSheet}(w.a.Component);pn.defaultProps={"title":"","cancelText":"","isOpened":!1},pn.propTypes={"title":cn.string,"onClose":cn.func,"onCancel":cn.func,"isOpened":cn.bool.isRequired,"cancelText":cn.string},(function(v){function AtActionSheetItem(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleClick=function(v){"function"==typeof _.props.onClick&&_.props.onClick(v)},_}return __extends(AtActionSheetItem,v),AtActionSheetItem.prototype.render=function(){var v=I("at-action-sheet__item",this.props.className);return w.a.createElement(E.q,{"className":v,"onClick":this.handleClick},this.props.children)},AtActionSheetItem}(w.a.Component)).propTypes={"onClick":cn.func};var mn=C.default.getEnv();function delayQuerySelector(v,_){return void 0===_&&(_=500),new Promise((function(b){var T=Object(C.createSelectorQuery)();(function delay(v){return void 0===v&&(v=25),new Promise((function(_){setTimeout((function(){_()}),v)}))})(_).then((function(){T.select(v).boundingClientRect().exec((function(v){b(v)}))}))}))}function uuid(v,_){void 0===v&&(v=8),void 0===_&&(_=16);var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),T=[],S=0;if(_=_||b.length,v)for(S=0;S<v;S++)T[S]=b[0|Math.random()*_];else{var w=void 0;for(T[8]=T[13]=T[18]=T[23]="-",T[14]="4",S=0;S<36;S++)T[S]||(w=0|16*Math.random(),T[S]=b[19===S?3&w|8:w])}return T.join("")}var gn=0;function handleTouchScroll(v){mn===C.default.ENV_TYPE.WEB&&(v?(gn=document.documentElement.scrollTop,document.body.classList.add("at-frozen"),document.body.style.top=-gn+"px"):(document.body.style.top="",document.body.classList.remove("at-frozen"),document.documentElement.scrollTop=gn))}function pxTransform(v){if(!v)return"";return v/1+"rpx"}function objectToString(v){if(v&&"object"===Object(T.a)(v)){var _="";return Object.keys(v).forEach((function(b){var T=b.replace(/([A-Z])/g,"-$1").toLowerCase();_+=T+":"+v[b]+";"})),_}return v&&"string"==typeof v?v:""}function mergeStyle(v,_){return v&&"object"===Object(T.a)(v)&&_&&"object"===Object(T.a)(_)?Object.assign({},v,_):objectToString(v)+objectToString(_)}var vn=function(v){function AtLoading(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtLoading,v),AtLoading.prototype.render=function(){var v=this.props,_=v.color,b=v.size,T="string"==typeof b?b:String(b),S={"width":b?""+pxTransform(parseInt(T)):"","height":b?""+pxTransform(parseInt(T)):""},C={"border":_?"1px solid "+_:"","borderColor":_?_+" transparent transparent transparent":""},k=Object.assign({},C,S);return w.a.createElement(E.q,{"className":"at-loading","style":S},w.a.createElement(E.q,{"className":"at-loading__ring","style":k}),w.a.createElement(E.q,{"className":"at-loading__ring","style":k}),w.a.createElement(E.q,{"className":"at-loading__ring","style":k}))},AtLoading}(w.a.Component);vn.defaultProps={"size":0,"color":""},vn.propTypes={"size":cn.oneOfType([cn.string,cn.number]),"color":cn.oneOfType([cn.string,cn.number])};var yn=function(v){function AtActivityIndicator(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtActivityIndicator,v),AtActivityIndicator.prototype.render=function(){var v=this.props,_=v.color,b=v.size,T=v.mode,S=v.content,C=v.isOpened,k=I("at-activity-indicator",{"at-activity-indicator--center":"center"===T,"at-activity-indicator--isopened":C},this.props.className);return w.a.createElement(E.q,{"className":k},w.a.createElement(E.q,{"className":"at-activity-indicator__body"},w.a.createElement(vn,{"size":b,"color":_})),S&&w.a.createElement(E.o,{"className":"at-activity-indicator__content"},S))},AtActivityIndicator}(w.a.Component);yn.defaultProps={"size":0,"mode":"normal","color":"","content":"","className":"","isOpened":!0},yn.propTypes={"size":cn.number,"mode":cn.string,"color":cn.string,"content":cn.string,"className":cn.oneOfType([cn.array,cn.string]),"isOpened":cn.bool};var bn={"large":"large","normal":"normal","small":"small"},Tn=function(v){function AtAvatar(_){var b=v.call(this,_)||this;return b.state={"isWEAPP":C.default.getEnv()===C.default.ENV_TYPE.WEAPP},b}return __extends(AtAvatar,v),AtAvatar.prototype.render=function(){var v,_,b=this.props,T=b.size,S=b.circle,C=b.image,k=b.text,x=b.openData,P=b.customStyle,O=bn[T||"normal"],L=((v={})["at-avatar--"+O]=O,v["at-avatar--circle"]=S,v),D="";return k&&(D=k[0]),_=x&&"userAvatarUrl"===x.type&&this.state.isWEAPP?w.a.createElement(E.h,{"type":x.type}):C?w.a.createElement(E.c,{"className":"at-avatar__img","src":C}):w.a.createElement(E.o,{"className":"at-avatar__text"},D),w.a.createElement(E.q,{"className":I(["at-avatar"],L,this.props.className),"style":P},_)},AtAvatar}(w.a.Component);Tn.defaultProps={"size":"normal","circle":!1,"text":"","image":"","customStyle":{},"className":""},Tn.propTypes={"size":cn.oneOf(["large","normal","small"]),"circle":cn.bool,"text":cn.string,"image":cn.string,"openData":cn.object,"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string])};var Sn=function(v){function AtBadge(_){var b=v.call(this,_)||this;return b.state={},b}return __extends(AtBadge,v),AtBadge.prototype.formatValue=function(v,_){if(""===v||null==v)return"";var b=+v;return Number.isNaN(b)?v:b>_?_+"+":b},AtBadge.prototype.render=function(){var v=this.props,_=v.dot,b=v.value,T=v.maxValue,S=void 0===T?99:T,C=v.customStyle,k=this.formatValue(b,S);return w.a.createElement(E.q,{"className":I(["at-badge"],this.props.className),"style":C},this.props.children,_?w.a.createElement(E.q,{"className":"at-badge__dot"}):""!==k&&w.a.createElement(E.q,{"className":"at-badge__num"},k))},AtBadge}(w.a.Component);Sn.defaultProps={"dot":!1,"value":"","maxValue":99,"customStyle":{},"className":""},Sn.propTypes={"dot":cn.bool,"value":cn.oneOfType([cn.string,cn.number]),"maxValue":cn.number,"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string])};var wn={"normal":"normal","small":"small"},En={"primary":"primary","secondary":"secondary"},Cn=function(v){function AtButton(_){var b=v.call(this,_)||this;return b.state={"isWEB":C.default.getEnv()===C.default.ENV_TYPE.WEB,"isWEAPP":C.default.getEnv()===C.default.ENV_TYPE.WEAPP,"isALIPAY":C.default.getEnv()===C.default.ENV_TYPE.ALIPAY},b}return __extends(AtButton,v),AtButton.prototype.onClick=function(v){this.props.disabled||this.props.onClick&&this.props.onClick(v)},AtButton.prototype.onGetUserInfo=function(v){this.props.onGetUserInfo&&this.props.onGetUserInfo(v)},AtButton.prototype.onContact=function(v){this.props.onContact&&this.props.onContact(v)},AtButton.prototype.onGetPhoneNumber=function(v){this.props.onGetPhoneNumber&&this.props.onGetPhoneNumber(v)},AtButton.prototype.onError=function(v){this.props.onError&&this.props.onError(v)},AtButton.prototype.onOpenSetting=function(v){this.props.onOpenSetting&&this.props.onOpenSetting(v)},AtButton.prototype.onSumit=function(v){(this.state.isWEAPP||this.state.isWEB)&&this.$scope.triggerEvent("submit",v.detail,{"bubbles":!0,"composed":!0})},AtButton.prototype.onReset=function(v){(this.state.isWEAPP||this.state.isWEB)&&this.$scope.triggerEvent("reset",v.detail,{"bubbles":!0,"composed":!0})},AtButton.prototype.render=function(){var v,_=this.props,b=_.size,T=void 0===b?"normal":b,S=_.type,C=void 0===S?"":S,k=_.circle,x=_.full,P=_.loading,O=_.disabled,L=_.customStyle,D=_.formType,N=_.openType,R=_.lang,B=_.sessionFrom,j=_.sendMessageTitle,U=_.sendMessagePath,V=_.sendMessageImg,H=_.showMessageCard,W=_.appParameter,q=this.state,G=q.isWEAPP,Y=q.isALIPAY,X=q.isWEB,K=["at-button"],Q=((v={})["at-button--"+wn[T]]=wn[T],v["at-button--disabled"]=O,v["at-button--"+C]=En[C],v["at-button--circle"]=k,v["at-button--full"]=x,v),J="primary"===C?"#fff":"",Z="small"===T?"30":0,ee=null;P&&(ee=w.a.createElement(E.q,{"className":"at-button__icon"},w.a.createElement(vn,{"color":J,"size":Z})),K.push("at-button--icon"));var te=w.a.createElement(E.a,{"className":"at-button__wxbutton","lang":R,"formType":D}),ne=w.a.createElement(E.a,{"className":"at-button__wxbutton","formType":D,"openType":N,"lang":R,"sessionFrom":B,"sendMessageTitle":j,"sendMessagePath":U,"sendMessageImg":V,"showMessageCard":H,"appParameter":W,"onGetUserInfo":this.onGetUserInfo.bind(this),"onGetPhoneNumber":this.onGetPhoneNumber.bind(this),"onOpenSetting":this.onOpenSetting.bind(this),"onError":this.onError.bind(this),"onContact":this.onContact.bind(this)});return w.a.createElement(E.q,{"className":I(K,Q,this.props.className),"style":L,"onClick":this.onClick.bind(this)},X&&!O&&te,G&&!O&&w.a.createElement(E.b,{"onSubmit":this.onSumit.bind(this),"onReset":this.onReset.bind(this)},ne),Y&&!O&&ne,ee,w.a.createElement(E.q,{"className":"at-button__text"},this.props.children))},AtButton}(w.a.Component);Cn.defaultProps={"size":"normal","circle":!1,"full":!1,"loading":!1,"disabled":!1,"customStyle":{},"lang":"en","sessionFrom":"","sendMessageTitle":"","sendMessagePath":"","sendMessageImg":"","showMessageCard":!1,"appParameter":""},Cn.propTypes={"size":cn.oneOf(["normal","small"]),"type":cn.oneOf(["primary","secondary",""]),"circle":cn.bool,"full":cn.bool,"loading":cn.bool,"disabled":cn.bool,"onClick":cn.func,"customStyle":cn.oneOfType([cn.object,cn.string]),"formType":cn.oneOf(["submit","reset",""]),"openType":cn.oneOf(["contact","share","getUserInfo","getPhoneNumber","launchApp","openSetting","feedback","getRealnameAuthInfo","getAuthorize","contactShare",""]),"lang":cn.string,"sessionFrom":cn.string,"sendMessageTitle":cn.string,"sendMessagePath":cn.string,"sendMessageImg":cn.string,"showMessageCard":cn.bool,"appParameter":cn.string,"onGetUserInfo":cn.func,"onContact":cn.func,"onGetPhoneNumber":cn.func,"onError":cn.func,"onOpenSetting":cn.func};var kn=function(v){function AtCard(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleClick=function(v){"function"==typeof _.props.onClick&&_.props.onClick(v)},_}return __extends(AtCard,v),AtCard.prototype.render=function(){var v,_=this.props,b=_.title,T=_.note,S=_.extra,C=_.extraStyle,k=_.thumb,P=_.isFull,O=_.icon,L=_.renderIcon,D=I("at-card",{"at-card--full":P},this.props.className),N=I(((v={"at-icon":!0})["at-icon-"+(O&&O.value)]=O&&O.value,v["at-card__header-icon"]=!0,v)),R={"color":O&&O.color||"","fontSize":O&&O.size+"px"||""};return w.a.createElement(E.q,{"onClick":this.handleClick,"className":D},w.a.createElement(E.q,{"className":"at-card__header"},k&&w.a.createElement(E.q,{"className":"at-card__header-thumb"},w.a.createElement(E.c,{"className":"at-card__header-thumb-info","mode":"scaleToFill","src":k})),L||"",!k&&O&&O.value&&w.a.createElement(E.o,{"className":N,"style":R}),w.a.createElement(E.o,{"className":"at-card__header-title"},b),S&&w.a.createElement(E.o,{"style":x({},C),"className":"at-card__header-extra"},S)),w.a.createElement(E.q,{"className":"at-card__content"},w.a.createElement(E.q,{"className":"at-card__content-info"},this.props.children),T&&w.a.createElement(E.q,{"className":"at-card__content-note"},T)))},AtCard}(w.a.Component);kn.defaultProps={"note":"","isFull":!1,"thumb":"","title":"","extra":"","extraStyle":{}},kn.propTypes={"note":cn.string,"isFull":cn.bool,"thumb":cn.string,"title":cn.string,"extra":cn.string,"icon":cn.object,"onClick":cn.func,"renderIcon":cn.oneOfType([cn.string,cn.element]),"extraStyle":cn.object};var xn=function(v){function AtCheckbox(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtCheckbox,v),AtCheckbox.prototype.handleClick=function(v){var _=this.props,b=_.selectedList,T=_.options[v],S=T.disabled,w=T.value;if(!S){var E=new Set(b);E.has(w)?E.delete(w):E.add(w),this.props.onChange(__spread(E))}},AtCheckbox.prototype.render=function(){var v=this,_=this.props,b=_.customStyle,T=_.className,S=_.options,C=_.selectedList,k=I("at-checkbox",T);return w.a.createElement(E.q,{"className":k,"style":b},S.map((function(_,b){var T=_.value,S=_.disabled,k=_.label,x=_.desc,P=I("at-checkbox__option",{"at-checkbox__option--disabled":S,"at-checkbox__option--selected":C.includes(T)});return w.a.createElement(E.q,{"className":P,"key":T,"onClick":v.handleClick.bind(v,b)},w.a.createElement(E.q,{"className":"at-checkbox__option-wrap"},w.a.createElement(E.q,{"className":"at-checkbox__option-cnt"},w.a.createElement(E.q,{"className":"at-checkbox__icon-cnt"},w.a.createElement(E.o,{"className":"at-icon at-icon-check"})),w.a.createElement(E.q,{"className":"at-checkbox__title"},k)),x&&w.a.createElement(E.q,{"className":"at-checkbox__desc"},x)))})))},AtCheckbox}(w.a.Component);xn.defaultProps={"customStyle":"","className":"","options":[],"selectedList":[],"onChange":function onChange(){}},xn.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"options":cn.array,"selectedList":cn.array,"onChange":cn.func};var An=function(v){function AtList(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtList,v),AtList.prototype.render=function(){var v=I("at-list",{"at-list--no-border":!this.props.hasBorder},this.props.className);return w.a.createElement(E.q,{"className":v},this.props.children)},AtList}(w.a.Component);An.defaultProps={"hasBorder":!0},An.propTypes={"hasBorder":cn.bool};var Pn=function(v){function AtListItem(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleClick=function(v){"function"!=typeof _.props.onClick||_.props.disabled||_.props.onClick(v)},_.handleSwitchChange=function(v){"function"!=typeof _.props.onSwitchChange||_.props.disabled||_.props.onSwitchChange(v)},_}return __extends(AtListItem,v),AtListItem.prototype.handleSwitchClick=function(v){v.stopPropagation()},AtListItem.prototype.render=function(){var v,_=this.props,b=_.note,T=_.arrow,S=_.thumb,C=_.iconInfo,k=_.disabled,x=_.isSwitch,P=_.hasBorder,O=_.extraThumb,L=_.switchColor,D=_.switchIsCheck,N=this.props,R=N.extraText,B=N.title;R=String(R),B=String(B);var j=I("at-list__item",{"at-list__item--thumb":S,"at-list__item--multiple":b,"at-list__item--disabled":k,"at-list__item--no-border":!P},this.props.className),U=I(C&&C.prefixClass||"at-icon",((v={})[(C&&C.prefixClass||"at-icon")+"-"+(C&&C.value)]=C&&C.value,v),C&&C.className);return w.a.createElement(E.q,{"className":j,"onClick":this.handleClick},w.a.createElement(E.q,{"className":"at-list__item-container"},S&&w.a.createElement(E.q,{"className":"at-list__item-thumb item-thumb"},w.a.createElement(E.c,{"className":"item-thumb__info","mode":"scaleToFill","src":S})),C&&C.value&&w.a.createElement(E.q,{"className":"at-list__item-icon item-icon"},w.a.createElement(E.o,{"className":U,"style":mergeStyle({"color":C.color||"","fontSize":(C.size||24)+"px"},C.customStyle||"")})),w.a.createElement(E.q,{"className":"at-list__item-content item-content"},w.a.createElement(E.q,{"className":"item-content__info"},w.a.createElement(E.q,{"className":"item-content__info-title"},B),b&&w.a.createElement(E.q,{"className":"item-content__info-note"},b))),w.a.createElement(E.q,{"className":"at-list__item-extra item-extra"},R&&w.a.createElement(E.q,{"className":"item-extra__info"},R),O&&!R&&w.a.createElement(E.q,{"className":"item-extra__image"},w.a.createElement(E.c,{"className":"item-extra__image-info","mode":"aspectFit","src":O})),x&&!O&&!R&&w.a.createElement(E.q,{"className":"item-extra__switch","onClick":this.handleSwitchClick},w.a.createElement(E.n,{"color":L,"disabled":k,"checked":D,"onChange":this.handleSwitchChange})),T?w.a.createElement(E.q,{"className":"item-extra__icon"},w.a.createElement(E.o,{"className":"at-icon item-extra__icon-arrow at-icon-chevron-"+T})):null)))},AtListItem}(w.a.Component);Pn.defaultProps={"note":"","disabled":!1,"title":"","thumb":"","isSwitch":!1,"hasBorder":!0,"switchColor":"#6190E8","switchIsCheck":!1,"extraText":"","extraThumb":"","iconInfo":{"value":""}},Pn.propTypes={"note":cn.string,"disabled":cn.bool,"title":cn.string,"thumb":cn.string,"onClick":cn.func,"isSwitch":cn.bool,"hasBorder":cn.bool,"switchColor":cn.string,"switchIsCheck":cn.bool,"extraText":cn.string,"extraThumb":cn.string,"onSwitchChange":cn.func,"arrow":cn.oneOf(["up","down","right"]),"iconInfo":cn.shape({"size":cn.number,"value":cn.string,"color":cn.string,"prefixClass":cn.string,"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string])})};var In=function(v){function AtDrawer(_){var b=v.call(this,_)||this;return b.state={"animShow":!1,"_show":_.show},b}return __extends(AtDrawer,v),AtDrawer.prototype.componentDidMount=function(){this.state._show&&this.animShow()},AtDrawer.prototype.onItemClick=function(v){this.props.onItemClick&&this.props.onItemClick(v),this.animHide()},AtDrawer.prototype.onHide=function(){var v=this;this.setState({"_show":!1},(function(){v.props.onClose&&v.props.onClose()}))},AtDrawer.prototype.animHide=function(){var v=this;this.setState({"animShow":!1}),setTimeout((function(){v.onHide()}),300)},AtDrawer.prototype.animShow=function(){var v=this;this.setState({"_show":!0}),setTimeout((function(){v.setState({"animShow":!0})}),200)},AtDrawer.prototype.onMaskClick=function(){this.animHide()},AtDrawer.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.show;_!==this.state._show&&(_?this.animShow():this.animHide())},AtDrawer.prototype.render=function(){var v=this,_=this.props,b=_.mask,T=_.width,S=_.right,C=_.items,k=this.state,x=k.animShow,P={"display":b?"block":"none","opacity":x?1:0},O={"width":T,"transition":x?"all 225ms cubic-bezier(0, 0, 0.2, 1)":"all 195ms cubic-bezier(0.4, 0, 0.6, 1)"},L={"at-drawer--show":x,"at-drawer--right":S,"at-drawer--left":!S};return k._show?w.a.createElement(E.q,{"className":I(["at-drawer"],L,this.props.className)},w.a.createElement(E.q,{"className":"at-drawer__mask","style":P,"onClick":this.onMaskClick.bind(this)}),w.a.createElement(E.q,{"className":"at-drawer__content","style":O},C&&C.length?w.a.createElement(An,null,C.map((function(_,b){return w.a.createElement(Pn,{"key":_+"-"+b,"data-index":b,"onClick":v.onItemClick.bind(v,b),"title":_,"arrow":"right"})}))):this.props.children)):w.a.createElement(E.q,null)},AtDrawer}(w.a.Component);In.defaultProps={"show":!1,"mask":!0,"width":"","right":!1,"items":[]},In.propTypes={"show":cn.bool,"mask":cn.bool,"width":cn.string,"items":cn.arrayOf(cn.string),"onItemClick":cn.func,"onClose":cn.func};var On=function(v){function AtFloatLayout(_){var b=v.call(this,_)||this;b.handleClose=function(){"function"==typeof b.props.onClose&&b.props.onClose()},b.close=function(){b.setState({"_isOpened":!1},b.handleClose)},b.handleTouchMove=function(v){v.stopPropagation()};var T=_.isOpened;return b.state={"_isOpened":T},b}return __extends(AtFloatLayout,v),AtFloatLayout.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.isOpened;this.props.isOpened!==_&&handleTouchScroll(_),_!==this.state._isOpened&&this.setState({"_isOpened":_})},AtFloatLayout.prototype.render=function(){var v=this.state._isOpened,_=this.props,b=_.title,T=_.scrollY,S=_.scrollX,C=_.scrollTop,k=_.scrollLeft,x=_.upperThreshold,P=_.lowerThreshold,O=_.scrollWithAnimation,L=I("at-float-layout",{"at-float-layout--active":v},this.props.className);return w.a.createElement(E.q,{"className":L,"onTouchMove":this.handleTouchMove},w.a.createElement(E.q,{"onClick":this.close,"className":"at-float-layout__overlay"}),w.a.createElement(E.q,{"className":"at-float-layout__container layout"},b?w.a.createElement(E.q,{"className":"layout-header"},w.a.createElement(E.o,{"className":"layout-header__title"},b),w.a.createElement(E.q,{"className":"layout-header__btn-close","onClick":this.close})):null,w.a.createElement(E.q,{"className":"layout-body"},w.a.createElement(E.j,{"scrollY":T,"scrollX":S,"scrollTop":C,"scrollLeft":k,"upperThreshold":x,"lowerThreshold":P,"scrollWithAnimation":O,"onScroll":this.props.onScroll,"onScrollToLower":this.props.onScrollToLower,"onScrollToUpper":this.props.onScrollToUpper,"className":"layout-body__content"},this.props.children))))},AtFloatLayout}(w.a.Component);On.defaultProps={"title":"","isOpened":!1,"scrollY":!0,"scrollX":!1,"scrollWithAnimation":!1},On.propTypes={"title":cn.string,"isOpened":cn.bool,"scrollY":cn.bool,"scrollX":cn.bool,"scrollTop":cn.number,"scrollLeft":cn.number,"upperThreshold":cn.number,"lowerThreshold":cn.number,"scrollWithAnimation":cn.bool,"onClose":cn.func,"onScroll":cn.func,"onScrollToLower":cn.func,"onScrollToUpper":cn.func};var Ln=function(v){function AtForm(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtForm,v),AtForm.prototype.onSubmit=function(){this.props.onSubmit&&this.props.onSubmit(arguments)},AtForm.prototype.onReset=function(){this.props.onReset&&this.props.onReset(arguments)},AtForm.prototype.render=function(){var v=this.props,_=v.customStyle,b=v.className,T=v.reportSubmit,S=I("at-form",b);return w.a.createElement(E.b,{"className":S,"style":_,"onSubmit":this.onSubmit.bind(this),"reportSubmit":T,"onReset":this.onReset.bind(this)},this.props.children)},AtForm}(w.a.Component);Ln.defaultProps={"customStyle":"","className":"","reportSubmit":!1},Ln.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"reportSubmit":cn.bool,"onSubmit":cn.func,"onReset":cn.func};var Mn=function baseSlice(v,_,b){var T=-1,S=v.length;_<0&&(_=-_>S?0:S+_),(b=b>S?S:b)<0&&(b+=S),S=_>b?0:b-_>>>0,_>>>=0;for(var w=Array(S);++T<S;)w[T]=v[T+_];return w};var Dn=function eq(v,_){return v===_||v!=v&&_!=_},Nn="object"==Object(T.a)(P)&&P&&P.Object===Object&&P,Rn="object"==("undefined"==typeof self?"undefined":Object(T.a)(self))&&self&&self.Object===Object&&self,Bn=Nn||Rn||Function("return this")(),jn=Bn.Symbol,Vn=Object.prototype,Hn=Vn.hasOwnProperty,Wn=Vn.toString,zn=jn?jn.toStringTag:void 0;var Yn=function getRawTag(v){var _=Hn.call(v,zn),b=v[zn];try{v[zn]=void 0;var T=!0}catch(v){}var S=Wn.call(v);return T&&(_?v[zn]=b:delete v[zn]),S},Zn=Object.prototype.toString;var ei=function objectToString$1(v){return Zn.call(v)},ti=jn?jn.toStringTag:void 0;var ni=function baseGetTag(v){return null==v?void 0===v?"[object Undefined]":"[object Null]":ti&&ti in Object(v)?Yn(v):ei(v)};var ii=function isObject(v){var _=Object(T.a)(v);return null!=v&&("object"==_||"function"==_)};var ri=function isFunction(v){if(!ii(v))return!1;var _=ni(v);return"[object Function]"==_||"[object GeneratorFunction]"==_||"[object AsyncFunction]"==_||"[object Proxy]"==_};var ai=function isLength(v){return"number"==typeof v&&v>-1&&v%1==0&&v<=9007199254740991};var oi=function isArrayLike(v){return null!=v&&ai(v.length)&&!ri(v)},si=/^(?:0|[1-9]\d*)$/;var li=function isIndex(v,_){var b=Object(T.a)(v);return!!(_=null==_?9007199254740991:_)&&("number"==b||"symbol"!=b&&si.test(v))&&v>-1&&v%1==0&&v<_};var ci=function isIterateeCall(v,_,b){if(!ii(b))return!1;var S=Object(T.a)(_);return!!("number"==S?oi(b)&&li(_,b.length):"string"==S&&_ in b)&&Dn(b[_],v)};var ui=function isObjectLike(v){return null!=v&&"object"==Object(T.a)(v)};var di=function isSymbol(v){return"symbol"==Object(T.a)(v)||ui(v)&&"[object Symbol]"==ni(v)},hi=/^\s+|\s+$/g,pi=/^[-+]0x[0-9a-f]+$/i,fi=/^0b[01]+$/i,mi=/^0o[0-7]+$/i,gi=parseInt;var vi=function toNumber(v){if("number"==typeof v)return v;if(di(v))return NaN;if(ii(v)){var _="function"==typeof v.valueOf?v.valueOf():v;v=ii(_)?_+"":_}if("string"!=typeof v)return 0===v?v:+v;v=v.replace(hi,"");var b=fi.test(v);return b||mi.test(v)?gi(v.slice(2),b?2:8):pi.test(v)?NaN:+v};var yi=function toFinite(v){return v?(v=vi(v))===1/0||v===-1/0?17976931348623157e292*(v<0?-1:1):v==v?v:0:0===v?v:0};var _i=function toInteger(v){var _=yi(v),b=_%1;return _==_?b?_-b:_:0},bi=Math.ceil,Ti=Math.max;var Si=function chunk(v,_,b){_=(b?ci(v,_,b):void 0===_)?1:Ti(_i(_),0);var T=null==v?0:v.length;if(!T||_<1)return[];for(var S=0,w=0,E=Array(bi(T/_));S<T;)E[w++]=Mn(v,S,S+=_);return E},wi=function(v){function AtGrid(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleClick=function(v,b,T,S){var w=_.props,E=w.onClick,C=w.columnNum;"function"==typeof E&&E(v,T*(void 0===C?3:C)+b,S)},_}return __extends(AtGrid,v),AtGrid.prototype.render=function(){var v=this,_=this.props,b=_.data,T=_.mode,S=_.columnNum,C=void 0===S?3:S,k=_.hasBorder;if(Array.isArray(b)&&0===b.length)return null;var x=Si(b,C),P=I(["at-grid__flex-item","at-grid-item","at-grid-item--"+T],{"at-grid-item--no-border":!k});return w.a.createElement(E.q,{"className":I("at-grid",this.props.className)},x.map((function(_,b){return w.a.createElement(E.q,{"className":"at-grid__flex","key":"at-grid-group-"+b},_.map((function(_,T){var S;return w.a.createElement(E.q,{"key":"at-grid-item-"+T,"className":I(P,{"at-grid-item--last":T===C-1}),"onClick":v.handleClick.bind(v,_,T,b),"style":{"flex":"0 0 "+100/C+"%"}},w.a.createElement(E.q,{"className":"at-grid-item__content"},w.a.createElement(E.q,{"className":"at-grid-item__content-inner"},w.a.createElement(E.q,{"className":"content-inner__icon"},_.image&&w.a.createElement(E.c,{"className":"content-inner__img","src":_.image,"mode":"scaleToFill"}),_.iconInfo&&!_.image&&w.a.createElement(E.o,{"className":I(_.iconInfo.prefixClass||"at-icon",(S={},S[(_.iconInfo.prefixClass||"at-icon")+"-"+_.iconInfo.value]=_.iconInfo.value,S),_.iconInfo.className),"style":mergeStyle({"color":_.iconInfo.color,"fontSize":(_.iconInfo.size||24)+"px"},_.iconInfo.customStyle)})),w.a.createElement(E.o,{"className":"content-inner__text"},_.value))))})))})))},AtGrid}(w.a.Component);wi.defaultProps={"data":[],"columnNum":3,"mode":"square","hasBorder":!0},wi.propTypes={"mode":cn.string,"onClick":cn.func,"hasBorder":cn.bool,"columnNum":cn.number,"data":cn.arrayOf(cn.shape({"image":cn.string,"value":cn.string,"iconInfo":cn.shape({"size":cn.number,"value":cn.string,"color":cn.string,"prefixClass":cn.string,"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string])})}))};var Ei=function(v){function AtIcon(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtIcon,v),AtIcon.prototype.handleClick=function(){this.props.onClick&&this.props.onClick(arguments)},AtIcon.prototype.render=function(){var v=this.props,_=v.customStyle,b=v.className,T=v.prefixClass,S=v.value,C=v.size,k=v.color,x={"fontSize":""+pxTransform(2*parseInt(String(C))),"color":k},P=S?T+"-"+S:"";return w.a.createElement(E.o,{"className":I(T,P,b),"style":mergeStyle(x,_),"onClick":this.handleClick.bind(this)})},AtIcon}(w.a.Component);Ei.defaultProps={"customStyle":"","className":"","prefixClass":"at-icon","value":"","color":"","size":24},Ei.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"prefixClass":cn.string,"value":cn.string,"color":cn.string,"size":cn.oneOfType([cn.string,cn.number]),"onClick":cn.func};var Ci=function(v){function AtInput(){var _=null!==v&&v.apply(this,arguments)||this;return _.inputClearing=!1,_.handleInput=function(v){return _.props.onChange(v.detail.value,v)},_.handleFocus=function(v){"function"==typeof _.props.onFocus&&_.props.onFocus(v.detail.value,v)},_.handleBlur=function(v){"function"==typeof _.props.onBlur&&_.props.onBlur(v.detail.value,v),"blur"!==v.type||_.inputClearing||_.props.onChange(v.detail.value,v),_.inputClearing=!1},_.handleConfirm=function(v){"function"==typeof _.props.onConfirm&&_.props.onConfirm(v.detail.value,v)},_.handleClick=function(v){_.props.editable||"function"!=typeof _.props.onClick||_.props.onClick(v)},_.handleClearValue=function(v){_.inputClearing=!0,_.props.onChange("",v)},_.handleKeyboardHeightChange=function(v){"function"==typeof _.props.onKeyboardHeightChange&&_.props.onKeyboardHeightChange(v)},_.handleErrorClick=function(v){"function"==typeof _.props.onErrorClick&&_.props.onErrorClick(v)},_}return __extends(AtInput,v),AtInput.prototype.render=function(){var v=this.props,_=v.className,b=v.customStyle,T=v.name,S=v.cursorSpacing,C=v.confirmType,k=v.cursor,x=v.selectionStart,P=v.selectionEnd,O=v.adjustPosition,L=v.border,D=v.title,N=v.error,R=v.clear,B=v.placeholder,j=v.placeholderStyle,U=v.placeholderClass,V=v.autoFocus,H=v.focus,W=v.value,q=v.required,G=function getInputProps(v){var _={"type":v.type,"maxLength":v.maxlength,"disabled":v.disabled,"password":!1};switch(_.type){case"phone":_.type="number",_.maxLength=11;break;case"password":_.type="text",_.password=!0}return v.disabled||v.editable||(_.disabled=!0),_}(this.props),Y=G.type,X=G.maxlength,K=G.disabled,Q=G.password,J=I("at-input",{"at-input--without-border":!L},_),Z=I("at-input__container",{"at-input--error":N,"at-input--disabled":K}),ee=I("at-input__overlay",{"at-input__overlay--hidden":!K}),te=I("placeholder",U);return w.a.createElement(E.q,{"className":J,"style":b},w.a.createElement(E.q,{"className":Z},w.a.createElement(E.q,{"className":ee,"onClick":this.handleClick}),D&&w.a.createElement(E.e,{"className":"at-input__title "+(q&&"at-input__title--required"),"for":T},D),w.a.createElement(E.d,{"className":"at-input__input","id":T,"name":T,"type":Y,"password":Q,"placeholderStyle":j,"placeholderClass":te,"placeholder":B,"cursorSpacing":S,"maxlength":X,"autoFocus":V,"focus":H,"value":W,"confirmType":C,"cursor":k,"selectionStart":x,"selectionEnd":P,"adjustPosition":O,"onInput":this.handleInput,"onFocus":this.handleFocus,"onBlur":this.handleBlur,"onConfirm":this.handleConfirm,"onKeyboardHeightChange":this.handleKeyboardHeightChange}),R&&W&&w.a.createElement(E.q,{"className":"at-input__icon","onTouchEnd":this.handleClearValue},w.a.createElement(E.o,{"className":"at-icon at-icon-close-circle at-input__icon-close"})),N&&w.a.createElement(E.q,{"className":"at-input__icon","onTouchStart":this.handleErrorClick},w.a.createElement(E.o,{"className":"at-icon at-icon-alert-circle at-input__icon-alert"})),w.a.createElement(E.q,{"className":"at-input__children"},this.props.children)))},AtInput}(w.a.Component);Ci.defaultProps={"className":"","customStyle":"","value":"","name":"","placeholder":"","placeholderStyle":"","placeholderClass":"","title":"","cursorSpacing":50,"confirmType":"done","cursor":0,"selectionStart":-1,"selectionEnd":-1,"adjustPosition":!0,"maxlength":140,"type":"text","disabled":!1,"border":!0,"editable":!0,"error":!1,"clear":!1,"autoFocus":!1,"focus":!1,"required":!1,"onChange":function onChange(){}},Ci.propTypes={"className":cn.oneOfType([cn.string,cn.array]),"customStyle":cn.oneOfType([cn.string,cn.object]),"value":cn.oneOfType([cn.string,cn.number]),"name":cn.string,"placeholder":cn.string,"placeholderStyle":cn.string,"placeholderClass":cn.string,"title":cn.string,"confirmType":cn.string,"cursor":cn.oneOfType([cn.string,cn.number]),"selectionStart":cn.oneOfType([cn.string,cn.number]),"selectionEnd":cn.oneOfType([cn.string,cn.number]),"adjustPosition":cn.bool,"cursorSpacing":cn.oneOfType([cn.string,cn.number]),"maxlength":cn.oneOfType([cn.string,cn.number]),"type":cn.string,"disabled":cn.bool,"border":cn.bool,"editable":cn.bool,"error":cn.bool,"clear":cn.bool,"autoFocus":cn.bool,"focus":cn.bool,"onChange":cn.func,"onFocus":cn.func,"onBlur":cn.func,"onConfirm":cn.func,"onErrorClick":cn.func,"onClick":cn.func,"required":cn.bool};var ki=function arrayMap(v,_){for(var b=-1,T=null==v?0:v.length,S=Array(T);++b<T;)S[b]=_(v[b],b,v);return S},xi=Array.isArray,Ai=jn?jn.prototype:void 0,Pi=Ai?Ai.toString:void 0;var Ii=function baseToString(v){if("string"==typeof v)return v;if(xi(v))return ki(v,baseToString)+"";if(di(v))return Pi?Pi.call(v):"";var _=v+"";return"0"==_&&1/v==-1/0?"-0":_};var Oi=function toString(v){return null==v?"":Ii(v)};function addNum(v,_){var b,T;try{b=Oi(v).split(".")[1].length}catch(v){b=0}try{T=Oi(_).split(".")[1].length}catch(v){T=0}var S=Math.pow(10,Math.max(b,T));return(Math.round(v*S)+Math.round(_*S))/S}function parseValue(v){if(""===v)return"0";var _=Oi(v);return 0===_.indexOf("0")&&-1===_.indexOf(".")?Oi(parseFloat(v)):Oi(v)}var Li=function(v){function AtInputNumber(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleValue=function(v){var b=_.props,T=b.max,S=void 0===T?100:T,w=b.min,E=void 0===w?0:w,C=""===v?E:v;return C>S&&(C=S,_.handleError({"type":"OVER","errorValue":C})),C<E&&(C=E,_.handleError({"type":"LOW","errorValue":C})),C&&!Number(C)&&(C=parseFloat(String(C))||E,_.handleError({"type":"OVER","errorValue":C})),C=parseValue(String(C))},_.handleInput=function(v){var b=v.target.value;if(_.props.disabled)return"";var T=_.handleValue(b);return _.props.onChange(Number(T),v),T},_.handleBlur=function(v){return _.props.onBlur&&_.props.onBlur(v)},_.handleError=function(v){_.props.onErrorInput&&_.props.onErrorInput(v)},_}return __extends(AtInputNumber,v),AtInputNumber.prototype.handleClick=function(v,_){var b=this.props,T=b.disabled,S=b.value,w=b.min,E=void 0===w?0:w,C=b.max,k=void 0===C?100:C,x=b.step,P=void 0===x?1:x,I="minus"===v&&S<=E;if(I||"plus"===v&&S>=k||T){var O="minus"===v?-P:P,L=addNum(Number(S),O);T?this.handleError({"type":"DISABLED","errorValue":L}):this.handleError({"type":I?"LOW":"OVER","errorValue":L})}else{var D="minus"===v?-P:P,N=addNum(Number(S),D);N=Number(this.handleValue(N)),this.props.onChange(N,_)}},AtInputNumber.prototype.render=function(){var v=this.props,_=v.customStyle,b=v.className,T=v.width,S=v.disabled,C=v.value,k=v.type,x=v.min,P=void 0===x?0:x,O=v.max,L=void 0===O?100:O,D=v.size,N=v.disabledInput,R={"width":T?""+pxTransform(T):""},B=Number(this.handleValue(C)),j=I("at-input-number",{"at-input-number--lg":"large"===D},b),U=I("at-input-number__btn",{"at-input-number--disabled":B<=P||S}),V=I("at-input-number__btn",{"at-input-number--disabled":B>=L||S});return w.a.createElement(E.q,{"className":j,"style":_},w.a.createElement(E.q,{"className":U,"onClick":this.handleClick.bind(this,"minus")},w.a.createElement(E.o,{"className":"at-icon at-icon-subtract at-input-number__btn-subtract"})),w.a.createElement(E.d,{"className":"at-input-number__input","style":R,"type":k,"value":String(B),"disabled":N||S,"onInput":this.handleInput,"onBlur":this.handleBlur}),w.a.createElement(E.q,{"className":V,"onClick":this.handleClick.bind(this,"plus")},w.a.createElement(E.o,{"className":"at-icon at-icon-add at-input-number__btn-add"})))},AtInputNumber}(w.a.Component);Li.defaultProps={"customStyle":"","className":"","disabled":!1,"disabledInput":!1,"value":1,"type":"number","width":0,"min":0,"max":100,"step":1,"size":"normal","onChange":function onChange(){}},Li.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"value":cn.oneOfType([cn.number,cn.string]),"type":cn.oneOf(["number","digit"]),"disabled":cn.bool,"width":cn.number,"min":cn.number,"max":cn.number,"step":cn.number,"size":cn.oneOf(["normal","large"]),"disabledInput":cn.bool,"onChange":cn.func,"onBlur":cn.func,"onErrorInput":cn.func};var Mi=function(v){function AtModalAction(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtModalAction,v),AtModalAction.prototype.render=function(){var v=I("at-modal__footer",{"at-modal__footer--simple":this.props.isSimple},this.props.className);return w.a.createElement(E.q,{"className":v},w.a.createElement(E.q,{"className":"at-modal__action"},this.props.children))},AtModalAction}(w.a.Component);Mi.defaultProps={"isSimple":!1},Mi.propTypes={"isSimple":cn.bool};var Di=function(v){function AtModalContent(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtModalContent,v),AtModalContent.prototype.render=function(){var v=I("at-modal__content",this.props.className);return w.a.createElement(E.j,{"scrollY":!0,"className":v},this.props.children)},AtModalContent}(w.a.Component),Ni=function(v){function AtModalHeader(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtModalHeader,v),AtModalHeader.prototype.render=function(){var v=I("at-modal__header",this.props.className);return w.a.createElement(E.q,{"className":v},this.props.children)},AtModalHeader}(w.a.Component),Ri=function(v){function AtModal(_){var b=v.call(this,_)||this;b.handleClickOverlay=function(){b.props.closeOnClickOverlay&&b.setState({"_isOpened":!1},b.handleClose)},b.handleClose=function(v){"function"==typeof b.props.onClose&&b.props.onClose(v)},b.handleCancel=function(v){"function"==typeof b.props.onCancel&&b.props.onCancel(v)},b.handleConfirm=function(v){"function"==typeof b.props.onConfirm&&b.props.onConfirm(v)},b.handleTouchMove=function(v){v.stopPropagation()};var T=_.isOpened;return b.state={"_isOpened":T,"isWEB":C.default.getEnv()===C.default.ENV_TYPE.WEB},b}return __extends(AtModal,v),AtModal.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.isOpened;this.props.isOpened!==_&&handleTouchScroll(_),_!==this.state._isOpened&&this.setState({"_isOpened":_})},AtModal.prototype.render=function(){var v=this.state,_=v._isOpened,b=v.isWEB,T=this.props,S=T.title,C=T.content,k=T.cancelText,x=T.confirmText,P=I("at-modal",{"at-modal--active":_},this.props.className);if(S||C){var O=k||x;return w.a.createElement(E.q,{"className":P},w.a.createElement(E.q,{"onClick":this.handleClickOverlay,"className":"at-modal__overlay"}),w.a.createElement(E.q,{"className":"at-modal__container"},S&&w.a.createElement(Ni,null,w.a.createElement(E.o,null,S)),C&&w.a.createElement(Di,null,w.a.createElement(E.q,{"className":"content-simple"},b?w.a.createElement(E.o,{"dangerouslySetInnerHTML":{"__html":C.replace(/\n/g,"<br/>")}}):w.a.createElement(E.o,null,C))),O&&w.a.createElement(Mi,{"isSimple":!0},k&&w.a.createElement(E.a,{"onClick":this.handleCancel},k),x&&w.a.createElement(E.a,{"onClick":this.handleConfirm},x))))}return w.a.createElement(E.q,{"onTouchMove":this.handleTouchMove,"className":P},w.a.createElement(E.q,{"className":"at-modal__overlay","onClick":this.handleClickOverlay}),w.a.createElement(E.q,{"className":"at-modal__container"},this.props.children))},AtModal}(w.a.Component);Ri.defaultProps={"isOpened":!1,"closeOnClickOverlay":!0},Ri.propTypes={"title":cn.string,"isOpened":cn.bool,"onCancel":cn.func,"onConfirm":cn.func,"onClose":cn.func,"content":cn.string,"closeOnClickOverlay":cn.bool,"cancelText":cn.string,"confirmText":cn.string};var Bi=function(v){function AtNavBar(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtNavBar,v),AtNavBar.prototype.handleClickLeftView=function(v){this.props.onClickLeftIcon&&this.props.onClickLeftIcon(v)},AtNavBar.prototype.handleClickSt=function(v){this.props.onClickRgIconSt&&this.props.onClickRgIconSt(v)},AtNavBar.prototype.handleClickNd=function(v){this.props.onClickRgIconNd&&this.props.onClickRgIconNd(v)},AtNavBar.prototype.render=function(){var v,_,b,T=this.props,S=T.customStyle,C=T.className,k=T.color,P=T.fixed,O=T.border,L=T.leftIconType,D=T.leftText,N=T.title,R=T.rightFirstIconType,B=T.rightSecondIconType,j={"color":k},U={"customStyle":"","className":"","prefixClass":"at-icon","value":"","color":"","size":24},V=x(x({},U),L instanceof Object?L:{"value":L}),H=I(V.prefixClass,((v={})[V.prefixClass+"-"+V.value]=V.value,v),V.className),W=x(x({},U),R instanceof Object?R:{"value":R}),q=I(W.prefixClass,((_={})[W.prefixClass+"-"+W.value]=W.value,_),W.className),G=x(x({},U),B instanceof Object?B:{"value":B}),Y=I(G.prefixClass,((b={})[G.prefixClass+"-"+G.value]=G.value,b),G.className);return w.a.createElement(E.q,{"className":I({"at-nav-bar":!0,"at-nav-bar--fixed":P,"at-nav-bar--no-border":!O},C),"style":S},w.a.createElement(E.q,{"className":"at-nav-bar__left-view","onClick":this.handleClickLeftView.bind(this),"style":j},L&&w.a.createElement(E.o,{"className":H,"style":mergeStyle({"color":V.color,"fontSize":""+pxTransform(2*parseInt(V.size.toString()))},V.customStyle)}),w.a.createElement(E.o,{"className":"at-nav-bar__text"},D)),w.a.createElement(E.q,{"className":"at-nav-bar__title"},N||this.props.children),w.a.createElement(E.q,{"className":"at-nav-bar__right-view"},w.a.createElement(E.q,{"className":I({"at-nav-bar__container":!0,"at-nav-bar__container--hide":!B}),"style":j,"onClick":this.handleClickNd.bind(this)},B&&w.a.createElement(E.o,{"className":Y,"style":mergeStyle({"color":G.color,"fontSize":""+pxTransform(2*parseInt(G.size.toString()))},G.customStyle)})),w.a.createElement(E.q,{"className":I({"at-nav-bar__container":!0,"at-nav-bar__container--hide":!R}),"style":j,"onClick":this.handleClickSt.bind(this)},R&&w.a.createElement(E.o,{"className":q,"style":mergeStyle({"color":W.color,"fontSize":""+pxTransform(2*parseInt(W.size.toString()))},W.customStyle)}))))},AtNavBar}(w.a.Component);Bi.defaultProps={"customStyle":"","className":"","fixed":!1,"border":!0,"color":"","leftIconType":"","leftText":"","title":"","rightFirstIconType":"","rightSecondIconType":""},Bi.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"fixed":cn.bool,"border":cn.bool,"color":cn.string,"leftIconType":cn.oneOfType([cn.string,cn.object]),"leftText":cn.string,"title":cn.string,"rightFirstIconType":cn.oneOfType([cn.string,cn.object]),"rightSecondIconType":cn.oneOfType([cn.string,cn.object]),"onClickLeftIcon":cn.func,"onClickRgIconSt":cn.func,"onClickRgIconNd":cn.func};var ji=function(v){function AtNoticebar(_){var b=v.call(this,_)||this,T="J_"+Math.ceil(1e6*Math.random()).toString(36);return b.state={"show":!0,"animElemId":T,"animationData":{"actions":[{}]},"dura":15,"isWEAPP":C.default.getEnv()===C.default.ENV_TYPE.WEAPP,"isALIPAY":C.default.getEnv()===C.default.ENV_TYPE.ALIPAY,"isWEB":C.default.getEnv()===C.default.ENV_TYPE.WEB},b}return __extends(AtNoticebar,v),AtNoticebar.prototype.onClose=function(v){this.setState({"show":!1}),this.props.onClose&&this.props.onClose(v)},AtNoticebar.prototype.onGotoMore=function(v){this.props.onGotoMore&&this.props.onGotoMore(v)},AtNoticebar.prototype.UNSAFE_componentWillReceiveProps=function(){this.timeout||(this.interval&&clearInterval(this.interval),this.initAnimation())},AtNoticebar.prototype.componentDidMount=function(){this.props.marquee&&this.initAnimation()},AtNoticebar.prototype.initAnimation=function(){var v=this,_=this.state,b=_.isWEAPP,T=_.isALIPAY;this.timeout=setTimeout((function(){if(v.timeout=null,v.state.isWEB){var _=v.props.speed,S=void 0===_?100:_,w=document.querySelector("."+v.state.animElemId);if(!w)return;var E=w.getBoundingClientRect().width/+S;v.setState({"dura":E})}else if(b||T){Object(C.createSelectorQuery)().select("."+v.state.animElemId).boundingClientRect().exec((function(_){var b=_[0];if(b){var T=b.width,S=v.props.speed,w=T/+(void 0===S?100:S),E=Object(C.createAnimation)({"duration":1e3*w,"timingFunction":"linear"}),k=Object(C.createAnimation)({"duration":0,"timingFunction":"linear"}),x=Object(C.createAnimation)({"duration":0,"timingFunction":"linear"}),P=function animBody(){x.opacity(0).step(),v.setState({"animationData":x.export()}),setTimeout((function(){k.translateX(0).step(),v.setState({"animationData":k.export()})}),300),setTimeout((function(){x.opacity(1).step(),v.setState({"animationData":x.export()})}),600),setTimeout((function(){E.translateX(-T).step(),v.setState({"animationData":E.export()})}),900)};P(),v.interval=setInterval(P,1e3*w+1e3)}}))}}),1e3)},AtNoticebar.prototype.render=function(){var v=this.props,_=v.single,b=v.icon,T=v.marquee,S=v.customStyle,C=v.className,k=v.moreText,x=void 0===k?"查看详情":k,P=this.props,O=P.showMore,L=P.close,D=this.state,N=D.dura,R=D.show,B=D.animElemId,j=D.animationData,U=D.isWEAPP,V=D.isALIPAY;_||(O=!1);var H={},W=["at-noticebar__content-inner"];T&&(L=!1,H["animation-duration"]=N+"s",W.push(B));var q={"at-noticebar--marquee":T,"at-noticebar--weapp":T&&(U||V),"at-noticebar--single":!T&&_},G=["at-icon"];return b&&G.push("at-icon-"+b),R&&w.a.createElement(E.q,{"className":I(["at-noticebar"],q,C),"style":S},L&&w.a.createElement(E.q,{"className":"at-noticebar__close","onClick":this.onClose.bind(this)},w.a.createElement(E.o,{"className":"at-icon at-icon-close"})),w.a.createElement(E.q,{"className":"at-noticebar__content"},b&&w.a.createElement(E.q,{"className":"at-noticebar__content-icon"},w.a.createElement(E.o,{"className":I(G,G)})),w.a.createElement(E.q,{"className":"at-noticebar__content-text"},w.a.createElement(E.q,{"id":B,"animation":j,"className":I(W),"style":H},this.props.children))),O&&w.a.createElement(E.q,{"className":"at-noticebar__more","onClick":this.onGotoMore.bind(this)},w.a.createElement(E.o,{"className":"text"},x),w.a.createElement(E.q,{"className":"at-noticebar__more-icon"},w.a.createElement(E.o,{"className":"at-icon at-icon-chevron-right"}))))},AtNoticebar}(w.a.Component);ji.defaultProps={"close":!1,"single":!1,"marquee":!1,"speed":100,"moreText":"查看详情","showMore":!1,"icon":"","customStyle":{}},ji.propTypes={"close":cn.bool,"single":cn.bool,"marquee":cn.bool,"speed":cn.number,"moreText":cn.string,"showMore":cn.bool,"icon":cn.string,"customStyle":cn.oneOfType([cn.object,cn.string]),"onClose":cn.func,"onGotoMore":cn.func};var Ui=function getMaxPage(v){return void 0===v&&(v=0),v<=0?1:v},Fi=function createPickerRange(v){return new Array(v).fill(0).map((function(v,_){return _+1}))},Vi=function(v){function AtPagination(_){var b=v.call(this,_)||this,T=b.props,S=T.current,w=T.pageSize,E=void 0===w?20:w,C=T.total,k=Ui(Math.ceil(C/E));return b.state={"currentPage":S||1,"maxPage":k,"pickerRange":Fi(k)},b}return __extends(AtPagination,v),AtPagination.prototype.onPrev=function(){var v=this.state.currentPage,_=v;v-=1,_!==(v=Math.max(1,v))&&(this.props.onPageChange&&this.props.onPageChange({"type":"prev","current":v}),this.setState({"currentPage":v}))},AtPagination.prototype.onNext=function(){var v=this.state.currentPage,_=v,b=this.state.maxPage;v+=1,_!==(v=Math.min(b,v))&&(this.props.onPageChange&&this.props.onPageChange({"type":"next","current":v}),this.setState({"currentPage":v}))},AtPagination.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.total,b=v.pageSize,T=void 0===b?20:b,S=v.current,w=Ui(Math.ceil(_/T));w!==this.state.maxPage&&this.setState({"maxPage":w,"pickerRange":Fi(w)}),"number"==typeof S&&S!==this.state.currentPage&&this.setState({"currentPage":S})},AtPagination.prototype.render=function(){var v=this.props,_=v.icon,b=v.customStyle,T=this.state,S=T.currentPage,C=T.maxPage,k=1===C||1===S,x=1===C||S===C,P={"at-pagination--icon":_};return w.a.createElement(E.q,{"className":I(["at-pagination"],P,this.props.className),"style":b},w.a.createElement(E.q,{"className":"at-pagination__btn-prev"},_&&w.a.createElement(Cn,{"onClick":this.onPrev.bind(this),"size":"small","disabled":k},w.a.createElement(E.o,{"className":"at-icon at-icon-chevron-left"})),!_&&w.a.createElement(Cn,{"onClick":this.onPrev.bind(this),"size":"small","disabled":k},"上一页")),w.a.createElement(E.q,{"className":"at-pagination__number"},w.a.createElement(E.o,{"className":"at-pagination__number-current"},S),"/",C),w.a.createElement(E.q,{"className":"at-pagination__btn-next"},_&&w.a.createElement(Cn,{"onClick":this.onNext.bind(this),"size":"small","disabled":x},w.a.createElement(E.o,{"className":"at-icon at-icon-chevron-right"})),!_&&w.a.createElement(Cn,{"onClick":this.onNext.bind(this),"size":"small","disabled":x},"下一页")))},AtPagination}(w.a.Component);Vi.defaultProps={"current":1,"total":0,"pageSize":20,"icon":!1,"customStyle":{}},Vi.propTypes={"current":cn.number,"total":cn.number,"pageSize":cn.number,"icon":cn.bool,"customStyle":cn.oneOfType([cn.object,cn.string]),"onPageChange":cn.func},(function(v){function AtProgress(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtProgress,v),AtProgress.prototype.render=function(){var v,_=this.props.color,b=this.props.percent,T=this.props,S=T.strokeWidth,C=T.status,k=T.isHidePercent;"number"!=typeof b&&(b=0),b<0?b=0:b>100&&(b=100);var x=I("at-progress",((v={})["at-progress--"+C]=!!C,v),this.props.className),P=I("at-icon",{"at-icon-close-circle":"error"===C,"at-icon-check-circle":"success"===C}),O={"width":b&&+b+"%","height":S&&+S+"px","backgroundColor":_};return w.a.createElement(E.q,{"className":x},w.a.createElement(E.q,{"className":"at-progress__outer"},w.a.createElement(E.q,{"className":"at-progress__outer-inner"},w.a.createElement(E.q,{"className":"at-progress__outer-inner-background","style":O}))),!k&&w.a.createElement(E.q,{"className":"at-progress__content"},C&&"progress"!==C?w.a.createElement(E.o,{"className":P}):b+"%"))},AtProgress}(w.a.Component)).propTypes={"color":cn.string,"status":cn.string,"percent":cn.number,"strokeWidth":cn.number,"isHidePercent":cn.bool};var Hi=function(v){function AtRadio(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtRadio,v),AtRadio.prototype.handleClick=function(v,_){v.disabled||this.props.onClick(v.value,_)},AtRadio.prototype.render=function(){var v=this,_=this.props,b=_.customStyle,T=_.className,S=_.options,C=_.value;return w.a.createElement(E.q,{"className":I("at-radio",T),"style":b},S.map((function(_){return w.a.createElement(E.q,{"key":_.value,"onClick":v.handleClick.bind(v,_),"className":I({"at-radio__option":!0,"at-radio__option--disabled":_.disabled})},w.a.createElement(E.q,{"className":"at-radio__option-wrap"},w.a.createElement(E.q,{"className":"at-radio__option-container"},w.a.createElement(E.q,{"className":"at-radio__title"},_.label),w.a.createElement(E.q,{"className":I({"at-radio__icon":!0,"at-radio__icon--checked":C===_.value})},w.a.createElement(E.o,{"className":"at-icon at-icon-check"}))),_.desc&&w.a.createElement(E.q,{"className":"at-radio__desc"},_.desc)))})))},AtRadio}(w.a.Component);Hi.defaultProps={"customStyle":"","className":"","value":"","options":[],"onClick":function onClick(){}},Hi.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"value":cn.string,"options":cn.array,"onClick":cn.func};var Wi=function(v){function AtRate(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtRate,v),AtRate.prototype.handleClick=function(v){this.props.onChange&&this.props.onChange(v)},AtRate.prototype.render=function(){for(var v=this,_=this.props,b=_.customStyle,T=_.className,S=_.value,C=void 0===S?0:S,k=_.max,x=void 0===k?5:k,P=_.size,O=_.margin,L={"marginRight":pxTransform(void 0===O?5:O)},D={"fontSize":P?P+"px":""},N=[],R=Math.floor(C),B=Math.ceil(C),j=0;j<x;j++)R>j?N.push("at-rate__icon at-rate__icon--on"):B-1===j?N.push("at-rate__icon at-rate__icon--half"):N.push("at-rate__icon at-rate__icon--off");return w.a.createElement(E.q,{"className":I("at-rate",T),"style":b},N.map((function(_,b){return w.a.createElement(E.q,{"className":_,"key":"at-rate-star-"+b,"style":L,"onClick":v.handleClick.bind(v,b+1)},w.a.createElement(E.o,{"className":"at-icon at-icon-star-2","style":D}),w.a.createElement(E.q,{"className":"at-rate__left"},w.a.createElement(E.o,{"className":"at-icon at-icon-star-2","style":D})))})))},AtRate}(w.a.Component);Wi.defaultProps={"customStyle":"","className":"","size":0,"value":0,"max":5,"margin":5},Wi.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"size":cn.oneOfType([cn.string,cn.number]),"value":cn.number,"max":cn.number,"margin":cn.number,"onChange":cn.func};var qi=function(v){function AtSegmentedControl(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtSegmentedControl,v),AtSegmentedControl.prototype.handleClick=function(v,_){this.props.disabled||this.props.onClick(v,_)},AtSegmentedControl.prototype.render=function(){var v=this,_=this.props,b=_.customStyle,T=void 0===b?"":b,S=_.className,C=_.disabled,k=_.values,x=_.selectedColor,P=_.current,O=_.color,L=_.fontSize,D=void 0===L?28:L,N={"borderColor":x},R={"color":x,"fontSize":pxTransform(D),"borderColor":x,"backgroundColor":O},B={"color":O,"fontSize":pxTransform(D),"borderColor":x,"backgroundColor":x},j=I("at-segmented-control",{"at-segmented-control--disabled":C},S);return w.a.createElement(E.q,{"className":j,"style":mergeStyle(N,T)},k.map((function(_,b){return w.a.createElement(E.q,{"className":I("at-segmented-control__item",{"at-segmented-control__item--active":P===b}),"style":P===b?B:R,"key":_,"onClick":v.handleClick.bind(v,b)},_)})))},AtSegmentedControl}(w.a.Component);qi.defaultProps={"customStyle":"","className":"","current":0,"color":"","fontSize":28,"disabled":!1,"selectedColor":"","values":[],"onClick":function onClick(){}},qi.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"current":cn.number,"color":cn.string,"fontSize":cn.oneOfType([cn.string,cn.number]),"disabled":cn.bool,"values":cn.array,"onClick":cn.func};var zi=function(v){function AtSwitch(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleChange=function(v){var b=v.detail,T=b.value,S=b.checked,w=void 0===T?S:T;_.props.onChange&&_.props.onChange(w)},_}return __extends(AtSwitch,v),AtSwitch.prototype.render=function(){var v=this.props,_=v.customStyle,b=v.className,T=v.disabled,S=v.border,C=v.title,k=v.checked,x=v.color,P=I("at-switch",{"at-switch--without-border":!S},b),O=I("at-switch__container",{"at-switch--disabled":T});return w.a.createElement(E.q,{"className":P,"style":_},w.a.createElement(E.q,{"className":"at-switch__title"},C),w.a.createElement(E.q,{"className":O},w.a.createElement(E.q,{"className":"at-switch__mask"}),w.a.createElement(E.n,{"className":"at-switch__switch","checked":k,"color":x,"onChange":this.handleChange})))},AtSwitch}(w.a.Component);zi.defaultProps={"customStyle":"","className":"","title":"","color":"#6190e8","border":!0,"disabled":!1,"checked":!1},zi.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"title":cn.string,"color":cn.string,"checked":cn.bool,"border":cn.bool,"disabled":cn.bool,"onChange":cn.func};var Gi=function(v){function AtTabBar(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtTabBar,v),AtTabBar.prototype.handleClick=function(v,_){this.props.onClick(v,_)},AtTabBar.prototype.render=function(){var v=this,_=this.props,b=_.customStyle,T=void 0===b?"":b,S=_.className,C=_.fixed,k=_.backgroundColor,x=_.tabList,P=_.current,O=_.color,L=_.iconSize,D=_.fontSize,N=_.selectedColor,R={"color":O||""},B={"color":N||""},j={"fontSize":D?D+"px":""},U={"backgroundColor":k||""},V={"width":L+"px","height":L+"px"};return w.a.createElement(E.q,{"className":I({"at-tab-bar":!0,"at-tab-bar--fixed":C},S),"style":mergeStyle(U,T)},x.map((function(_,b){var T;return w.a.createElement(E.q,{"className":I("at-tab-bar__item",{"at-tab-bar__item--active":P===b}),"style":P===b?B:R,"key":_.title,"onClick":v.handleClick.bind(v,b)},_.iconType?w.a.createElement(Sn,{"dot":!!_.dot,"value":_.text,"maxValue":Number(_.max)},w.a.createElement(E.q,{"className":"at-tab-bar__icon"},w.a.createElement(E.o,{"className":I(""+(_.iconPrefixClass||"at-icon"),(T={},T[(_.iconPrefixClass||"at-icon")+"-"+_.selectedIconType]=P===b&&_.selectedIconType,T[(_.iconPrefixClass||"at-icon")+"-"+_.iconType]=!(P===b&&_.selectedIconType),T)),"style":{"color":P===b?N:O,"fontSize":L?L+"px":""}}))):null,_.image?w.a.createElement(Sn,{"dot":!!_.dot,"value":_.text,"maxValue":Number(_.max)},w.a.createElement(E.q,{"className":"at-tab-bar__icon"},w.a.createElement(E.c,{"className":I("at-tab-bar__inner-img",{"at-tab-bar__inner-img--inactive":P!==b}),"mode":"widthFix","src":_.selectedImage||_.image,"style":V}),w.a.createElement(E.c,{"className":I("at-tab-bar__inner-img",{"at-tab-bar__inner-img--inactive":P===b}),"mode":"widthFix","src":_.image,"style":V}))):null,w.a.createElement(E.q,null,w.a.createElement(Sn,{"dot":!_.iconType&&!_.image&&!!_.dot,"value":_.iconType||_.image?"":_.text,"maxValue":_.iconType||_.image?0:Number(_.max)},w.a.createElement(E.q,{"className":"at-tab-bar__title","style":j},_.title))))})))},AtTabBar}(w.a.Component);Gi.defaultProps={"customStyle":"","className":"","fixed":!1,"current":0,"tabList":[],"onClick":function onClick(){}},Gi.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"fixed":cn.bool,"backgroundColor":cn.string,"current":cn.number,"iconSize":cn.oneOfType([cn.number,cn.string]),"fontSize":cn.oneOfType([cn.number,cn.string]),"color":cn.string,"selectedColor":cn.string,"tabList":cn.array,"onClick":cn.func};var Yi=C.default.getEnv(),Xi=function(v){function AtTabs(_){var b=v.call(this,_)||this;return b.updateState=function(v){if(b.props.scroll)switch(Yi){case C.default.ENV_TYPE.WEAPP:case C.default.ENV_TYPE.ALIPAY:case C.default.ENV_TYPE.SWAN:var _=Math.max(v-1,0);b.setState({"_scrollIntoView":"tab"+b._tabId+_});break;case C.default.ENV_TYPE.WEB:_=Math.max(v-1,0);var T=b.tabHeaderRef.childNodes[_];T&&b.setState({"_scrollTop":T.offsetTop,"_scrollLeft":T.offsetLeft});break;default:console.warn("AtTab 组件在该环境还未适配")}},b.state={"_scrollLeft":0,"_scrollTop":0,"_scrollIntoView":""},b._tabId=uuid(),b._touchDot=0,b._timer=null,b._interval=0,b._isMoving=!1,b}return __extends(AtTabs,v),AtTabs.prototype.handleClick=function(v,_){this.props.onClick(v,_)},AtTabs.prototype.handleTouchStart=function(v){var _=this,b=this.props,T=b.swipeable,S=b.tabDirection;T&&"vertical"!==S&&(this._touchDot=v.touches[0].pageX,this._timer=setInterval((function(){_._interval++}),100))},AtTabs.prototype.handleTouchMove=function(v){var _=this.props,b=_.swipeable,T=_.tabDirection,S=_.current,w=_.tabList;if(b&&"vertical"!==T){var E=v.touches[0].pageX-this._touchDot,C=w.length;!this._isMoving&&this._interval<10&&this._touchDot>20&&(S+1<C&&E<=-100?(this._isMoving=!0,this.handleClick(S+1,v)):S-1>=0&&E>=100&&(this._isMoving=!0,this.handleClick(S-1,v)))}},AtTabs.prototype.handleTouchEnd=function(){var v=this.props,_=v.swipeable,b=v.tabDirection;_&&"vertical"!==b&&(clearInterval(this._timer),this._interval=0,this._isMoving=!1)},AtTabs.prototype.getTabHeaderRef=function(){Yi===C.default.ENV_TYPE.WEB&&(this.tabHeaderRef=document.getElementById(this._tabId))},AtTabs.prototype.UNSAFE_componentWillReceiveProps=function(v){v.scroll!==this.props.scroll&&this.getTabHeaderRef(),v.current!==this.props.current&&this.updateState(v.current)},AtTabs.prototype.componentDidMount=function(){this.getTabHeaderRef(),this.updateState(this.props.current)},AtTabs.prototype.componentWillUnmount=function(){this.tabHeaderRef=null},AtTabs.prototype.render=function(){var v,_=this,b=this.props,T=b.customStyle,S=void 0===T?"":T,C=b.className,k=b.height,x=b.tabDirection,P=b.animated,O=b.tabList,L=b.scroll,D=b.current,N=this.state,R=N._scrollLeft,B=N._scrollTop,j=N._scrollIntoView,U={"height":k},V={"height":"vertical"===x?100*O.length+"%":"1PX","width":"horizontal"===x?100*O.length+"%":"1PX"},H={},W="translate3d(0px, -"+100*D+"%, 0px)";"horizontal"===x&&(W="translate3d(-"+100*D+"%, 0px, 0px)"),Object.assign(H,{"transform":W,"-webkit-transform":W}),P||(H.transition="unset");var q=O.map((function(v,b){var T=I({"at-tabs__item":!0,"at-tabs__item--active":D===b});return w.a.createElement(E.q,{"className":T,"id":"tab"+_._tabId+b,"key":v.title,"onClick":_.handleClick.bind(_,b)},v.title,w.a.createElement(E.q,{"className":"at-tabs__item-underline"}))})),G=I(((v={"at-tabs":!0,"at-tabs--scroll":L})["at-tabs--"+x]=!0,v["at-tabs--"+Yi]=!0,v),C),Y="horizontal"===x,X="vertical"===x;return w.a.createElement(E.q,{"className":G,"style":mergeStyle(U,S)},L?w.a.createElement(E.j,{"id":this._tabId,"className":"at-tabs__header","style":U,"scrollX":Y,"scrollY":X,"scrollWithAnimation":!0,"scrollLeft":R,"scrollTop":B,"scrollIntoView":j},q):w.a.createElement(E.q,{"id":this._tabId,"className":"at-tabs__header"},q),w.a.createElement(E.q,{"className":"at-tabs__body","onTouchStart":this.handleTouchStart.bind(this),"onTouchEnd":this.handleTouchEnd.bind(this),"onTouchMove":this.handleTouchMove.bind(this),"style":mergeStyle(H,U)},w.a.createElement(E.q,{"className":"at-tabs__underline","style":V}),this.props.children))},AtTabs}(w.a.Component);Xi.defaultProps={"customStyle":"","className":"","tabDirection":"horizontal","height":"","current":0,"swipeable":!0,"scroll":!1,"animated":!0,"tabList":[],"onClick":function onClick(){}},Xi.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"height":cn.string,"tabDirection":cn.oneOf(["horizontal","vertical"]),"current":cn.number,"swipeable":cn.bool,"scroll":cn.bool,"animated":cn.bool,"tabList":cn.array,"onClick":cn.func};var Ki=function(v){function AtTabsPane(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtTabsPane,v),AtTabsPane.prototype.render=function(){var v=this.props,_=v.customStyle,b=v.className,T=v.tabDirection,S=v.index,C=v.current;return w.a.createElement(E.q,{"className":I({"at-tabs-pane":!0,"at-tabs-pane--vertical":"vertical"===T,"at-tabs-pane--active":S===C,"at-tabs-pane--inactive":S!==C},b),"style":_},this.props.children)},AtTabsPane}(w.a.Component);Ki.defaultProps={"customStyle":"","className":"","tabDirection":"horizontal","index":0,"current":0},Ki.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"tabDirection":cn.oneOf(["horizontal","vertical"]),"index":cn.number,"current":cn.number};var Qi={"normal":"normal","small":"small"},$i={"primary":"primary"},Ji=function(v){function AtTag(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtTag,v),AtTag.prototype.onClick=function(v){var _=this.props,b=_.name,T=void 0===b?"":b,S=_.active,w=void 0!==S&&S,E=_.disabled,C=_.onClick;E||"function"==typeof C&&C({"name":T,"active":w},v)},AtTag.prototype.render=function(){var v,_=this.props,b=_.size,T=void 0===b?"normal":b,S=_.type,C=void 0===S?"":S,k=_.circle,x=void 0!==k&&k,P=_.disabled,O=void 0!==P&&P,L=_.active,D=void 0!==L&&L,N=_.customStyle,R=((v={})["at-tag--"+Qi[T]]=Qi[T],v["at-tag--"+C]=$i[C],v["at-tag--disabled"]=O,v["at-tag--active"]=D,v["at-tag--circle"]=x,v);return w.a.createElement(E.q,{"className":I(["at-tag"],R,this.props.className),"style":N,"onClick":this.onClick.bind(this)},this.props.children)},AtTag}(w.a.Component);Ji.defaultProps={"size":"normal","type":"","name":"","circle":!1,"active":!1,"disabled":!1,"customStyle":{}},Ji.propTypes={"size":cn.oneOf(["normal","small"]),"type":cn.oneOf(["","primary"]),"name":cn.string,"circle":cn.bool,"active":cn.bool,"disabled":cn.bool,"customStyle":cn.oneOfType([cn.object,cn.string]),"onClick":cn.func};var Zi=C.default.getEnv(),er=function(v){function AtTextarea(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleInput=function(v){_.props.onChange(v.target.value,v)},_.handleFocus=function(v){_.props.onFocus&&_.props.onFocus(v)},_.handleBlur=function(v){_.props.onBlur&&_.props.onBlur(v)},_.handleConfirm=function(v){_.props.onConfirm&&_.props.onConfirm(v)},_.handleLinechange=function(v){_.props.onLinechange&&_.props.onLinechange(v)},_}return __extends(AtTextarea,v),AtTextarea.prototype.render=function(){var v=this.props,_=v.customStyle,b=v.className,T=v.value,S=v.cursorSpacing,C=v.placeholder,k=v.placeholderStyle,x=v.placeholderClass,P=v.maxLength,O=void 0===P?200:P,L=v.count,D=v.disabled,N=v.autoFocus,R=v.focus,B=v.showConfirmBar,j=v.selectionStart,U=v.selectionEnd,V=v.fixed,H=v.textOverflowForbidden,W=void 0===H||H,q=v.height,G=parseInt(O.toString()),Y=function getMaxLength(v,_){return _?v:v+500}(G,W),X=q?"height:"+pxTransform(Number(q)):"",K=I("at-textarea","at-textarea--"+Zi,{"at-textarea--error":G<T.length},b),Q=I("placeholder",x);return w.a.createElement(E.q,{"className":K,"style":_},w.a.createElement(E.p,{"className":"at-textarea__textarea","style":X,"placeholderStyle":k,"placeholderClass":Q,"cursorSpacing":S,"value":T,"maxlength":Y,"placeholder":C,"disabled":D,"autoFocus":N,"focus":R,"showConfirmBar":B,"selectionStart":j,"selectionEnd":U,"fixed":V,"onInput":this.handleInput,"onFocus":this.handleFocus,"onBlur":this.handleBlur,"onConfirm":this.handleConfirm,"onLineChange":this.handleLinechange}),L&&w.a.createElement(E.q,{"className":"at-textarea__counter"},T.length,"/",G))},AtTextarea}(w.a.Component);er.defaultProps={"customStyle":"","className":"","value":"","cursorSpacing":100,"maxLength":200,"placeholder":"","disabled":!1,"autoFocus":!1,"focus":!1,"showConfirmBar":!1,"selectionStart":-1,"selectionEnd":-1,"count":!0,"fixed":!1,"height":"","textOverflowForbidden":!0,"onChange":function onChange(){}},er.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"value":cn.string.isRequired,"cursorSpacing":cn.number,"maxLength":cn.oneOfType([cn.string,cn.number]),"placeholderClass":cn.string,"placeholderStyle":cn.string,"placeholder":cn.string,"disabled":cn.bool,"autoFocus":cn.bool,"focus":cn.bool,"showConfirmBar":cn.bool,"selectionStart":cn.number,"selectionEnd":cn.number,"count":cn.bool,"textOverflowForbidden":cn.bool,"fixed":cn.bool,"height":cn.oneOfType([cn.string,cn.number]),"onLinechange":cn.func,"onChange":cn.func.isRequired,"onFocus":cn.func,"onBlur":cn.func,"onConfirm":cn.func};var tr=function(v){function AtTimeline(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtTimeline,v),AtTimeline.prototype.render=function(){var v=this.props,_=v.pending,b=v.items,T=v.customStyle,S=["at-timeline"];_&&S.push("at-timeline--pending");var C={"at-timeline--pending":_},k=b.map((function(v,_){var b,T=v.title,S=void 0===T?"":T,C=v.color,k=v.icon,x=v.content,P=void 0===x?[]:x,O=I(((b={"at-icon":!0})["at-icon-"+k]=k,b)),L=["at-timeline-item"];C&&L.push("at-timeline-item--"+C);var D=[];return k?D.push("at-timeline-item__icon"):D.push("at-timeline-item__dot"),w.a.createElement(E.q,{"className":I(L),"key":"at-timeline-item-"+_},w.a.createElement(E.q,{"className":"at-timeline-item__tail"}),w.a.createElement(E.q,{"className":I(D)},k&&w.a.createElement(E.o,{"className":O})),w.a.createElement(E.q,{"className":"at-timeline-item__content"},w.a.createElement(E.q,{"className":"at-timeline-item__content-item"},S),P.map((function(v,_){return w.a.createElement(E.q,{"className":"at-timeline-item__content-item at-timeline-item__content--sub","key":_},v)}))))}));return w.a.createElement(E.q,{"className":I(S,C,this.props.className),"style":T},k)},AtTimeline}(w.a.Component);tr.defaultProps={"pending":!1,"items":[],"customStyle":{}},tr.propTypes={"pending":cn.bool,"items":cn.arrayOf(cn.object),"customStyle":cn.oneOfType([cn.object,cn.string])};var nr={"error":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAGwtJREFUeAHtnUusndV1x7mAIYABG/MUYGzLBCUtFHcCtB3YZgISGaCodOQ4QGGSoJAgV5FiOTAALBowY6tFASoUmYyS0EoRYPEonUUKRETYKNhWEnCwFZvWEIzB/f3v/T773HPP2Wt/79da0v/uc85+rfVfa93vsff5zswpLpUwcPz48aUMvAKsTMpLKC8Ey0bKc3h9JjhjpOTlKUfBpyPlEV4fBAdGyv283gPeUzkzM/NnSpeSGZgpebzBDUciXITR1yW4NilXU54P6pTDTPYueBO8lZRvkjgf8tolJwOeIBmJIyGuoMs6sD7B8oxD1N18LxO+DHaqJGH+ULcCXZ7PE8TwXnKESBNC5ZeNLm2v3oWCacLs9CNM2F2eIBP4ISlu4uM7wM3gr0FfeTqObb8BL4EdJMv/ULqMMNBXx4+YGPeSpFhJyw0JdA0xRNE1zLMCyaKL/8HLoBOEpNCFtI4USox/AIPmA/tT0ZHldaBk0ZFFNwAGKYMLCJLiNDx9K/gG+Br4EnCZzsBfqPo5eAb8J8nyxfSm/asZTIKQGItwn44U3wdX1+TK/2WedxLsptTaxehaxiHej653aP1DMrouonWSJSBdQ9E6yqVANlyT4FzKOkQ2bAU6BfusjgmbnqP3CUJi6AhxN/gXsLwiwvcw7tsgTYbZkiB6v6L55g2LjZfxQZosaflVPlsxr2F5b/Yx1GPg37FRRxiXrjFA0CwGm8D7oGzZx4BPg43gyrZyI90SHaWrdC5bxK04XtxWDlyvMQZw1lKwBRwEZcl+BvoJuBd09g6XdE9skC2yqSwR1+Jc22tc2sgAzjkN3AcOgTJE/x0fB2vaaG8ZOsk28AQo6ygr7uUD3QhxaQsDOORG8CtQVD5mgOfArWAwTpatic2yXRwUFfnihrbEx2D1wAnLwHbwBcgr6rsT3AXquhvUWp/BwXkJFzspi/Iq3+ium0udDED6DLgbHAB55Qgdt4Gr6tS9S3OJm4QjcZVX5CP5qvd3TFvhW4i+HrwB8sphOj4MtE3dJYIBcQUeAeIur8hn10dM503yMAC5p4LN4BjII/pPpv5adHPJwYC4SzjMe+SW734ATs0xvXeZxgCEXgx+CfLIH+n0ANC391xKYEBcJpyK2zwiX15cgio+BESuBXkc8Qn9dG/e91pVFEbiNuFYXGcV+XRtRar1f1jI0ymVAvxzkFVeoMOq/rPUDgvFNRDnWUWnXPKxn3JlcSWEXQJeBFllLx1uzzKXty2PAXEP5IOsIl/roRYuFgMQtQ5kXdk9Sp+t4GxrfK+vlgF8oOsT+UI+ySLy+bpqtev46BC0AXyWhVXavgK+0nHTe6e+fAJeBVlEvtdXElzGGYAY3WnKsnKra5OHgJ+/jpPZkvfyTeKjLNeRioEHWmJC82pAxgx4DGQRHY7XN6+9axDDgHwFsp42KyaGvfoOAaeDH4Ms4hd0MVHZsjY4OM+NF8XG6S0zpR51MPxs8AsQKzpM+y3BetxTySz4T6dc8mGWUy7FyLBuvmDwBeANECu+qFRJyDYzKE7PuvirWLmgGW1rnlWGgrdArKjt5TWr6dNVzIB8CrLGQb+TBEJ0WpXlyPE67f1rnBUHa1PDy7dAPo4VxU4/T7cwTBfkWa45fkb7s5pyns9bDwPyMZCvY0Ux1K8LdwzSrdynYxmg3VNgMF95rScU2zuLfJ34nCJKFEv9uQWMMVnWOR5trytdsyoZIE4ejUqPuUZ6Llf3BVu0Qh4jWkG9v/sWuwVFGFAMAMVCjHR7xR0LN4BYYz05ikRWj/oSM0qSGFFsdXPvFopre0HsxkM/repRgJdhCrETe7qlGOvWLmAU1raC2L03T5VBqI/RPwaIoadAjCjWuvF9EhTVdoLYLzvp9p7frepfbJdikWIDxN4CVsy1f2c3Sm4BMaIFIl/nKCWU+juIYgTELiZuaTUTGKI9NjEb0bTFwFfIW+3N9iinWAEx21KO0W5tezQf0QTF9GgebSq0RG18b9UId/7SZkAxA2Ljq12PFEJxXXfEPLeqvRlu+8hbNMwAMaYzFMWQJYrF9lyPoMxmS+Okvt3niA0HgE9vM0AcxV7jbrZHq6EFCutZuTFZ/SLt2pPVNXDjU5TPgGIIKJYsUUw2+yxgFNAmRG1BtqQ796nL96mPWDIDBFvsOptis7lNjUyux9pborta/oCFkoNk6MMppkDMHdO7G+EK5ZaBmKd8P9iIgj5p7xkg/h4ElihG6/8RHybdbmlG/SvArzt6H6rNGKjYSmKMIijba9UQVW4A2kkZEj160p94WKtnhjeZYgwo1kKiWL2xFnaYSPtjYn4wc2stCvkkg2eAeNSzgC1RzFa/749J9DO/luylQT+/XD/4cGwfAYo1oJiz5L5KtWd27Yk5ZGlBvf8EQaWe8MHHGVDMRcSlYre6PYAM/sMIJV4YV97fOwN1MEBsxvyITzW7OZh8MThoJMgn1K+qgwyfo34G8K0W6J4B2jT4J/BT0Jqf0UaXVUAxGBLF8OLS2WPQTaFZk7pqsrOgNeh2JfgO+BH4JvDfLczIKZxpS5GSYlx02tKmJInZq7Upo/nh5hCgH2v8YJyZsff6r9K6wEOnr4OPxnR9h/fXha322pQBuFJyaMFtmjyftm26REHFqmIxJNr6VF6sMti3Q7Mldd9rmpzx+dFrORhPjtQUOfxvxvv4+/kMiCMQSg7xuX9+r2bfoc8DUsqQb5WiJZMsAtYtNBHYut8hR6fvgpB4kgSiBOJikkP8/j4wTO1V6KPfSbSSWjG9yFIuZhuInju03BjoyZmZmSNGmyaqLb21R+cliPIjyZh3Ek5e4uOYfUxq1xpJYvFJQyHFhmI7v0CSVs13gZAcpnJJ/lmq64led4UUH6nzI8mIG+Al9sghCnXh3rpH7qDTEqDYDIliO//qOp1vC42e1D08wm2rXqKfnoihC/IY8STBexCVJTlazRm2PBLh+NtyBy2D7zAmOEL9RbknqKEj+l0H5MgYabXDq6YLgnqTHOIKey4CitGQ7MjFKyPqEGUtumzLNXjNnbCjV46vgr6+coRd20BIFOPZLxHodE9oVOq0hbg1C0RW0KCrJ8kUkvrMjWIUKFZDcs8UaqZ/zGivhUakbuf03u2sQWdPkjHXDIETxSoIyWtjtITfMtJKYGXdneFR2lmLXZ4kiWuGwgV23glColiP30NI4y2h0aj7GJzbzhSwtUL3wSfJkDhQrALFbEji9xEyyu7QSNQ9Z4dhu1tgw2CTZIi2K2ZBSHZHRSwj3BQaJam7JWqwljfClsElyRBtVhhi9y1J7IaKvzNDlt5PhkagTjsh868+mhrU2wBbBpMkOWztzY5nxSxQ7IbE2p4ym2nWY+YfrzeEq58NxnqfJEOw0YoUOHg8lB3UvRkcgwZaebTuXq0JDtLRSuxWknwIYqRTK+4YlOUfgDjo5eZN7FpjOFexP31nCJV3GAO0at9/2bmI7VkCSUnS+lOQHDb1MjnSWIGP/SAkd6RtVY5vd18/WjnhdecWByfYMPUjtkn/msqbwcGpjU5WaBv4yzDd2iRJdIvdsi6bb044OGll/15ZMTw9ByDU2tp+b//4WmgRPHT+SKLkAL5Jc8y9cHIvCMmusS5zb+lxRahXUrd6Yucefoi9nU0SdPfkmBKTcLM6ieVQccWC7rTeEOpB3b4FnXr+ATZ3LknQ2ZPDiEvFMgjJiW8ajl6DTD/3mpvQOncz1OpeddeuSfC4rodeBjFfkx3KNcekwLNieWEuQK71YIaNk2Yawmdw0/ojSQ4de323KhSXcLURhGTvvP601PqHJVfO6zSwN5CT9dSltrtbbdatjWECX3qQoCUn10NoebPR+r02Glq3TnCUNUkq/y+NTq0/utXtp5j54O09EBLd7j+xDmL9t3s7ZtK+t+GaRFsRdH4au06iRwpZ3OamLRk7yzrH+sSG3HP2qKMV07N+Sy/SLSe+0yNiCpmSI0kqWUxMkiPLBbknx3zPWzE9L0Gund93wTtrsAUd+vxB00mSMTkO4AtPjoUBacX0yZyA8EMgJGsXju+fQFiWaxJtArSO1CapGefsxH4x0+gKGsDjWhCSQ7PT0mJpqFVSd1kFOvZiSPipLUmSubLsOC6ckL1w0gQj4PKyJLZDxVJ908raAnx4wvj+0QgDcFh5kiRzeHKM8F70JZxajyZdo4v0lcZEkzdvGZ2GVJ3xmuRCuMl0d0vJoT5AfS3RHTa/5rBYmqu3YnulEmSFMZZ1MWN0H0b1SJLootiS6CRJkkN3q2KSwy/ILebn11uxvUIJcun8PgveWVm2oMNQP0iSJPb7JGaSjBw5suytCn9tdKjOmWy3FduXKkEs8nv9LcLJvOX/tKwjyUhy+JEjvzusnlZsL4tJkJhVY0uRQdWPHElynW7lSA59E9CPHNmjzIrt2QSx/kPFODm7aj3vkTdJPDlqDQwrti/Ubd7fgpCcXFGsVfd+TAaxWW8Bx97KLWXhsR8s57MC31wbCnzqfqtTrMXG8HMrikYjr57MQI5rEuuIron0n89PqyZTnuVTK7YXK0HOMEb81Kj3aoOBjKdbxmieHBZBGeqt2D4jJkGOZpjQm05hoKQk8SPHFH5zfmzF9hm6BrEeC39Wzsm92wQG4FvXJLHXGTQ9IX7NMYHPIh/BrH7kNSQfK0GOhVpQ15sHVRchs8y+cJo1STw5ynRAMpZi24j9YzrFcukGA8e7oWa/tFSC2Odh/bK5UWt09ECB2I2Hqa66s6VvJvot95SRckrrBtVRJYh1JX9mObr4KDmTIyXOkyRlorzSiu1P/QhSHtnBkQomRzq2J0nKRDmlH0HK4bHYKCUlR6pEmiT+bcGUkfxl1BHkiDH+EqPeqwMMZEwOrXMIlihJMn3pyhpwoPVWbB/RKZa1o1HOcMnBQI7k0HdJ1gNPkhx85+hixfZBJYjlDOv7Ijn06n+XPMmh1XbwFux4ktQTIlZsH4g5gliD1GNKh2bJmxypiZ4kKROVl1Zszx5BrFMs6yu5lVvRpQmKJkdqqydJykSlpRXbs0eQDwwVrjbqvTphoKzkSAn1JEmZqKy0Ynu/TrH2GNNfY9R7NQyUnRwpqUmS6OLdulZUF7+7lRIXV1qxvUeOtR4c91HcXMNtpeQAsTt0c208rGOOoXkQTj8CIVmjBPFHjxaIDPirPDlS9eqcK52zryVcxj16VATQ2B9enSMSmgjYJubMQU3ru8DjWhCS2a/j6hpE8u5cMfWvda42tWNfK2A2y65cXT+U8h1yrkn0eB+/JikeWFZMz+ZEmiDWM5WswYqr26ERmkqOlCJPkpSJQqUV07M5kSaIVm9DYg0W6turuqaTIyXTkyRlIndpxfTJnMDp/iOeETwrOUCld6si1JjXBH30bKdW6TRPwZa+gbP3QEh0GjsntPKfgU7JmFLCUeuSI1W1zbqlOraphK9sPwMt5em0F4RkY5uMrFMXSGltcqQ8dEHHVNemS7jaCEKyJ9UxvQbRe/0GRUjWhyr7WgeLjdytysqnX5NkYsyK5YW5QCBsCKUUdfsyqdCDxkoO0Knz+y7qXHeoKJZBSDYs0InWV4R6JHWrF3Ts6QfY27nkSF3RZd1TG6oq4WZ1Esuh4vKJ89NjV6gXdfdO7NizD7Gzs8mRuqIPNqS2lFkqhkFI5v0s2+g1iPRYeO41Xzvr3G1+6w6+g7lOXHNY1Po1yVSGrBiengMExx2h1KLO+smqqVp1oULJATp1zWHx2kebLJtD9YphEJI7pvanl9ZDvgj1pm7N1AE6XIFdvUuO1B19ti21MaaEh78FIVHsXxQciwZvhkag7vHgAB2sxKbeJkfqjiHYmNo6rYSDJ0BIrD2JswuG20IjUPc+OG2aEl37HFt6nxypT4Zka2pzWipmgWI3JNvS9lNLet8UGiGpu3XqAB2qwJbBJEfqliHaLNux+9YkdkPFTSlPwZIRdodGoe654AAdqMSGwSVH6pYh2q6YBSHZnfJjloyyJTQSdfpVqnPNgVraAN0HmxypS4bEAbaeB6xfUtuScmOWDLYSWHez7jIHamED7Bp8cqRuGQoX2HkXCIlifWXKS1RJh9dCI1K3M2qgFjVCZ0+OMX8MgRPFKgjJq2O02G8Z7Z7QiNQp666yR2pHC3T15Jjiij5zoxgF1tnQPVOomf4xg54PPgEhsW+LTZ+ithoM8OQw2O4rR9hlLVsoxs836JlcTccdICRHqAyvPE4eurZP0c+TI5LtHFxdGzl0I80Um0AxGpIduZVj1NtCIyd1D+eeoOKO6OfJkZHjjJy9Q/uzMk5RW3N0ewRYcltuhRhZq4/WFvjDtLF+qSe3Dnk7otMl4E8gRrRB0X/SLCFbXIDYTZt35vVRlf3QfwlQbIZEsX1qIT0YwLpFJgU2F5qkgs7o9LQUixBPjgn8w1tskjwxoXvjH6H/5gjfF1+qYJJFwHqgwwHanNM4KyMKoM8fgCWeHCOcjb+EvJgk+e54v6bfo/c5QDEZEsX0olJ0ZaBvh2ZK6h4oZbKSBkEna9+/J0cE1/AYShI9HX15xDC1NkGnB4Al3ypNKWb6EvjAmPGPalfapAUHQpfnA/p6cmTgFx71cDpdkI+KkuPrGYappSk6KVYViyHRrt5yY5UBN4VmTOri97NUTBf6XAUmPbVeF+5+QZ6RfzhT4H0T/Ah8B1yZcYhamqPXFmDJptKVYcbF4KAxsxZdVpU+ec4B0eUq8FOgpNB/lWfAJTmH824tZwDfrgLW4rZieHElpjBwTHa+UMnkPqgzYDBAfL4ALKnuLIeZ9WtUk05bxpW63bDFq52BUhkgAG8fD8IJ7xW7S0udeHwwJrhvwsTjH+kW2tnjff29M1AFA4o1YC1FKEbvq2L+eWMyiVbXf6XZDNk6r6O/cQYqYoA43GrEoqoVs/U8S4GJbgTWFuKjtPlKRZz4sM7ALAOKMaBYC4li9YZaKWPC7SGNkrpXKIvtdanVKp+sSwwotsCrSayFiu2124U2y8CBkFZJ3UO1K+cTDoIB4uuhiPhTjC5rhBAmvjtCwc9ps74RBX3S3jKgmAKKLUvubowENJsBb1gaUq+lfV+ga8xT/ZpYsZTEFEVQFJszjVqPAteDY0E15ypfpPDrkUa91f3JFUNAsWSJYvL6VliMIpstbZP66lYxW8GEK1E1A8RRzG4OhdsPqtYlenyUUVb/UloZonPGtdEDe0NnYIQBxQ6Iue5QLLbrbAWFLgbWNmOazLaZ/BNXI2T4S2dglAHi5vIM8XXxaN/WvMaA2Ax/i7bV7olpDSuuSFEGFCtAMWOJrjvWFp2v0v4oGHuO+DptW/tEjEpJ8sGjGVCMAMVKjLT/GhcrYu8yyOCfgXr2x0S7xBu2hQHFRhIjFKbozla7rjumEYmisfepZfVT08bxz4fNgGJDARIh3Vtnw6h14LMI49Tk0WGHgls/zoBiIjJ2FGPrxvt34j2KbwDaSRkj93fCKFeycgYIlvtjAoY2iq0NlStU5QQYEPMIFvEhYz1JqnRGB8ZWDCSxQGFKqx41lZtezHzMNPVkAz/dys10tzsSArGnVYqWx7pt7Yj2GKNNjU/LqkjRxZnf3RrhsM8v5Wsgn8eKYqnZTYhlOwSDTge/iGWAdroF7OskZTuiZePJx4mvKaJEMXR6y8woRx0M05frY7bHp0xpgchX3Muhv3WjyLcgdhFQMaHY6ffDQDDwAhCzbYBms6K2vnerdeFdTCH5FGSNgwuKzdqR3hCjJMlyJNEmyLUdMc/VNBiQL4F8GiuKlWEkR8odBut0K8s1iTaibQHd2E6QGurlCQbku8SH8mWsKEb6fVp1gqGxFxiuC/csd7dEqvbc+Nd3x7hs+1v5LPEdRbQoNvp5QR7rMAiYAVnWScSu9t6sj53D2zXLgHyV+IwiWhQT/bqVW8QNkKEVd62mx4q+WfYg8FOuIsRX2Fe+SXwU8y1Ams6KYqAfK+Rlcwsx2rsVu8Fxlk3+vAr8CY5lO6PgePJJ4huKaJHvu723qiBvZncIynM41qMn9XzWYV7MmazW10A+SHwhn2QRnTZ3c1duffTOzQRReS7o5Iy9wH96oW6HJfOJ+8QHFJnEb7xk9Rn06vxVt3WznL+mXtEPqazKOqe3z8eAuAYxP16T+ict5Vu/dZ+P9rleEJh1USkl/5OE/HJ/rLGIMT3rC7/63UIFuLjOKr74W1Y8wLweKRTz3K1JTpIjvgda9TvuZXHTxDjiEuiuY5bVcJqfEPmynY/maYLQMuaEUJ1ybQZZVmFpfkL0lG/1X1KGPkMcQ9wlHMY81Z+mC0S+kw/81nxVAQS5ehaw9ubklcN0fBhcVJWOfRtXXCWcibu8Ip+141m5fXPQuD0QrdV3/fRC3v9kdD1+BGwDV42P7+/nGBA3CUfiKq/IR/KVr4rXHViQvgxsB1p9zSvquxPcCc6t24a2zScOEi52UhblVb5p5sdr2kZsk/rghBtAzA+L0iwoH1P7HLgFDOYrv7I1sVm2i4OiIl/c2GRM+NxjDOAQOVk/UX0IlCFa2X0crBmbqjdvZVtio2wtQ8S9fDCYfy6dCwacsxT8EBwEZcl+BvoJuBes7hwpicLSPbFBtsimskRcaz3Evx7dleDAWYvBJlDWf0eGOiH7ePU02AiubCsn0i3R8ceU0rlsEbfieHFbOSiqV+/vLOA8raT/M9gElhclbEr/PXz+NnhnFDMzM+/zvnLBxsuY5JoxfJX3K0AVso9B/xX8Gzb+pYoJ2jJm7xMkJZogWsRrbaX+Prg6/bzi8iPG3wWUOCr3g4PgQFIeovwUHB0peXnKGeDMkVKLm7obdGFS6huVXwZKCpXngTpkN5NsBc+SGJ/VMWHTcwwmQVKiSRRdQN4KvgG+BnyvFiQEREeIn4NnwH+RGJ8H2vauanAJMupBkkX/mf8RKFn+HgyaD+xP5Tgv/hsoKZ4nKXSkG6R4QCRuJ1lW8lKnYEJn71Ql5uQt3qXjs+A/SIrf5R2kT/08QSZ4k2S5iY//CdwM/gr0lScdKX4DXgY7SIo3KF1GGOir40dMLPaSZNGmxnVgfYK6LvCLKT69ty60lRDCTpLiw+lNvcYTJGMMkDBX0GU0YZZnHKLu5rolO5oQv69bgS7P5wlS0HvJEeY6hklxLa91DXN+waGzdj9MB11DvAXeTOFHCJgoIJ4gBcgLdSVxtO1iBViZlJdSai1jdD1DK9Ba8xDSdQ9ezlsX0RrJ/4HR9RO9/gDsAe+pJBH+TOlSMgP/D3W7PKH+6NniAAAAAElFTkSuQmCC","success":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAGfFJREFUeAHtnWusXmWVx3soFES0QAsFp+lQLuIFCHyZUjRDWz4pYIxA0SiUW4uGYRwlVRg6ZVRmxjBRHD/QSdPqSImXTjKSiKLggEIpycQBA8g9HO5QaAslU7BQOPP7H/bb8563736eZ99vayX/s/e7n9ta/7XW2ZdnX0ammBTCwNjY2AF0fBiYGy1nsZwJZvQt38v63mBa35LVKW+CHX3L7axvAZv7lptYfxKMajkyMvIKS5OcGRjJub/OdUciHITRx0U4NloeyXI6KFO2Mdjj4D5wf7S8j8R5mXWTlAxYgiQkjoSYTZOFYFGEOQm7KLv6Uwx4G7hdSxLmubIVaPJ4liAe70V7iF5CaPlBT5O6Fz+Kgr2Eud32MG53WYIM4YekmM/mxeAUcAxoK09j2PYA+G+wnmS5m6VJHwNtdXyfiWGrJMVcap4TQecQXRSdw6wTSBad/HdeOp0gJIVOpLWnUGJ8HHSaD+zvifYsG4CSRXsWXQDopHQuIEiKqXj6E+BccDrYB5jEM/Bnin4Brge/Ilneia/avpLOJAiJsRfu057icnBUSa7U3MUjEXT48hLon894jd/98x2a/5D0z4tonuT9oH/+RJeWdRh4dATNr5QhjzHIt4EOwd4qY8Cqx2h9gpAY2kNcCL4G5hRAuA5HlAQPR8teQjxCECkZChdsVPL0kqW3/FC0rQgfP03f14C12Kg9jEnTGCBo9gPLwQsgb3mYDq8DZ4Ky/nsndoF0i3SUrtI5bxG34ni/xMpZg2oYwFkHgJVgC8hLRuloLfgC+EA1lmUfVbqDzwPZMgryEnEtznV7jUkdGcA5U8Gl4FWQhzxGJ3J6ay/5yrbIRtmah4h7+UAXQkzqwgAOORHcA7LKVjpYBU6qi21l6YHN8yPbxUFWkS/mlaW7jRPDAE6YAVaDd0BaeZOGN4IzgK4YdVrgYBr4DBAn4iatyCfyjS4gmJTJAKSPgAvBZpBWXqbhClDbk+wyOR02FtzoH9CVQFylFflIviriatowtbu9DaKPBxtBWnmehl8FehbDJIABcQW+Ap4DaUU+Oz5gOKuShgHI3QPoP/5OkEZGafQl0PnDqDT8q424A18EoyCNyHfaI+2RVgdrN4QBCD0Y3ALSiK7/nwf2HNK1bUrBgLgES0DauRX58uAUQ1uTQQYgcgHQYVFS0bX5ZcD+Ww2SmtNvcQuWAnGdVOTTBTmp0r1uIE/kax7ibZBEdPVEE2F28l1S2MC1TubXAHGfRHTIJR/bP7EkvoKwWeC3IKn8kQadm8NIwm2RdeFecyn3JnUa9eVrvdTCxMcARC0ESe+f2kabvwM2g+sjuOBy+QB8GcgnSUQ+X1iwes3uHoLOAW8lYZW668Ghzba8fdrLJ+CnIInI93okwWSQAYi5DCQ5hn2d+rqN3aTGDOCjC8B2ECqKgctqbFK5qkGGZsWvCWUvqvcgS71MwaQBDOCrj4I/Rb4LXSgmuj37DgG6nv4foYxF9X7E0mbBG5AY/Sris31BUl+rfjfnryLCbmIZKtpNn99Puq03jwF8uAQkOeRSjOzbPEszaIzBBwLdmxMq2j1/JMOQ1rRGDODLD4MHQp1PPcXKgTUyoThVZCi4H4TKrVS0RzqLc0klPcun4DehQUA9xUy7kwQDdRyaZM/xE+rrDR8mLWQA3+4FfgxCRbHTzsMtDNMJeZJzju9Tv9tXMVqYFIMmycfgeyBUFEPtOnHHIJGgq0+hcuUgkfa73QwQGFeEBgf1FEvt+eeJMaHzHLp57aJ2h4JZF8cAvteTh4qBENF7uZovWKoZ8hB5g0qfbr7FZkEWBoiBTwHFQog0e8YdC3VvVcjtI7oHR+/JNTEGphALp4KQe/IUW828dwvFFwUaSTWbALS8mMwAMbEEhP5zXTi5dc1/YZie5wi9Zf3rNTfH1KuIAWJoOQgRxVoznidBUT0JGPqw07UVcW/DNoQBYuk7IEQUc/V/MhElV4ZYQ50bQHsu1TUk4JqmpmIErAMhsrLW9mHBAhDyDPmvqafvdZgYA14GFCvgZuATXSJe4O2wigooplfzPO+zgHK9t9VuV6/CSQ0eUzED/hf4RDFYr1cKoZDOO/SuI5/oOeUjG+wnU71CBoidI0DIs+6Kxfqcj6DMChAiZ1fIrw3dAgYIsrNCAo06K2phLoroXbk69vPJqloobEo0ngEC7TpfsFGumKz2XcAooCsMugXZJ3pflX1NtvGhWQ8DiKW9Qcj7txSb1V0pZXDdXOaT16hQ1ldl6+FB06JwBhRTQLHlk2refINWM0DI9zk+VzhbNkAnGSD+PuvLjihGy/+IDwOvDlBubSc9Z0aXxgAxuCYgDleXppAGQqF5wHcj2UvUsa+eluqZ7g2mGAOKNZcoVk8shR0Gmgo02eeT80pRyAbpPAME4hJfMFKumC3+3c0McmmAMndSp7qrB50PmW4RoFgDijmfXFooM4yu3dmrHi30oMuxhSpinRsDAwwo5oDvISvFbnGH/XR+FfDJdwd0t5/GQCkMEJght8YXc8cvg+tFX1s82fEc5e8rhQ0bxBgYYCCK0Wc9MaoYzv9FhHQa8nSX3Ws14DT7WS4DxOliT4KoeHmuWtHhPuBF9eyQjbkOap0ZAykZIEbvcsSpivSIbn63PtHZ36hXj5ya0h5rZgzkygBx+klPrKr4klwGpSM9zfWUenTIvbkMZp0YAzkxQKz65uoU09mfaqUTfULLJ2fmZJd1YwzkwgABe4YvaCm/INNgdKBZ80c9Az1EeX2e3spksTVuCwOKSaBP9blEsZ1+dp3Gp7l6j8rObQupZke7GCA+9WZPn5yW2mp6Xu/p/QnK2/Uq+tRsWcO6MaDYBIpRl6xPpTc97g/ecPVM2cWpOrdGxkBJDBCjyzwxrBjfP7E6NFrq6Xgr5Xsn7tgaGAMlMqAYBb47QJbGqeQ6ufadW/xsZGRkR1zHtt0YqAMDUYz+zKOLL9YnNyfj5gLfA1EnTW5lv4yBejJALM8HLlGsHz5M+7g9iL654Hqe43Ey024tGcaobasdA8Tq3Sj1uEMxxfoXhpW7EmRY/d62db0VWxoDDWHAF7NhH+JhV5N6d9QQokzNDjJAXKc6bRi2B/Hdsn4Xu6wnOsixmdxgBojZUdTf4DFh8WD5sAQ5ZbDSwO/rB37bzw4zwH9mPYb9cfCXDaDBd5i1yGkDRuoTBq6rVzsoTz6p4hzVCpvIAHHwHvBvA/Hye34fXld70G06UAzHiWL/oFj9KfQ9jXVHbGMr6AwDxIm+1fE7MEweYeN76koGuimJXTLpMGuPAUPcu5gpU24bqG8/O8YAkaWPH/0SnBxj+gfZHnZFKKaDgjff7ul/Ug5YgnjYsuIJBgKSo1f5hN5KDZe+f/KTEmSX/hg/27Xfoex1MG1XA1vpFAP43nVYNRg6K+tKjmIYbB9UeOD37J7+/XuQhb2NMcsNXCp7M6bMNreYAYLHd1jVb/1b/Ph5/4Y6rUcxfJdHp1250J8gw3ctEz35jt0matpaaxhImByyewVBeH/NCUh+mAURTw3sZgZ/zqu50aZezgwoOUDc1arB+NDvb+asQiHdoae+TuCSpyYNTM2DXLUp2wamTmpkP1rNAP5uZXLIaYrlKKZZxMrEfAhVTomt9m7Bza2OBjNuEgO4PGlyfGNSBw34gY03e2J+/I6S3jnIcR6bHvSUW3FLGFByYIprnmPQ0m9xznHV4MYG/PbF9HhOhCbIIw0w2FTMyEDK5KjtJV0PHb6YnthpQMwfPLubuFlTjw5W3BQGlBygdSfkcfxj68nAJX/Y1ZZavo/iHLKrsq20jgH8nzQ5vtV0ErD5EFd2KCfGbWRFtyu7ZFvTyTD94xnA8Z1Ljh4b2O7bMRygS14nuLKDsv/pdWjLdjGAbzubHPKkYtsT+yfoJH2ux+2+kxlPcyuuIwNKDvRKcrXqaq5W/UMdbcmgky+25ypBDvMM4OvE09yK68ZAiuTQpdy2JYfc4ovtw5QgvhPwR+vmYNMnPQMpk6Opl3J9RPli+xAlyAxPL5s85VbcEAZSJIcOq9qaHPKaL7ZnhCTIlob439R0MJAyOdp4WNXPki+2xxNkZn+LIeubh2yzTQ1iwJIj1lm+2J6pS10PAZdk/45brH5WUDQDOLbTl3Jd/MKNvr/pkoeUIM84amx3DWBl9WYAvyZNjm/W26L8tYMj1+O3zyhBNjkSZGv+KlmPZTCQIjkaf/tIGl7hSd+5iZNNSpBX4krZ/kKaQa1NtQzgt6R7jk4mh7ykGHfE/yuqoLeVxMnkRw+r9buNHsAAjrTkCOCpVwW+XI+av64E2RmXHWx/rNeRLevPAP6y5EjoJsW4I/53WoIkJLSu1S050nkmJEHsECsdt7VpZcmR3hVw5z3Ecp2kv5h+aGtZBgOWHNlYhr8XQZyMn6TbZd5sHFfWGq/aOUdG9uHQe5n36bj0YbtNFGZ0QFHNLTnyYVYx7oj/p3WS3rpbTbBpDvgYaOXHfrAr6Z6jczPkIekDj0G3mmygokt8z4uE6FJKHYw4AtzRZ8zbrF8LavtBl6TEYIslR1LSYurD5aHAJRu0B7nRVYOyY2L6r9Vm9NQnwR6NseU2tu9bK4VTKIMNSZOjszPkIfTC5zEx8dLbfKOeB/HeEx8yWA3qnIcOR8XosZDtN2F1Y5ME3ZM+Q97Wx2RjXJxqs+9hwS0hCTIr1dDlNzreM2RjkyRFcrT9SUCPq4OLfbG9WQnim+vQN+eaID47ZEPjkiRlcrT9ScC84tEX25uUIE96RjvaU16X4v9CkZ0ByjQmSSw5AryZrYovtp/USXprXhyHLVeAUKn1iTtG2Al5tuD3toZj74vjlCCtevUo9vwzCJVaJgnKW3J4wzt7BXje5gmUA8ZHoZLvHaWNmQuRQdjT2CRBd0uO7LHv7QGew15eHQVU6z5/0MQkseTwxnVuFeD6ZOCSSZ8/+IGrJmXLctOsxI7QuzF7EnS1PUe5sbHME/M/kDq6iiXxfbbXd7b/bi81+8tbAf8elf4lUK3Krm4pOdAxyYuk/6ml78oNdFUu1XwxPZETOKjVH/HEvtruSZQc4HcgVOz2kRzyA7KDPuI5PhSVW/8ZaGysXZKgU9LkuDqH2Oh8F/A+FfiuYB00iSgauB49pHjsryY1aOAPbKhNkqBL0uSwPUdOMQf384BLntxtKGr/0NWCsst3a9TADdhReZKgQ9LksD1HjrEG/74J5fET9ElD0ugc4JJbJjVo8A+MrCxJGNuSo+LYwQe3ugKdsnN2U5GNsz2N9GjitN0aNnQDtpSeJIxpyVFxvCiGgetNPhSP/cVQNSmIe+BIjSR/PbRhQzdiT2lJwliWHDWIE8UwcEn8Z9lo9e+ulpRdVQMbc1UBmwpPEsaw5MjVa+k7wxf/CFyyKrZ3Wi12taTs97GNG1yAXYUlCX1bctQoNvBH/zsL+LmbLI5Vl6qaD3lntyYTG3awOj22gwYXYFfuSUKflhw1ign8sT9QDMeJYn/y/Meg/lS4L651tH3pYJu2/Ma+3JKEviw5ahYY+GRpFMNxi/u8KtNSr8lxyZ3eThpcAcMzJwl9WHLUMAbwy52uwKbsWq/aVJrv6US7obnejhpcAftSJwltLTlq6Hv8cjhwnT5QPDY/SHUqur6ZoI7a/O3scY6wMXGS0MaSIyjCyq+kmAUuCf8WDr3k11n5XOQ2IjwkTZIkd+Xa7SO5ecrfEb7M758+nc0F+eyO/LrXukbCJKF6kFhylOh1PHKSxyuK9WSnDTTwndDET6iUaHwZQ8FFkj2JxxdjlhxlOK1vDByyyuOUO/qqh63Soe+SmL6rsHdYb82vha15JIklR8mhoBgFrm+AUDyWfOqCRtPBG2rtkItLtrfS4eAhS5JYclTgPXx2sSN+VaQYTzf5TcP16sEhT1C2ZwV2VzYk9qZJEkuOCjym2ASKUZesT60avZ7m6jkq2/3e+dQjNqMhdidJEkuOityKn84NiN/TUqtH53p213cL/IPU6b0dJfVYTWuIzSFJYslRkWMVk+Ah4BLFdrbYpYMLXCNEZWdWxEOlw2L71Q5uvlGpch0fHL+c5fBNr+iCzDTRk77j5nuhwz2ZB2poB3BzMtBn7J4Bz4FbwKKGmtMatfHBvcAlium9cjGYji5xjRSVfTKXwawTYyAjA8TjqQHxeknGYSaaM9g+wPXBdemzcaKFrRkD1TFALN6tgHTIC5Ttk6uGdLjcMWCvKP5prFy1sc6MgeEMEIhn94LRsVw+vHWGrQy2H9jiGFRFz4L9MgxjTY2B1AwQe+8DOg90iWK4mBil45WukaOy76S20BoaAxkYIP6+GxCfxT2qweD6GpXvYztvUeeYDHZaU2MgMQPE3LFAsecSxe67X41KPEJgAwa41KVBVKY3R4wEdmnVjIFMDCjWgC61++TSTAOFNEYDza7f49OE8iUh/VkdYyArA8TaeQHxqJidmnWsoPYMdCJ4x6PUJsqL3Z0FaWuV2syAYgy85IlFxeq8UnlgwNUepVS8plSlbLDOMUCMrQ2Iw9WlE4NSM8DmAOU+W7pyNmAnGCD2PhcQf4rRGZUQwsAXBij4GnWOqkRBG7S1DCimgGLLJxdWRgKa6erBRp+GlOvGsc48nluZQzoyMLGkW5/+CHyi2Kz2aioKHA92+jSl/LqO+M/MLJgBYmlVQLwpJo8vWJWw7lFkRYDCqnJWWI9WyxgYzgAxFHKvlWLtyuE9VLAVZfT0lp6D8Im+LHpEBSrakC1ggNg5EoScdygWsz0pmDdfKHQweB74RBM27817fOuv3QwoZoDvISjFnmLw4FqygWILwNvAJ7+iQj5Pc9WSCVMqTwYUK+DXvqCiXOcdC/IcO/e+UDDkjl/Zug5Ue4Uhd+utw7wZUIyAG0CIFHenbl6GYYXOR34bYg117Nb4vIhvaT/EyLWBsaSYq9d5R5xPUHQW0GONIfK1uH5se7cZIHi+HhJA1FGszWoUWyi8EPjuz6fK+E2Pdudvo7xbvLLExfkKjgBRjC0sXqMCRkDxc4Dvrl9xICNPLUAF67KBDBALp0cxwcIpiq1mv9kTAy5zmjhR+Aarn2qgP03lHBkgBj4NFAshclmOQ1fXFZZeE2ItdXSZLvvb7qoz1UbOwAC+vyiKARZeuSbDUPVqiqm6VPcjr8kTFa6olwWmTdEM4PorJ9zvXVMstWuKAIP2BDd5TZ+o8D1W20VC0VHWwP7lY/D9Cbd71xRD7fzkBobtC0Juj++x9GNWbMa9gYEfojK+nQZ+0nN2wFKxs29I342tg4EHgvsDyOhV+Q0rxbzoq7EsNl9x+RTc2nNywFIxc2DzLQ+wQIaCJHuSB6j/4YCurUoDGMCXHwF/AqGiWOlGcvT8h8E63EpyTrKd+jah2COwoUt8qFf0yJehohhp92FVnC8xXCfuSa5uidQfgm4SFkdkA7bjM92untTXqt/OE/JQn0GArmKEzpNQdVy0e/5o6BhWr1oG8NUxQJ/qSyKKCbuK2XMdZGjGPeS2lB7J2k2f32tvy3oygI/05pvXe04LWCoG2jFDnrdLIEb3bum+rCTyUyofkrcu1l82BvDJoWB9EkdSV75v9r1V2Wjzt4agRSD0Vnmqjouedf9bUM67V/1mdLaGfAC+DEKeHafaLpHPF3aWuCSGQ5SeJwl96GoXw6zomeX5ScayuvkxAPcngZD3VVFtksjXzXqeIz/a0vUEYXoycSUIecadartEx7BrQDWvm0xnbqNbwfVMsBYkOYek+rhv5eNmPAlYRy9Bnl4E8TxIKnon61Jg5BfkWHELlgF91iypyKcLClKtW91CpF4pFPLerWFOepiNS0C3r6fnGDLiMuJU3KYR+bKer+bJkadSu4JQ/bdaAXaCNDJKoy8Ce0dwSs+JO/AlMArSiHwnH9pePaUPvM0gV+8C1r05aUVfQf0KsJfXedl+t4K4Al8FaQ51aTYu8lk93pUbaHdjq0G0Zt81AaXzjLTyMg31kI6dzMdEAtzo5Fsciau0Ih/JVzYrHsNzYZshfQZYDZJePaHJLnmTtRvBZ8C0wpRtSMdwoMOoM4A4ETdpRT6Rb+wfUNW+xwnzQMiHRanmlK2UrgKdm0uRzZHt4iCryBcnVh0XNn4fAzhEM7j6RPWrIA95jE50jf7IvmFatSrbIhtlax4i7uUDu6OhrpGCc/TV06tAmmvzNBsqo2zVRNjnwQfqartPL+ke2SBbRkFeIq71z8S+auxzQl3KcdZ+YDlIel8XTbzyEDWuA2eCmXWxeVAP6RbpKF3TzlnQNFbErThu7SPRrb+ygPP2IXAuAsvBnMEgyuH3GH08Ah6OlrvWR0ZGtubQv7cLbNSJ8NED+FD0uwgfP03f/wrWYOOfWbZWiiCvlmQRRHo7im6lvhyU9dXdzYylhBEeBy+DLUDbtXwN7IjwJktBoqtpgiY1hfcDJYH2VloeBHRu1EuKsvZijzHmt8E6EuMtlq2XziRIz5Mkik4gPwHOBacD7WFM4hnQHuIX4HpwM4nxdnzV9pV0LkH6XUiy7M9vfVhUyfIx0Gk+sL8nOmy8Cygp/pOkeLVX0LWlBUTkcZJlLqs6BBNae2k3MjduocPAdeAGkuKJuEpd2m4JMsTbJMt8Np8NTgF6OURbedKe4gFwG1hPUmxkadLHQFsd32ditlWSRSfEC8GiCGWd4GdTPL61TrSVEMLtJIUuHJjEMGAJEkNM3GYSZjZl/QkzJ65uTbbrkmx/QjxbE70aoYYlSEY3RXuY4+imh2NZ1znM9IxdJ22+jQY6h7gf3NeD7SFgIoNYgmQgz9WUxNFtF4eBudHyEJaawxB68xmage6f89C6RPMhmh/pzY38H+v98ydafxE8CUa1JBFeYWmSMwP/D9ulVgFLdbgRAAAAAElFTkSuQmCC","loading":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAn1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8Kd3m4AAAANHRSTlMA6AN+QRH69xUI7Z7x2sWzcWYvphvj4MxiXVIiGAuH08K9ibepmI+Oc2tKHQ+helY5NykfkF5N9AAABmhJREFUeNrdnWlT4kAQhjt3CARIwg1yH3Lpqv3/f9tabsYJMUGCsM6b56NVVjGV6WP6pLvTijTb8bS2X29U581BaBEmLY9T1LrVpukSGhFn06n2W4SExvn4q2ecL6PxeSbrPwRBxN/iG0NSHyHs55kGB1KdVqTxBTjLnU6qo1csdx+ag8CIujXOxe+pf5QEIzPYNDo5OnlbITD2/WObM9AeHwiOYbDMEB/PgHRiwo3GaWpbKFkR6LvI4RTdF4Lk0JtyihXk/Xrnbe2kRKVHoLjjlImphwSKZXicxH4iVB4eNU6ywPHy01SME1nRTIJluOAEtgFpU/4xaHOC2YhgeRjbJble9Dplid0nXHSDEzQJGFNjyZyAGc1YUgVWXqfXqwH3dsy7XnVUf/iD1oQ/mUCfxKonvgn07ao0EnKCLPGkVxO6i6AZl8SeEDVLYuNPToLsd53cLhvZF35HSrwG/D55R5daeAathKkiLaNB0FiTsohJS/sUE9wo0QcmCxaEjcEC3BjkB/rsU0xg48L/GH2KSZ2wkWICm3VIi4kH/V4k0qccsyJsXm2OAc0zfnWEu9g+Fz20OWZL2Aw4pgYu77QoiRtMQ0eoYMC6lWxj8kjYVDThz0PHHt95LIvievBEpRq4LSGjLL6jJepWfPRP8umo7AgbV9iSJYGzFvXC6lc+n+eNYwICR7ywpgROj2MQOgTOcXBK4gNTJEwJgbPjGJBOmlx04QOvCZyNKIkgcEKOAc8yyEa0ZwJnWZKgIwVlUcBDjsHqMc2gXY5yCKJjOaqGiPoiBkHg7EtjSUQ/I3gJAVGjHGVcRJuySLswiV0CxxQ5HwJnxDHoySsSoVPwkg6iLv9jQOBEZdG/Rjkqm4mCshgSkXRvEDhmSeq3KCzLa1c48u2PASxaBPvodUXGPR6J46GexBLVHMKiRIRJRWTgSBOfBhNd1M+SqKwDzVfLg4i8D2h5irxaHrZDL4Vdww6oSPUroo57gkQaRB/7iSVdlDp2iEs6jQ3st6J046vYJR3yYTXHrh+QT90mQztbMvgwwA46ynBQiB10lAE6i2MgW2CTIdMasiFJBrG7yPo3mVYQhmRDgCQTPU3kEFcy9WYip3iTyVCXcR350/R0B7cOIlkwIKX9SHDIEo7ksdoEx2lRTQu2Ejhd5uSjmsR04dkKtYMhXQr4zKBh03RxpsuYkZSv5bITTHfrawHzWtwtqEh2Rkn5H8jOq6wifx8xApHVdmEAdl5lNsIMARstZWtSVufVjGDIbhYLOOaNQMhp3zs4aN0xeQ2VS/F3kMyVbHHNU8pjgiC36Vj3oWZ0nGkD70HN6DjTmK93gGZ0nB2VsAWa0SGHV2DP6Pjmpz7CSIkc8HL+4jmKh1O+HbljgIxBlEOQ8pUzQtL9+7FUUnG1FVbBlwwK07sAjsr8ktFtLxxjv5KiXDhMb8UxU0UDKpeON7Q8xY3JxQMne8wqp6sLjACtqzxEu8hQ1tBWd4h2sTG5T+oO0S44uHihqpgUHSXtyiHaSpX+Fx/ubdoqLmG5Zty6oeASlqsG4Osz5ZawXLmSYKSptoSl8JIIKSZKOcLXr+3oK7WEJblIBXmdzM9+y5xVuV0/XTZ0VGNlXHL90/FKjafCyrhbLOSq1H9/ZdxtVqRZyZVxLSqKQkvrrPoPdpAqtUYweUO50Ipb1RY76sffWXGbXrV51G8SECt+vVRcftrkotdL1XW0fZsl01f6BoUXBJ98ZXv8QLmovrL5RO64PaAc1F+irRs2J1gMKQuIteYn14sdI0etAyyadxecRHtMiQrQ6v8nm5N4hkU3xTI8TmI/0Z0I63xCbezSzXDHNT6hHtL96Hl8grN+o5vwtnb4BK9Hd8VacYpZ70A/5NCbcYqVRffmpcspnGin09Xou8jhFN0X+g/o2xqn0TbhlWK30ThNbavT3ZHqJY22DIYFTV+wFKcoqAzvpPAl7WN/Txex7x/bLMk1T/ensu1wJp3GJjBHlMvIDDaNvP/dVuj/o/d8zqXWjYxgYIZ716roesVy96E5CIyoW+Nc/J5Ov4O+Wzp8I5zlTqdf5BBM+QZMAwXaC4aGzz/CN5SpdPuznvCVTNaKLatwn1c+F8RfPatZwd7qVzt8IZ1qX6nk9xdcs1kVOjZPM1ebpppf4itWOGjOq42639Y8x7YdT2v79UZ13hyEFt2Fv6Loy9OZgJFyAAAAAElFTkSuQmCC"},ir=function(v){function AtToast(_){var b=v.call(this,_)||this;b.handleClick=function(v){var _=b.props,T=_.onClick;if("loading"!==_.status)return T?T(v):void b.close()};var T=_.isOpened,S=_.duration;return T&&b.makeTimer(S||0),b._timer=null,b.state={"_isOpened":T},b}return __extends(AtToast,v),AtToast.prototype.clearTimmer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},AtToast.prototype.makeTimer=function(v){var _=this;0!==v&&(this._timer=setTimeout((function(){_.close()}),+v))},AtToast.prototype.close=function(){this.state._isOpened&&(this.setState({"_isOpened":!1},this.handleClose),this.clearTimmer())},AtToast.prototype.handleClose=function(v){"function"==typeof this.props.onClose&&this.props.onClose(v)},AtToast.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.isOpened,b=v.duration;_?(this.state._isOpened?this.clearTimmer():this.setState({"_isOpened":!0}),this.makeTimer(b||0)):this.close()},AtToast.prototype.render=function(){var v,_,b=this.state._isOpened,T=this.props,S=T.customStyle,C=T.text,k=T.icon,x=T.status,P=T.image,O=T.hasMask,L=P||nr[x]||null,D=!(!k||P||nr[x]),N=I("toast-body",((v={"at-toast__body--custom-image":P,"toast-body--text":!L&&!k})["at-toast__body--"+x]=!!x,v)),R=I("at-icon",((_={})["at-icon-"+k]=k,_));return b?w.a.createElement(E.q,{"className":I("at-toast",this.props.className)},O&&w.a.createElement(E.q,{"className":"at-toast__overlay"}),w.a.createElement(E.q,{"className":N,"style":S,"onClick":this.handleClick},w.a.createElement(E.q,{"className":"toast-body-content"},L?w.a.createElement(E.q,{"className":"toast-body-content__img"},w.a.createElement(E.c,{"className":"toast-body-content__img-item","src":L,"mode":"scaleToFill"})):null,D&&w.a.createElement(E.q,{"className":"toast-body-content__icon"},w.a.createElement(E.o,{"className":R})),C&&w.a.createElement(E.q,{"className":"toast-body-content__info"},w.a.createElement(E.o,null,C))))):null},AtToast}(w.a.Component);ir.defaultProps={"duration":3e3,"isOpened":!1},ir.propTypes={"text":cn.string,"icon":cn.string,"hasMask":cn.bool,"image":cn.string,"isOpened":cn.bool,"duration":cn.number,"status":cn.oneOf(["","error","loading","success"]),"onClick":cn.func,"onClose":cn.func};var rr=function(v){function AtAccordion(_){var b=v.call(this,_)||this;return b.handleClick=function(v){var _=b.props.open;b.isCompleted&&b.props.onClick&&b.props.onClick(!_,v)},b.isCompleted=!0,b.startOpen=!1,b.state={"wrapperHeight":0},b}return __extends(AtAccordion,v),AtAccordion.prototype.toggleWithAnimation=function(){var v=this,_=this.props,b=_.open,T=_.isAnimation;this.isCompleted&&T&&(this.isCompleted=!1,delayQuerySelector(".at-accordion__body",0).then((function(_){var T=parseInt(_[0].height.toString()),S=b?T:0,w=b?0:T;v.startOpen=!1,v.setState({"wrapperHeight":S},(function(){setTimeout((function(){v.setState({"wrapperHeight":w},(function(){setTimeout((function(){v.isCompleted=!0,v.setState({})}),700)}))}),100)}))})))},AtAccordion.prototype.UNSAFE_componentWillReceiveProps=function(v){v.open!==this.props.open&&(this.startOpen=!!v.open&&!!v.isAnimation,this.toggleWithAnimation())},AtAccordion.prototype.render=function(){var v,_=this.props,b=_.customStyle,T=_.className,S=_.title,C=_.icon,k=_.hasBorder,x=_.open,P=_.note,O=this.state.wrapperHeight,L=I("at-accordion",T),D=C&&C.prefixClass||"at-icon",N=I(((v={})[D]=!0,v[D+"-"+(C&&C.value)]=C&&C.value,v["at-accordion__icon"]=!0,v)),R=I("at-accordion__header",{"at-accordion__header--noborder":!k}),B=I("at-accordion__arrow",{"at-accordion__arrow--folded":!!x}),j=I("at-accordion__content",{"at-accordion__content--inactive":!x&&this.isCompleted||this.startOpen}),U={"color":C&&C.color||"","fontSize":C&&C.size+"px"||""},V={"height":O+"px"};return this.isCompleted&&(V.height=""),w.a.createElement(E.q,{"className":L,"style":b},w.a.createElement(E.q,{"className":R,"onClick":this.handleClick},C&&C.value&&w.a.createElement(E.o,{"className":N,"style":U}),w.a.createElement(E.q,{"className":"at-accordion__info"},w.a.createElement(E.q,{"className":"at-accordion__info__title"},S),w.a.createElement(E.q,{"className":"at-accordion__info__note"},P)),w.a.createElement(E.q,{"className":B},w.a.createElement(E.o,{"className":"at-icon at-icon-chevron-down"}))),w.a.createElement(E.q,{"style":V,"className":j},w.a.createElement(E.q,{"className":"at-accordion__body"},this.props.children)))},AtAccordion}(w.a.Component);rr.defaultProps={"open":!1,"customStyle":"","className":"","title":"","note":"","icon":{"value":""},"hasBorder":!0,"isAnimation":!0},rr.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"open":cn.bool,"isAnimation":cn.bool,"title":cn.string,"note":cn.string,"icon":cn.object,"hasBorder":cn.bool,"onClick":cn.func};var ar=function(v){function AtSlider(_){var b=v.call(this,_)||this,T=_.value,S=void 0===T?0:T,w=_.min,E=void 0===w?0:w,C=_.max,k=void 0===C?100:C;return b.state={"_value":AtSlider.clampNumber(S,E,k)},b}return __extends(AtSlider,v),AtSlider.clampNumber=function(v,_,b){return Math.max(_,Math.min(b,v))},AtSlider.prototype.handleChanging=function(v){var _=this.state._value,b=v.detail.value;b!==_&&this.setState({"_value":b}),this.props.onChanging&&this.props.onChanging(b)},AtSlider.prototype.handleChange=function(v){var _=v.detail.value;this.setState({"_value":_}),this.props.onChange&&this.props.onChange(_)},AtSlider.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.value,b=void 0===_?0:_,T=v.min,S=void 0===T?0:T,w=v.max,E=void 0===w?100:w;this.setState({"_value":AtSlider.clampNumber(b,S,E)})},AtSlider.prototype.render=function(){var v=this.state._value,_=this.props,b=_.customStyle,T=_.className,S=_.min,C=_.max,k=_.step,x=_.disabled,P=_.activeColor,O=_.backgroundColor,L=_.blockSize,D=_.blockColor,N=_.showValue;return w.a.createElement(E.q,{"className":I({"at-slider":!0,"at-slider--disabled":x},T),"style":b},w.a.createElement(E.q,{"className":"at-slider__inner"},w.a.createElement(E.k,{"min":S,"max":C,"step":k,"value":v,"disabled":x,"activeColor":P,"backgroundColor":O,"blockSize":L,"blockColor":D,"onChanging":this.handleChanging.bind(this),"onChange":this.handleChange.bind(this)})),N&&w.a.createElement(E.q,{"className":"at-slider__text"},""+v))},AtSlider}(w.a.Component);ar.defaultProps={"customStyle":"","className":"","min":0,"max":100,"step":1,"value":0,"disabled":!1,"activeColor":"#6190e8","backgroundColor":"#e9e9e9","blockSize":28,"blockColor":"#ffffff","showValue":!1},ar.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"min":cn.number,"max":cn.number,"step":cn.number,"value":cn.number,"disabled":cn.bool,"activeColor":cn.string,"backgroundColor":cn.string,"blockSize":cn.number,"blockColor":cn.string,"showValue":cn.bool,"onChange":cn.func,"onChanging":cn.func};var or=function(v){function AtSwipeActionOptions(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtSwipeActionOptions,v),AtSwipeActionOptions.prototype.render=function(){var v=I("at-swipe-action__options",this.props.className);return w.a.createElement(E.q,{"id":"swipeActionOptions-"+this.props.componentId,"className":v,"style":this.props.customStyle},this.props.children)},AtSwipeActionOptions}(w.a.Component),sr=function(v){function AtSwipeAction(_){var b=v.call(this,_)||this;b.handleOpened=function(v){var _=b.props.onOpened;"function"==typeof _&&_(v)},b.handleClosed=function(v){var _=b.props.onClosed;"function"==typeof _&&_(v)},b.handleClick=function(v,_,T){var S=b.props,w=S.onClick,E=S.autoClose;"function"==typeof w&&w(v,_,T),E&&(b._reset(!1),b.handleClosed(T))},b.onTouchEnd=function(v){return b.moveX===-b.maxOffsetSize?(b._reset(!0),void b.handleOpened(v)):0===b.moveX||b.state._isOpened&&b.moveX<0?(b._reset(!1),void b.handleClosed(v)):void(Math.abs(b.moveX)<b.maxOffsetSize*b.moveRatio?(b._reset(!1),b.handleClosed(v)):(b._reset(!0),b.handleOpened(v)))},b.onChange=function(v){b.moveX=v.detail.x};var T=_.isOpened,S=_.maxDistance,w=_.areaWidth,E=_.moveRatio;return b.maxOffsetSize=S,b.state={"componentId":uuid(),"offsetSize":T?-b.maxOffsetSize:0,"_isOpened":!!T,"needAnimation":!1},b.moveX=b.state.offsetSize,b.eleWidth=w,b.moveRatio=E||.5,b}return __extends(AtSwipeAction,v),AtSwipeAction.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.isOpened;_!==this.state._isOpened&&(this.moveX=_?0:this.maxOffsetSize,this._reset(!!_))},AtSwipeAction.prototype._reset=function(v){var _=this;v?this.setState({"_isOpened":!0,"offsetSize":-this.maxOffsetSize}):this.setState({"offsetSize":this.moveX},(function(){_.setState({"offsetSize":0,"_isOpened":!1})}))},AtSwipeAction.prototype.render=function(){var v=this,_=this.state,b=_.componentId,T=_.offsetSize,S=this.props.options,C=I("at-swipe-action",this.props.className);return w.a.createElement(E.q,{"id":"swipeAction-"+b,"className":C,"style":{"width":this.eleWidth+"px"}},w.a.createElement(E.f,{"className":"at-swipe-action__area","style":{"width":this.eleWidth+this.maxOffsetSize+"px","transform":"translate(-"+this.maxOffsetSize+"px, 0)"}},w.a.createElement(E.g,{"className":"at-swipe-action__content","direction":"horizontal","damping":50,"x":T,"onTouchEnd":this.onTouchEnd,"onChange":this.onChange,"style":{"width":this.eleWidth+"px","left":this.maxOffsetSize+"px"}},this.props.children,Array.isArray(S)&&S.length>0?w.a.createElement(or,{"options":S,"componentId":b,"customStyle":{"transform":"translate("+this.maxOffsetSize+"px, 0)","opacity":1}},S.map((function(_,b){return w.a.createElement(E.q,{"key":_.text+"-"+b,"style":_.style,"onClick":function onClick(T){return v.handleClick(_,b,T)},"className":I("at-swipe-action__option",_.className)},w.a.createElement(E.o,{"className":"option__text"},_.text))}))):null)))},AtSwipeAction}(w.a.Component);sr.defaultProps={"options":[],"isOpened":!1,"disabled":!1,"autoClose":!1,"maxDistance":0,"areaWidth":0},sr.propTypes={"isOpened":cn.bool,"disabled":cn.bool,"autoClose":cn.bool,"options":cn.arrayOf(cn.shape({"text":cn.string,"style":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.object,cn.string,cn.array])})),"onClick":cn.func,"onOpened":cn.func,"onClosed":cn.func};var lr=function(v){function AtSearchBar(_){var b=v.call(this,_)||this;return b.handleFocus=function(v){b.setState({"isFocus":!0}),b.props.onFocus&&b.props.onFocus(v)},b.handleBlur=function(v){b.setState({"isFocus":!1}),b.props.onBlur&&b.props.onBlur(v)},b.handleChange=function(v){b.props.onChange(v.target.value,v)},b.handleClear=function(v){b.props.onClear?b.props.onClear(v):b.props.onChange("",v)},b.handleConfirm=function(v){b.props.onConfirm&&b.props.onConfirm(v)},b.handleActionClick=function(v){b.props.onActionClick&&b.props.onActionClick(v)},b.state={"isFocus":!!_.focus},b}return __extends(AtSearchBar,v),AtSearchBar.prototype.render=function(){var v=this.props,_=v.value,b=v.placeholder,T=v.maxLength,S=v.fixed,C=v.disabled,k=v.showActionButton,x=v.actionName,P=void 0===x?"搜索":x,O=v.inputType,L=v.className,D=v.customStyle,N=this.state.isFocus,R=I("at-search-bar",{"at-search-bar--fixed":S},L),B={},j={};N||!N&&_?(j.opacity=1,j.marginRight="0",B.flexGrow=0):N||_||(B.flexGrow=1,j.opacity=0,j.marginRight="-"+(14*(P.length+1)+7+10)+"px"),k&&(j.opacity=1,j.marginRight="0");var U={"display":"flex"},V={"visibility":"hidden"};return _.length||(U.display="none",V.visibility="visible"),w.a.createElement(E.q,{"className":R,"style":D},w.a.createElement(E.q,{"className":"at-search-bar__input-cnt"},w.a.createElement(E.q,{"className":"at-search-bar__placeholder-wrap","style":B},w.a.createElement(E.o,{"className":"at-icon at-icon-search"}),w.a.createElement(E.o,{"className":"at-search-bar__placeholder","style":V},N?"":b)),w.a.createElement(E.d,{"className":"at-search-bar__input","type":O,"confirmType":"search","value":_,"focus":N,"disabled":C,"maxlength":T,"onInput":this.handleChange,"onFocus":this.handleFocus,"onBlur":this.handleBlur,"onConfirm":this.handleConfirm}),w.a.createElement(E.q,{"className":"at-search-bar__clear","style":U,"onTouchStart":this.handleClear},w.a.createElement(E.o,{"className":"at-icon at-icon-close-circle"}))),w.a.createElement(E.q,{"className":"at-search-bar__action","style":j,"onClick":this.handleActionClick},P))},AtSearchBar}(w.a.Component);lr.defaultProps={"value":"","placeholder":"搜索","maxLength":140,"fixed":!1,"focus":!1,"disabled":!1,"showActionButton":!1,"actionName":"搜索","inputType":"text","onChange":function onChange(){}},lr.propTypes={"value":cn.string,"placeholder":cn.string,"maxLength":cn.number,"fixed":cn.bool,"focus":cn.bool,"disabled":cn.bool,"showActionButton":cn.bool,"actionName":cn.string,"inputType":cn.oneOf(["text","number","idcard","digit"]),"onChange":cn.func,"onFocus":cn.func,"onBlur":cn.func,"onConfirm":cn.func,"onActionClick":cn.func,"onClear":cn.func};var cr=function(v){function AtLoadMore(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtLoadMore,v),AtLoadMore.prototype.onClick=function(){this.props.onClick&&this.props.onClick(arguments)},AtLoadMore.prototype.render=function(){var v=this.props,_=v.className,b=v.customStyle,T=v.loadingText,S=v.moreText,C=v.status,k=v.moreBtnStyle,x=v.noMoreTextStyle,P=v.noMoreText,O=null;return O="loading"===C?w.a.createElement(yn,{"mode":"center","content":T}):"more"===C?w.a.createElement(E.q,{"className":"at-load-more__cnt"},w.a.createElement(Cn,{"full":!0,"onClick":this.onClick.bind(this),"customStyle":k},S)):w.a.createElement(E.o,{"className":"at-load-more__tip","style":x},P),w.a.createElement(E.q,{"className":I("at-load-more",_),"style":b},O)},AtLoadMore}(w.a.Component);cr.defaultProps={"customStyle":"","className":"","noMoreTextStyle":"","moreBtnStyle":"","status":"more","loadingText":"加载中","moreText":"查看更多","noMoreText":"没有更多"},cr.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"noMoreTextStyle":cn.oneOfType([cn.object,cn.string]),"moreBtnStyle":cn.oneOfType([cn.object,cn.string]),"status":cn.oneOf(["more","loading","noMore"]),"loadingText":cn.string,"moreText":cn.string,"noMoreText":cn.string,"onClick":cn.func};var ur=function(v){function AtDivider(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtDivider,v),AtDivider.prototype.render=function(){var v=this.props,_=v.className,b=v.customStyle,T=v.content,S=v.height,C=v.fontColor,k=v.fontSize,x=v.lineColor,P={"height":S?""+pxTransform(Number(S)):""},O={"color":C,"font-size":k?""+pxTransform(Number(k)):""},L={"backgroundColor":x};return w.a.createElement(E.q,{"className":I("at-divider",_),"style":mergeStyle(P,b)},w.a.createElement(E.q,{"className":"at-divider__content","style":O},""===T?this.props.children:T),w.a.createElement(E.q,{"className":"at-divider__line","style":L}))},AtDivider}(w.a.Component);ur.defaultProps={"content":"","height":0,"fontColor":"","fontSize":0,"lineColor":""},ur.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"content":cn.string,"height":cn.oneOfType([cn.number,cn.string]),"fontColor":cn.string,"fontSize":cn.oneOfType([cn.number,cn.string]),"lineColor":cn.string};var dr=function(v){function AtCountdownItem(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtCountdownItem,v),AtCountdownItem.prototype.formatNum=function(v){return v<=9?"0"+v:""+v},AtCountdownItem.prototype.render=function(){var v=this.props,_=v.num,b=v.separator;return w.a.createElement(E.q,{"className":"at-countdown__item"},w.a.createElement(E.q,{"className":"at-countdown__time-box"},w.a.createElement(E.o,{"className":"at-countdown__time"},this.formatNum(_))),w.a.createElement(E.o,{"className":"at-countdown__separator"},b))},AtCountdownItem}(w.a.Component);dr.defaultProps={"num":0,"separator":":"},dr.propTypes={"num":cn.number.isRequired,"separator":cn.string};var hr=function toSeconds(v,_,b,T){return 60*v*60*24+60*_*60+60*b+T},pr=function(v){function AtCountdown(_){var b=v.call(this,_)||this,T=b.props,S=T.day,w=void 0===S?0:S,E=T.hours,C=void 0===E?0:E,k=T.minutes,x=void 0===k?0:k,P=T.seconds,I=void 0===P?0:P;b.seconds=hr(w,C,x,I);var O=b.calculateTime(),L=O.day,D=O.hours,N=O.minutes,R=O.seconds;return b.state={"_day":L,"_hours":D,"_minutes":N,"_seconds":R},b}return __extends(AtCountdown,v),AtCountdown.prototype.setTimer=function(){this.timer||this.countdonwn()},AtCountdown.prototype.clearTimer=function(){this.timer&&clearTimeout(this.timer)},AtCountdown.prototype.calculateTime=function(){var v=__read([0,0,0,0],4),_=v[0],b=v[1],T=v[2],S=v[3];return this.seconds>0&&(_=this.props.isShowDay?Math.floor(this.seconds/86400):0,b=Math.floor(this.seconds/3600)-24*_,T=Math.floor(this.seconds/60)-24*_*60-60*b,S=Math.floor(this.seconds)-24*_*60*60-60*b*60-60*T),{"day":_,"hours":b,"minutes":T,"seconds":S}},AtCountdown.prototype.countdonwn=function(){var v=this,_=this.calculateTime(),b=_.day,T=_.hours,S=_.minutes,w=_.seconds;if(this.setState({"_day":b,"_hours":T,"_minutes":S,"_seconds":w}),this.seconds--,this.seconds<0)return this.clearTimer(),void(this.props.onTimeUp&&this.props.onTimeUp());this.timer=setTimeout((function(){v.countdonwn()}),1e3)},AtCountdown.prototype.UNSAFE_componentWillReceiveProps=function(v){if(JSON.stringify(this.props)!==JSON.stringify(v)){var _=v.day,b=v.hours,T=v.minutes,S=v.seconds;this.seconds=hr(_,b,T,S),this.clearTimer(),this.setTimer()}},AtCountdown.prototype.componentDidMount=function(){this.setTimer()},AtCountdown.prototype.componentWillUnmount=function(){this.clearTimer()},AtCountdown.prototype.componentDidHide=function(){this.clearTimer()},AtCountdown.prototype.componentDidShow=function(){this.setTimer()},AtCountdown.prototype.render=function(){var v=this.props,_=v.className,b=v.customStyle,T=v.format,S=v.isShowDay,C=v.isCard,k=v.isShowHour,x=this.state,P=x._day,O=x._hours,L=x._minutes,D=x._seconds;return w.a.createElement(E.q,{"className":I({"at-countdown":!0,"at-countdown--card":C},_),"style":b},S&&w.a.createElement(dr,{"num":P,"separator":T.day}),k&&w.a.createElement(dr,{"num":O,"separator":T.hours}),w.a.createElement(dr,{"num":L,"separator":T.minutes}),w.a.createElement(dr,{"num":D,"separator":T.seconds}))},AtCountdown}(w.a.Component);pr.defaultProps={"customStyle":"","className":"","isCard":!1,"isShowDay":!1,"isShowHour":!0,"format":{"day":"天","hours":"时","minutes":"分","seconds":"秒"},"day":0,"hours":0,"minutes":0,"seconds":0},pr.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"isCard":cn.bool,"isShowDay":cn.bool,"isShowHour":cn.bool,"format":cn.object,"day":cn.number,"hours":cn.number,"minutes":cn.number,"seconds":cn.number,"onTimeUp":cn.func};var fr=function(v){function AtSteps(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtSteps,v),AtSteps.prototype.handleClick=function(v,_){this.props.onChange(v,_)},AtSteps.prototype.render=function(){var v=this,_=this.props,b=_.customStyle,T=_.className,S=_.items,C=_.current;return w.a.createElement(E.q,{"className":I("at-steps",T),"style":b},!!S&&S.map((function(_,b){var T;return w.a.createElement(E.q,{"key":_.title,"className":I({"at-steps__item":!0,"at-steps__item--active":b===C,"at-steps__item--inactive":b!==C}),"onClick":v.handleClick.bind(v,b)},w.a.createElement(E.q,{"className":"at-steps__circular-wrap"},0!==b&&w.a.createElement(E.q,{"className":"at-steps__left-line"}),_.status?w.a.createElement(E.q,{"className":I({"at-icon":!0,"at-icon-check-circle":"success"===_.status,"at-icon-close-circle":"error"===_.status,"at-steps__single-icon":!0,"at-steps__single-icon--success":"success"===_.status,"at-steps__single-icon--error":"error"===_.status})}):w.a.createElement(E.q,{"className":"at-steps__circular"},_.icon?w.a.createElement(E.o,{"className":I("at-icon",(T={},T["at-icon-"+_.icon.value]=_.icon.value,T["at-steps__circle-icon"]=!0,T))}):w.a.createElement(E.o,{"className":"at-steps__num"},b+1)),b!==S.length-1&&w.a.createElement(E.q,{"className":"at-steps__right-line"})),w.a.createElement(E.q,{"className":"at-steps__title"},_.title),w.a.createElement(E.q,{"className":"at-steps__desc"},_.desc))})))},AtSteps}(w.a.Component);fr.defaultProps={"customStyle":"","className":"","current":0,"items":[],"onChange":function onChange(){}},fr.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"current":cn.number,"items":cn.array,"onChange":cn.func};var mr=function(v){function AtCurtain(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtCurtain,v),AtCurtain.prototype.onClose=function(v){v.stopPropagation(),this.props.onClose(v)},AtCurtain.prototype._stopPropagation=function(v){v.stopPropagation()},AtCurtain.prototype.render=function(){var v,_=this.props,b=_.className,T=_.customStyle,S=_.isOpened,C=_.closeBtnPosition,k=I({"at-curtain":!0,"at-curtain--closed":!S},b),x=I(((v={"at-curtain__btn-close":!0})["at-curtain__btn-close--"+C]=C,v));return w.a.createElement(E.q,{"className":k,"style":T,"onClick":this._stopPropagation},w.a.createElement(E.q,{"className":"at-curtain__container"},w.a.createElement(E.q,{"className":"at-curtain__body"},this.props.children,w.a.createElement(E.q,{"className":x,"onClick":this.onClose.bind(this)}))))},AtCurtain}(w.a.Component);mr.defaultProps={"customStyle":"","className":"","isOpened":!1,"closeBtnPosition":"bottom","onClose":function onClose(){}},mr.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"isOpened":cn.bool,"closeBtnPosition":cn.string,"onClose":cn.func};var gr=function(v){function AtMessage(_){var b=v.call(this,_)||this;return b.state={"_isOpened":!1,"_message":"","_type":"info","_duration":3e3},b._timer=null,b}return __extends(AtMessage,v),AtMessage.prototype.bindMessageListener=function(){var v=this;C.default.eventCenter.on("atMessage",(function(_){void 0===_&&(_={});var b={"_isOpened":!0,"_message":_.message,"_type":_.type,"_duration":_.duration||v.state._duration};v.setState(b,(function(){clearTimeout(v._timer),v._timer=setTimeout((function(){v.setState({"_isOpened":!1})}),v.state._duration)}))})),C.default.atMessage=C.default.eventCenter.trigger.bind(C.default.eventCenter,"atMessage")},AtMessage.prototype.componentDidShow=function(){this.bindMessageListener()},AtMessage.prototype.componentDidMount=function(){this.bindMessageListener()},AtMessage.prototype.componentDidHide=function(){C.default.eventCenter.off("atMessage")},AtMessage.prototype.componentWillUnmount=function(){C.default.eventCenter.off("atMessage")},AtMessage.prototype.render=function(){var v=this.props,_=v.className,b=v.customStyle,T=this.state,S=T._message,C=T._isOpened,k=T._type,x=I({"at-message":!0,"at-message--show":C,"at-message--hidden":!C},"at-message--"+k,_);return w.a.createElement(E.q,{"className":x,"style":b},S)},AtMessage}(w.a.Component);gr.defaultProps={"customStyle":"","className":""},gr.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string])};var vr=C.default.getEnv(),yr=function(v){function AtImagePicker(){var _=null!==v&&v.apply(this,arguments)||this;return _.chooseFile=function(){var v=_.props,b=v.files,T=void 0===b?[]:b,S=v.multiple,w=v.count,E=v.sizeType,k=v.sourceType,x=vr===C.default.ENV_TYPE.ALIPAY?"apFilePaths":"tempFiles",P={};S&&(P.count=99),w&&(P.count=w),E&&(P.sizeType=E),k&&(P.sourceType=k),Object(C.chooseImage)(P).then((function(v){var b=v.tempFilePaths.map((function(_,b){return{"url":_,"file":v[x][b]}})),S=T.concat(b);_.props.onChange(S,"add")})).catch(_.props.onFail)},_.handleImageClick=function(v){_.props.onImageClick&&_.props.onImageClick(v,_.props.files[v])},_.handleRemoveImg=function(v){var b=_.props.files,T=void 0===b?[]:b;vr===C.default.ENV_TYPE.WEB&&window.URL.revokeObjectURL(T[v].url);var S=T.filter((function(_,b){return b!==v}));_.props.onChange(S,"remove",v)},_}return __extends(AtImagePicker,v),AtImagePicker.prototype.render=function(){var v=this,_=this.props,b=_.className,T=_.customStyle,S=_.files,C=_.mode,k=_.length,x=void 0===k?4:k,P=_.showAddBtn,O=function generateMatrix(v,_,b){for(var T=[],S=b?v.length+1:v.length,w=Math.ceil(S/_),E=0;E<w;E++)if(E===w-1){var C=v.slice(E*_);if(C.length<_){b&&C.push({"type":"btn","uuid":uuid()});for(var k=C.length;k<_;k++)C.push({"type":"blank","uuid":uuid()})}T.push(C)}else T.push(v.slice(E*_,(E+1)*_));return T}(S,x<=0?1:x,void 0===P||P),L=I("at-image-picker",b);return w.a.createElement(E.q,{"className":L,"style":T},O.map((function(_,b){return w.a.createElement(E.q,{"className":"at-image-picker__flex-box","key":b+1},_.map((function(_,T){return _.url?w.a.createElement(E.q,{"className":"at-image-picker__flex-item","key":b*x+T},w.a.createElement(E.q,{"className":"at-image-picker__item"},w.a.createElement(E.q,{"className":"at-image-picker__remove-btn","onClick":v.handleRemoveImg.bind(v,b*x+T)}),w.a.createElement(E.c,{"className":"at-image-picker__preview-img","mode":C,"src":_.url,"onClick":v.handleImageClick.bind(v,b*x+T)}))):w.a.createElement(E.q,{"className":"at-image-picker__flex-item","key":"empty_"+b*x+T},"btn"===_.type&&w.a.createElement(E.q,{"className":"at-image-picker__item at-image-picker__choose-btn","onClick":v.chooseFile},w.a.createElement(E.q,{"className":"add-bar"}),w.a.createElement(E.q,{"className":"add-bar"})))})))})))},AtImagePicker}(w.a.Component);yr.defaultProps={"className":"","customStyle":"","files":[],"mode":"aspectFill","showAddBtn":!0,"multiple":!1,"length":4,"onChange":function onChange(){}},yr.propTypes={"className":cn.oneOfType([cn.string,cn.array]),"customStyle":cn.oneOfType([cn.string,cn.object]),"files":cn.array,"mode":cn.oneOf(["scaleToFill","aspectFit","aspectFill","widthFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"]),"showAddBtn":cn.bool,"multiple":cn.bool,"length":cn.number,"onChange":cn.func,"onImageClick":cn.func,"onFail":cn.func,"count":cn.number,"sizeType":cn.array,"sourceType":cn.array};var _r=function(v){function AtRange(_){var b=v.call(this,_)||this;b.handleClick=function(v){if(b.currentSlider&&!b.props.disabled){var _;_=function getEventDetail(v){var _;switch(mn){case C.default.ENV_TYPE.WEB:_={"pageX":v.pageX,"pageY":v.pageY,"clientX":v.clientX,"clientY":v.clientY,"offsetX":v.offsetX,"offsetY":v.offsetY,"x":v.x,"y":v.y};break;case C.default.ENV_TYPE.WEAPP:_={"pageX":v.touches[0].pageX,"pageY":v.touches[0].pageY,"clientX":v.touches[0].clientX,"clientY":v.touches[0].clientY,"offsetX":v.target.offsetLeft,"offsetY":v.target.offsetTop,"x":v.target.x,"y":v.target.y};break;case C.default.ENV_TYPE.ALIPAY:_={"pageX":v.target.pageX,"pageY":v.target.pageY,"clientX":v.target.clientX,"clientY":v.target.clientY,"offsetX":v.target.offsetLeft,"offsetY":v.target.offsetTop,"x":v.target.x,"y":v.target.y};break;case C.default.ENV_TYPE.SWAN:_={"pageX":v.changedTouches[0].pageX,"pageY":v.changedTouches[0].pageY,"clientX":v.target.clientX,"clientY":v.target.clientY,"offsetX":v.target.offsetLeft,"offsetY":v.target.offsetTop,"x":v.detail.x,"y":v.detail.y};break;default:_={"pageX":0,"pageY":0,"clientX":0,"clientY":0,"offsetX":0,"offsetY":0,"x":0,"y":0},console.warn("getEventDetail暂未支持该环境")}return _}(v).x-b.left,b.setSliderValue(b.currentSlider,_,"onChange")}};var T=_.min,S=void 0===T?0:T,w=_.max,E=void 0===w?100:w;return b.width=0,b.left=0,b.deltaValue=E-S,b.currentSlider="",b.state={"aX":0,"bX":0},b}return __extends(AtRange,v),AtRange.prototype.handleTouchMove=function(v,_){if(!this.props.disabled){_.stopPropagation();var b=_.touches[0].clientX;this.setSliderValue(v,b-this.left,"onChange")}},AtRange.prototype.handleTouchEnd=function(v){this.props.disabled||(this.currentSlider=v,this.triggerEvent("onAfterChange"))},AtRange.prototype.setSliderValue=function(v,_,b){var T,S,w=this,E=Math.min(Math.max(_,0),this.width),C=Math.floor(E/this.width*100);b?this.setState(((T={})[v]=C,T),(function(){return w.triggerEvent(b)})):this.setState(((S={})[v]=C,S))},AtRange.prototype.setValue=function(v){var _=this.props.min,b=void 0===_?0:_,T=Math.round((v[0]-b)/this.deltaValue*100),S=Math.round((v[1]-b)/this.deltaValue*100);this.setState({"aX":T,"bX":S})},AtRange.prototype.triggerEvent=function(v){var _=this.props.min,b=void 0===_?0:_,T=this.state,S=T.aX,w=T.bX,E=[Math.round(S/100*this.deltaValue)+b,Math.round(w/100*this.deltaValue)+b].sort((function(v,_){return v-_}));"onChange"===v?this.props.onChange&&this.props.onChange(E):"onAfterChange"===v&&this.props.onAfterChange&&this.props.onAfterChange(E)},AtRange.prototype.updatePos=function(){var v=this;delayQuerySelector(".at-range__container",0).then((function(_){v.width=Math.round(_[0].width),v.left=Math.round(_[0].left)}))},AtRange.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.value;this.updatePos(),this.props.value[0]===_[0]&&this.props.value[1]===_[1]||this.setValue(_)},AtRange.prototype.componentDidMount=function(){var v=this.props.value;this.updatePos(),this.setValue(v)},AtRange.prototype.render=function(){var v=this.props,_=v.className,b=v.customStyle,T=v.sliderStyle,S=v.railStyle,C=v.trackStyle,k=v.blockSize,P=v.disabled,O=I("at-range",{"at-range--disabled":P},_),L=this.state,D=L.aX,N=L.bX,R={"width":k?k+"PX":"","height":k?k+"PX":"","marginLeft":k?-k/2+"PX":""},B=x(x({},R),{"left":D+"%"}),j=x(x({},R),{"left":N+"%"}),U={"height":k?k+"PX":""},V={"left":Math.min(D,N)+"%","width":Math.abs(D-N)+"%"};return w.a.createElement(E.q,{"className":O,"style":b,"onClick":this.handleClick},w.a.createElement(E.q,{"className":"at-range__container","style":U},w.a.createElement(E.q,{"className":"at-range__rail","style":S}),w.a.createElement(E.q,{"className":"at-range__track","style":mergeStyle(V,C)}),w.a.createElement(E.q,{"className":"at-range__slider","style":mergeStyle(B,T),"onTouchMove":this.handleTouchMove.bind(this,"aX"),"onTouchEnd":this.handleTouchEnd.bind(this,"aX")}),w.a.createElement(E.q,{"className":"at-range__slider","style":mergeStyle(j,T),"onTouchMove":this.handleTouchMove.bind(this,"bX"),"onTouchEnd":this.handleTouchEnd.bind(this,"bX")})))},AtRange}(w.a.Component);_r.defaultProps={"customStyle":"","className":"","sliderStyle":"","railStyle":"","trackStyle":"","value":[0,0],"min":0,"max":100,"disabled":!1,"blockSize":0},_r.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"sliderStyle":cn.oneOfType([cn.object,cn.string]),"railStyle":cn.oneOfType([cn.object,cn.string]),"trackStyle":cn.oneOfType([cn.object,cn.string]),"value":cn.array,"min":cn.number,"max":cn.number,"disabled":cn.bool,"blockSize":cn.number,"onChange":cn.func,"onAfterChange":cn.func};var br=C.default.getEnv(),Tr=function(v){function AtIndexes(_){var b=v.call(this,_)||this;return b.handleClick=function(v){b.props.onClick&&b.props.onClick(v)},b.handleTouchMove=function(v){v.stopPropagation(),v.preventDefault();var _=b.props.list,T=v.touches[0].pageY,S=Math.floor((T-b.startTop)/b.itemHeight);if(S>=0&&S<=_.length&&b.currentIndex!==S){b.currentIndex=S;var w="at-indexes__list-"+(S>0?_[S-1].key:"top");b.jumpTarget(w,S)}},b.handleTouchEnd=function(){b.currentIndex=-1},b.state={"_scrollIntoView":"","_scrollTop":0,"_tipText":"","_isShowToast":!1,"isWEB":C.default.getEnv()===C.default.ENV_TYPE.WEB},b.menuHeight=0,b.startTop=0,b.itemHeight=0,b.currentIndex=-1,b.listId="list-"+uuid(),b}return __extends(AtIndexes,v),AtIndexes.prototype.jumpTarget=function(v,_){var b=this,T=this.props,S=T.topKey,w=void 0===S?"Top":S,E=T.list,k=0===_?w:E[_-1].key;br!==C.default.ENV_TYPE.WEB?this.updateState({"_scrollIntoView":v,"_tipText":k}):delayQuerySelector(".at-indexes",0).then((function(T){var S=b.listRef.childNodes[_].offsetTop-T[0].top;b.updateState({"_scrollTop":S,"_scrollIntoView":v,"_tipText":k})}))},AtIndexes.prototype.__jumpTarget=function(v){var _=this.props.list.findIndex((function(_){return _.key===v})),b="at-indexes__list-"+v;this.jumpTarget(b,_+1)},AtIndexes.prototype.updateState=function(v){var _=this,b=this.props,T=b.isShowToast,S=b.isVibrate,w=v._scrollIntoView,E=v._tipText,k=v._scrollTop;this.setState({"_scrollIntoView":w,"_tipText":E,"_scrollTop":k,"_isShowToast":T},(function(){clearTimeout(_.timeoutTimer),_.timeoutTimer=setTimeout((function(){_.setState({"_tipText":"","_isShowToast":!1})}),3e3)})),S&&Object(C.vibrateShort)()},AtIndexes.prototype.initData=function(){var v=this;delayQuerySelector(".at-indexes__menu").then((function(_){var b=v.props.list.length;v.menuHeight=_[0].height,v.startTop=_[0].top,v.itemHeight=Math.floor(v.menuHeight/(b+1))}))},AtIndexes.prototype.handleScroll=function(v){v&&v.detail&&this.setState({"_scrollTop":v.detail.scrollTop})},AtIndexes.prototype.UNSAFE_componentWillReceiveProps=function(v){v.list.length!==this.props.list.length&&this.initData()},AtIndexes.prototype.componentDidMount=function(){br===C.default.ENV_TYPE.WEB&&(this.listRef=document.getElementById(this.listId)),this.initData()},AtIndexes.prototype.UNSAFE_componentWillMount=function(){this.props.onScrollIntoView&&this.props.onScrollIntoView(this.__jumpTarget.bind(this))},AtIndexes.prototype.render=function(){var v=this,_=this.props,b=_.className,T=_.customStyle,S=_.animation,C=_.topKey,k=_.list,x=this.state,P=x._scrollTop,O=x._scrollIntoView,L=x._tipText,D=x._isShowToast,N=x.isWEB,R={"minWidth":pxTransform(100)},B=I("at-indexes",b),j=k.map((function(_,b){var T=_.key,S="at-indexes__list-"+T;return w.a.createElement(E.q,{"className":"at-indexes__menu-item","key":T,"onClick":v.jumpTarget.bind(v,S,b+1)},T)})),U=k.map((function(_){return w.a.createElement(E.q,{"id":"at-indexes__list-"+_.key,"className":"at-indexes__list","key":_.key},w.a.createElement(E.q,{"className":"at-indexes__list-title"},_.title),w.a.createElement(An,null,_.items&&_.items.map((function(_){return w.a.createElement(Pn,{"key":_.name,"title":_.name,"onClick":v.handleClick.bind(v,_)})}))))}));return w.a.createElement(E.q,{"className":B,"style":T},w.a.createElement(ir,{"customStyle":R,"isOpened":D,"text":L,"duration":2e3}),w.a.createElement(E.q,{"className":"at-indexes__menu","onTouchMove":this.handleTouchMove,"onTouchEnd":this.handleTouchEnd},w.a.createElement(E.q,{"className":"at-indexes__menu-item","onClick":this.jumpTarget.bind(this,"at-indexes__top",0)},C),j),w.a.createElement(E.j,{"className":"at-indexes__body","id":this.listId,"scrollY":!0,"scrollWithAnimation":S,"scrollTop":N?P:void 0,"scrollIntoView":N?"":O,"onScroll":this.handleScroll.bind(this)},w.a.createElement(E.q,{"className":"at-indexes__content","id":"at-indexes__top"},this.props.children),U))},AtIndexes}(w.a.Component);Tr.propTypes={"customStyle":cn.oneOfType([cn.object,cn.string]),"className":cn.oneOfType([cn.array,cn.string]),"animation":cn.bool,"isVibrate":cn.bool,"isShowToast":cn.bool,"topKey":cn.string,"list":cn.array,"onClick":cn.func,"onScrollIntoView":cn.func},Tr.defaultProps={"customStyle":"","className":"","animation":!1,"topKey":"Top","isVibrate":!0,"isShowToast":!0,"list":[]};var Sr=createCommonjsModule((function(v,_){v.exports=function(){var v="millisecond",_="second",b="minute",T="hour",S="day",w="week",E="month",C="quarter",k="year",x=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,P=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I=function c(v,_,b){var T=String(v);return!T||T.length>=_?v:""+Array(_+1-T.length).join(b)+v},O={"s":I,"z":function z(v){var _=-v.utcOffset(),b=Math.abs(_),T=Math.floor(b/60),S=b%60;return(_<=0?"+":"-")+I(T,2,"0")+":"+I(S,2,"0")},"m":function m(v,_){var b=12*(_.year()-v.year())+(_.month()-v.month()),T=v.clone().add(b,E),S=_-T<0,w=v.clone().add(b+(S?-1:1),E);return Number(-(b+(_-T)/(S?T-w:w-T))||0)},"a":function a(v){return v<0?Math.ceil(v)||0:Math.floor(v)},"p":function p(x){return{"M":E,"y":k,"w":w,"d":S,"D":"date","h":T,"m":b,"s":_,"ms":v,"Q":C}[x]||String(x||"").toLowerCase().replace(/s$/,"")},"u":function u(v){return void 0===v}},L={"name":"en","weekdays":"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"months":"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},D="en",N={};N[D]=L;var R=function y(v){return v instanceof V},B=function M(v,_,b){var T;if(!v)return D;if("string"==typeof v)N[v]&&(T=v),_&&(N[v]=_,T=v);else{var S=v.name;N[S]=v,T=S}return!b&&T&&(D=T),T||!b&&D},j=function g(v,_,b){if(R(v))return v.clone();var T=_?"string"==typeof _?{"format":_,"pl":b}:_:{};return T.date=v,new V(T)},U=O;U.l=B,U.i=R,U.w=function(v,_){return j(v,{"locale":_.$L,"utc":_.$u,"$offset":_.$offset})};var V=function(){function c(v){this.$L=this.$L||B(v.locale,null,!0),this.parse(v)}var I=c.prototype;return I.parse=function(v){this.$d=function(v){var _=v.date,b=v.utc;if(null===_)return new Date(NaN);if(U.u(_))return new Date;if(_ instanceof Date)return new Date(_);if("string"==typeof _&&!/Z$/i.test(_)){var T=_.match(x);if(T)return b?new Date(Date.UTC(T[1],T[2]-1,T[3]||1,T[4]||0,T[5]||0,T[6]||0,T[7]||0)):new Date(T[1],T[2]-1,T[3]||1,T[4]||0,T[5]||0,T[6]||0,T[7]||0)}return new Date(_)}(v),this.init()},I.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},I.$utils=function(){return U},I.isValid=function(){return!("Invalid Date"===this.$d.toString())},I.isSame=function(v,_){var b=j(v);return this.startOf(_)<=b&&b<=this.endOf(_)},I.isAfter=function(v,_){return j(v)<this.startOf(_)},I.isBefore=function(v,_){return this.endOf(_)<j(v)},I.$g=function(v,_,b){return U.u(v)?this[_]:this.set(b,v)},I.year=function(v){return this.$g(v,"$y",k)},I.month=function(v){return this.$g(v,"$M",E)},I.day=function(v){return this.$g(v,"$W",S)},I.date=function(v){return this.$g(v,"$D","date")},I.hour=function(v){return this.$g(v,"$H",T)},I.minute=function(v){return this.$g(v,"$m",b)},I.second=function(v){return this.$g(v,"$s",_)},I.millisecond=function(_){return this.$g(_,"$ms",v)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(v,C){var x=this,P=!!U.u(C)||C,I=U.p(v),O=function d(v,_){var b=U.w(x.$u?Date.UTC(x.$y,_,v):new Date(x.$y,_,v),x);return P?b:b.endOf(S)},L=function $(v,_){return U.w(x.toDate()[v].apply(x.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(_)),x)},D=this.$W,N=this.$M,R=this.$D,B="set"+(this.$u?"UTC":"");switch(I){case k:return P?O(1,0):O(31,11);case E:return P?O(1,N):O(0,N+1);case w:var j=this.$locale().weekStart||0,V=(D<j?D+7:D)-j;return O(P?R-V:R+(6-V),N);case S:case"date":return L(B+"Hours",0);case T:return L(B+"Minutes",1);case b:return L(B+"Seconds",2);case _:return L(B+"Milliseconds",3);default:return this.clone()}},I.endOf=function(v){return this.startOf(v,!1)},I.$set=function(w,C){var x,P=U.p(w),I="set"+(this.$u?"UTC":""),O=(x={},x.day=I+"Date",x.date=I+"Date",x[E]=I+"Month",x[k]=I+"FullYear",x[T]=I+"Hours",x[b]=I+"Minutes",x[_]=I+"Seconds",x[v]=I+"Milliseconds",x)[P],L=P===S?this.$D+(C-this.$W):C;if(P===E||P===k){var D=this.clone().set("date",1);D.$d[O](L),D.init(),this.$d=D.set("date",Math.min(this.$D,D.daysInMonth())).toDate()}else O&&this.$d[O](L);return this.init(),this},I.set=function(v,_){return this.clone().$set(v,_)},I.get=function(v){return this[U.p(v)]()},I.add=function(v,C){var x,P=this;v=Number(v);var I=U.p(C),O=function d(_){var b=j(P);return U.w(b.date(b.date()+Math.round(_*v)),P)};if(I===E)return this.set(E,this.$M+v);if(I===k)return this.set(k,this.$y+v);if(I===S)return O(1);if(I===w)return O(7);var L=(x={},x[b]=6e4,x[T]=36e5,x[_]=1e3,x)[I]||1,D=this.$d.getTime()+v*L;return U.w(D,this)},I.subtract=function(v,_){return this.add(-1*v,_)},I.format=function(v){var _=this;if(!this.isValid())return"Invalid Date";var b=v||"YYYY-MM-DDTHH:mm:ssZ",T=U.z(this),S=this.$locale(),w=this.$H,E=this.$m,C=this.$M,k=S.weekdays,x=S.months,I=function c(v,T,S,w){return v&&(v[T]||v(_,b))||S[T].substr(0,w)},O=function d(v){return U.s(w%12||12,v,"0")},L=S.meridiem||function(v,_,b){var T=v<12?"AM":"PM";return b?T.toLowerCase():T},D={"YY":String(this.$y).slice(-2),"YYYY":this.$y,"M":C+1,"MM":U.s(C+1,2,"0"),"MMM":I(S.monthsShort,C,x,3),"MMMM":x[C]||x(this,b),"D":this.$D,"DD":U.s(this.$D,2,"0"),"d":String(this.$W),"dd":I(S.weekdaysMin,this.$W,k,2),"ddd":I(S.weekdaysShort,this.$W,k,3),"dddd":k[this.$W],"H":String(w),"HH":U.s(w,2,"0"),"h":O(1),"hh":O(2),"a":L(w,E,!0),"A":L(w,E,!1),"m":String(E),"mm":U.s(E,2,"0"),"s":String(this.$s),"ss":U.s(this.$s,2,"0"),"SSS":U.s(this.$ms,3,"0"),"Z":T};return b.replace(P,(function(v,_){return _||D[v]||T.replace(":","")}))},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(v,S,x){var P,I=U.p(S),O=j(v),L=6e4*(O.utcOffset()-this.utcOffset()),D=this-O,N=U.m(this,O);return N=(P={},P[k]=N/12,P[E]=N,P[C]=N/3,P[w]=(D-L)/6048e5,P.day=(D-L)/864e5,P[T]=D/36e5,P[b]=D/6e4,P[_]=D/1e3,P)[I]||D,x?N:U.a(N)},I.daysInMonth=function(){return this.endOf(E).$D},I.$locale=function(){return N[this.$L]},I.locale=function(v,_){if(!v)return this.$L;var b=this.clone(),T=B(v,_,!0);return T&&(b.$L=T),b},I.clone=function(){return U.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},c}();return j.prototype=V.prototype,j.extend=function(v,_){return v(_,V,j),j},j.locale=B,j.isDayjs=R,j.unix=function(v){return j(1e3*v)},j.en=N[D],j.Ls=N,j}()})),wr=Object.create,Er=function(){function object(){}return function(v){if(!ii(v))return{};if(wr)return wr(v);object.prototype=v;var _=new object;return object.prototype=void 0,_}}();var Cr=function baseLodash(){};function LodashWrapper(v,_){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=Er(Cr.prototype),LodashWrapper.prototype.constructor=LodashWrapper;var kr=LodashWrapper;var xr=function arrayPush(v,_){for(var b=-1,T=_.length,S=v.length;++b<T;)v[S+b]=_[b];return v};var Ar=function baseIsArguments(v){return ui(v)&&"[object Arguments]"==ni(v)},Pr=Object.prototype,Ir=Pr.hasOwnProperty,Or=Pr.propertyIsEnumerable,Lr=Ar(function(){return arguments}())?Ar:function(v){return ui(v)&&Ir.call(v,"callee")&&!Or.call(v,"callee")},Mr=jn?jn.isConcatSpreadable:void 0;var Dr=function isFlattenable(v){return xi(v)||Lr(v)||!!(Mr&&v&&v[Mr])};var Nr=function baseFlatten(v,_,b,T,S){var w=-1,E=v.length;for(b||(b=Dr),S||(S=[]);++w<E;){var C=v[w];_>0&&b(C)?_>1?baseFlatten(C,_-1,b,T,S):xr(S,C):T||(S[S.length]=C)}return S};var Rr=function flatten(v){return(null==v?0:v.length)?Nr(v,1):[]};var Br=function apply(v,_,b){switch(b.length){case 0:return v.call(_);case 1:return v.call(_,b[0]);case 2:return v.call(_,b[0],b[1]);case 3:return v.call(_,b[0],b[1],b[2])}return v.apply(_,b)},jr=Math.max;var Ur=function overRest(v,_,b){return _=jr(void 0===_?v.length-1:_,0),function(){for(var T=arguments,S=-1,w=jr(T.length-_,0),E=Array(w);++S<w;)E[S]=T[_+S];S=-1;for(var C=Array(_+1);++S<_;)C[S]=T[S];return C[_]=b(E),Br(v,this,C)}};var Fr,Vr=function constant(v){return function(){return v}},Hr=Bn["__core-js_shared__"],Wr=(Fr=/[^.]+$/.exec(Hr&&Hr.keys&&Hr.keys.IE_PROTO||""))?"Symbol(src)_1."+Fr:"";var qr=function isMasked(v){return!!Wr&&Wr in v},zr=Function.prototype.toString;var Gr=function toSource(v){if(null!=v){try{return zr.call(v)}catch(v){}try{return v+""}catch(v){}}return""},Yr=/^\[object .+?Constructor\]$/,Xr=Function.prototype,Kr=Object.prototype,Qr=Xr.toString,$r=Kr.hasOwnProperty,Jr=RegExp("^"+Qr.call($r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Zr=function baseIsNative(v){return!(!ii(v)||qr(v))&&(ri(v)?Jr:Yr).test(Gr(v))};var ea=function getValue(v,_){return null==v?void 0:v[_]};var ta=function getNative(v,_){var b=ea(v,_);return Zr(b)?b:void 0},na=function(){try{var v=ta(Object,"defineProperty");return v({},"",{}),v}catch(v){}}();var ia=na?function(v,_){return na(v,"toString",{"configurable":!0,"enumerable":!1,"value":Vr(_),"writable":!0})}:function identity(v){return v},ra=Date.now;var aa=function shortOut(v){var _=0,b=0;return function(){var T=ra(),S=16-(T-b);if(b=T,S>0){if(++_>=800)return arguments[0]}else _=0;return v.apply(void 0,arguments)}}(ia);var oa=function flatRest(v){return aa(Ur(v,void 0,Rr),v+"")},sa=ta(Bn,"WeakMap"),la=sa&&new sa;var ca=la?function(v){return la.get(v)}:function noop(){},ua={},da=Object.prototype.hasOwnProperty;var ha=function getFuncName(v){for(var _=v.name+"",b=ua[_],T=da.call(ua,_)?b.length:0;T--;){var S=b[T],w=S.func;if(null==w||w==v)return S.name}return _};function LazyWrapper(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}LazyWrapper.prototype=Er(Cr.prototype),LazyWrapper.prototype.constructor=LazyWrapper;var pa=LazyWrapper;var fa=function copyArray(v,_){var b=-1,T=v.length;for(_||(_=Array(T));++b<T;)_[b]=v[b];return _};var ma=function wrapperClone(v){if(v instanceof pa)return v.clone();var _=new kr(v.__wrapped__,v.__chain__);return _.__actions__=fa(v.__actions__),_.__index__=v.__index__,_.__values__=v.__values__,_},ga=Object.prototype.hasOwnProperty;function lodash(v){if(ui(v)&&!xi(v)&&!(v instanceof pa)){if(v instanceof kr)return v;if(ga.call(v,"__wrapped__"))return ma(v)}return new kr(v)}lodash.prototype=Cr.prototype,lodash.prototype.constructor=lodash;var va=lodash;var ya=function isLaziable(v){var _=ha(v),b=va[_];if("function"!=typeof b||!(_ in pa.prototype))return!1;if(v===b)return!0;var T=ca(b);return!!T&&v===T[0]};var _a=function createFlow(v){return oa((function(_){var b=_.length,T=b,S=kr.prototype.thru;for(v&&_.reverse();T--;){var w=_[T];if("function"!=typeof w)throw new TypeError("Expected a function");if(S&&!E&&"wrapper"==ha(w))var E=new kr([],!0)}for(T=E?T:b;++T<b;){w=_[T];var C=ha(w),k="wrapper"==C?ca(w):void 0;E=k&&ya(k[0])&&424==k[1]&&!k[4].length&&1==k[9]?E[ha(k[0])].apply(E,k[3]):1==w.length&&ya(w)?E[C]():E.thru(w)}return function(){var v=arguments,T=v[0];if(E&&1==v.length&&xi(T))return E.plant(T).value();for(var S=0,w=b?_[S].apply(this,v):T;++S<b;)w=_[S].call(this,w);return w}}))}(),ba=Object.prototype;var Ta=function isPrototype(v){var _=v&&v.constructor;return v===("function"==typeof _&&_.prototype||ba)};var Sa=function overArg(v,_){return function(b){return v(_(b))}}(Object.keys,Object),wa=Object.prototype.hasOwnProperty;var Ea=function baseKeys(v){if(!Ta(v))return Sa(v);var _=[];for(var b in Object(v))wa.call(v,b)&&"constructor"!=b&&_.push(b);return _},Ca=ta(Bn,"DataView"),ka=ta(Bn,"Map"),xa=ta(Bn,"Promise"),Aa=ta(Bn,"Set"),Pa=Gr(Ca),Ia=Gr(ka),Oa=Gr(xa),La=Gr(Aa),Ma=Gr(sa),Da=ni;(Ca&&"[object DataView]"!=Da(new Ca(new ArrayBuffer(1)))||ka&&"[object Map]"!=Da(new ka)||xa&&"[object Promise]"!=Da(xa.resolve())||Aa&&"[object Set]"!=Da(new Aa)||sa&&"[object WeakMap]"!=Da(new sa))&&(Da=function getTag(v){var _=ni(v),b="[object Object]"==_?v.constructor:void 0,T=b?Gr(b):"";if(T)switch(T){case Pa:return"[object DataView]";case Ia:return"[object Map]";case Oa:return"[object Promise]";case La:return"[object Set]";case Ma:return"[object WeakMap]"}return _});var Na=Da;var Ra=function stubFalse(){return!1},Ba=createCommonjsModule((function(v,_){var b=_&&!_.nodeType&&_,T=b&&v&&!v.nodeType&&v,S=T&&T.exports===b?Bn.Buffer:void 0,w=(S?S.isBuffer:void 0)||Ra;v.exports=w})),ja={};ja["[object Float32Array]"]=ja["[object Float64Array]"]=ja["[object Int8Array]"]=ja["[object Int16Array]"]=ja["[object Int32Array]"]=ja["[object Uint8Array]"]=ja["[object Uint8ClampedArray]"]=ja["[object Uint16Array]"]=ja["[object Uint32Array]"]=!0,ja["[object Arguments]"]=ja["[object Array]"]=ja["[object ArrayBuffer]"]=ja["[object Boolean]"]=ja["[object DataView]"]=ja["[object Date]"]=ja["[object Error]"]=ja["[object Function]"]=ja["[object Map]"]=ja["[object Number]"]=ja["[object Object]"]=ja["[object RegExp]"]=ja["[object Set]"]=ja["[object String]"]=ja["[object WeakMap]"]=!1;var Ua=function baseIsTypedArray(v){return ui(v)&&ai(v.length)&&!!ja[ni(v)]};var Fa=function baseUnary(v){return function(_){return v(_)}},Va=createCommonjsModule((function(v,_){var b=_&&!_.nodeType&&_,T=b&&v&&!v.nodeType&&v,S=T&&T.exports===b&&Nn.process,w=function(){try{var v=T&&T.require&&T.require("util").types;return v||S&&S.binding&&S.binding("util")}catch(v){}}();v.exports=w})),Ha=Va&&Va.isTypedArray,Wa=Ha?Fa(Ha):Ua,qa=Object.prototype.hasOwnProperty;var za=function isEmpty(v){if(null==v)return!0;if(oi(v)&&(xi(v)||"string"==typeof v||"function"==typeof v.splice||Ba(v)||Wa(v)||Lr(v)))return!v.length;var _=Na(v);if("[object Map]"==_||"[object Set]"==_)return!v.size;if(Ta(v))return!Ea(v).length;for(var b in v)if(qa.call(v,b))return!1;return!0};var Ga,Ya=[function handleActive(v,_){var b=v.selectedDate,T=_._value,S=b.start,w=b.end,E=Sr(w),C=S?Sr(S):E;return _.isSelected=T.isSame(E)||T.isSame(C)||T.isAfter(C)&&T.isBefore(E),_.isSelectedHead=T.isSame(C),_.isSelectedTail=T.isSame(E),_.isToday=0===T.diff(Sr(Date.now()).startOf("day"),"day"),_},function handleMarks(v,_){var b=v.options,T=_._value,S=b.marks.filter((function(v){return Sr(v.value).startOf("day").isSame(T)}));return _.marks=S.slice(0,1),_},function handleDisabled(v,_){var b=v.options,T=_._value,S=b.minDate,w=b.maxDate,E=Sr(S),C=Sr(w);return _.isDisabled=!(!S||!T.isBefore(E))||!(!w||!T.isAfter(C)),_},function handleValid(v,_){var b=v.options,T=_._value,S=b.validDates;if(!za(S)){var w=S.some((function(v){return Sr(v.value).startOf("day").isSame(T)}));_.isDisabled=!w}return delete _._value,_}];function getFullItem(v,_,b,T){if(!T)return v;var S=Ya.map((function(v){return v.bind(null,{"options":_,"selectedDate":b})}));return _a(S)(v)}function generateCalendarGroup(v){return function(_,b,T){for(var S=Sr(_),w=v.format,E=S.startOf("month"),C=S.endOf("month"),k=S.subtract(1,"month"),x=[],P=S.daysInMonth(),I=k.endOf("month").day(),O=1;O<=I+1;O++){R=getFullItem(R={"marks":[],"_value":N=E.subtract(O,"day").startOf("day"),"text":N.date(),"type":-1,"value":N.format(w)},v,b,T),x.push(R)}x.reverse();for(var L=0;L<P;L++){R=getFullItem(R={"marks":[],"_value":N=E.add(L,"day").startOf("day"),"text":N.date(),"type":0,"value":N.format(w)},v,b,T),x.push(R)}for(var D=1;x.length<42;){var N,R;R=getFullItem(R={"marks":[],"_value":N=C.add(D++,"day").startOf("day"),"text":N.date(),"type":1,"value":N.format(w)},v,b,T),x.push(R)}return{"list":x,"value":_}}}var Xa=((Ga={})[-1]="pre",Ga[0]="now",Ga[1]="next",Ga),Ka=function(v){function AtCalendarList(){var _=null!==v&&v.apply(this,arguments)||this;return _.handleClick=function(v){"function"==typeof _.props.onClick&&_.props.onClick(v)},_.handleLongClick=function(v){"function"==typeof _.props.onLongClick&&_.props.onLongClick(v)},_}return __extends(AtCalendarList,v),AtCalendarList.prototype.render=function(){var v=this,_=this.props.list;return _&&0!==_.length?w.a.createElement(E.q,{"className":"at-calendar__list flex"},_.map((function(_){return w.a.createElement(E.q,{"key":"list-item-"+_.value,"onClick":v.handleClick.bind(v,_),"onLongPress":v.handleLongClick.bind(v,_),"className":I("flex__item","flex__item--"+Xa[_.type],{"flex__item--today":_.isToday,"flex__item--active":_.isActive,"flex__item--selected":_.isSelected,"flex__item--selected-head":_.isSelectedHead,"flex__item--selected-tail":_.isSelectedTail,"flex__item--blur":_.isDisabled||-1===_.type||1===_.type})},w.a.createElement(E.q,{"className":"flex__item-container"},w.a.createElement(E.q,{"className":"container-text"},_.text)),w.a.createElement(E.q,{"className":"flex__item-extra extra"},_.marks&&_.marks.length>0?w.a.createElement(E.q,{"className":"extra-marks"},_.marks.map((function(v,_){return w.a.createElement(E.o,{"key":_,"className":"mark"},v)}))):null))}))):null},AtCalendarList}(w.a.Component),Qa=function(v){function AtCalendarHeader(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtCalendarHeader,v),AtCalendarHeader.prototype.render=function(){return w.a.createElement(E.q,{"className":"at-calendar__header header"},w.a.createElement(E.q,{"className":"header__flex"},w.a.createElement(E.q,{"className":"header__flex-item"},"日"),w.a.createElement(E.q,{"className":"header__flex-item"},"一"),w.a.createElement(E.q,{"className":"header__flex-item"},"二"),w.a.createElement(E.q,{"className":"header__flex-item"},"三"),w.a.createElement(E.q,{"className":"header__flex-item"},"四"),w.a.createElement(E.q,{"className":"header__flex-item"},"五"),w.a.createElement(E.q,{"className":"header__flex-item"},"六")))},AtCalendarHeader}(w.a.Component),$a={"marks":[],"selectedDate":{"end":Date.now(),"start":Date.now()},"format":"YYYY-MM-DD","generateDate":Date.now()},Ja=function(v){function AtCalendarBody(_){var b=v.call(this,_)||this;b.changeCount=0,b.currentSwiperIndex=1,b.startX=0,b.swipeStartPoint=0,b.isPreMonth=!1,b.maxWidth=0,b.isTouching=!1,b.getGroups=function(v,_){var T=Sr(v),S=[],w=b.generateFunc(T.subtract(1,"month").valueOf(),_),E=b.generateFunc(v,_,!0),C=b.generateFunc(T.add(1,"month").valueOf(),_),k=0===b.currentSwiperIndex?2:b.currentSwiperIndex-1,x=2===b.currentSwiperIndex?0:b.currentSwiperIndex+1;return S[k]=w,S[x]=C,S[b.currentSwiperIndex]=E,S},b.handleTouchStart=function(v){b.props.isSwiper&&(b.isTouching=!0,b.startX=v.touches[0].clientX)},b.handleTouchMove=function(v){if(b.props.isSwiper&&b.isTouching){var _=v.touches[0].clientX-b.startX;b.setState({"offsetSize":_})}},b.animateMoveSlide=function(v,_){b.setState({"isAnimate":!0},(function(){b.setState({"offsetSize":v}),setTimeout((function(){b.setState({"isAnimate":!1},(function(){_&&_()}))}),300)}))},b.handleTouchEnd=function(){if(b.props.isSwiper){var v=b.state.offsetSize;b.isTouching=!1;var _=v>0,T=b.maxWidth/2;if(Math.abs(v)>T){var S=_?b.maxWidth:-b.maxWidth;return b.animateMoveSlide(S,(function(){b.props.onSwipeMonth(_?-1:1)}))}b.animateMoveSlide(0)}},b.handleChange=function(v){var _=v.detail,T=_.current;"touch"===_.source&&(b.currentSwiperIndex=T,b.changeCount+=1)},b.handleAnimateFinish=function(){b.changeCount>0&&(b.props.onSwipeMonth(b.isPreMonth?-b.changeCount:b.changeCount),b.changeCount=0)},b.handleSwipeTouchStart=function(v){var _=v.changedTouches[0],T=_.clientY,S=_.clientX;b.swipeStartPoint=b.props.isVertical?T:S},b.handleSwipeTouchEnd=function(v){var _=v.changedTouches[0],T=_.clientY,S=_.clientX;b.isPreMonth=b.props.isVertical?T-b.swipeStartPoint>0:S-b.swipeStartPoint>0};var T=_.validDates,S=_.marks,w=_.format,E=_.minDate,C=_.maxDate,k=_.generateDate,x=_.selectedDate,P=_.selectedDates;b.generateFunc=generateCalendarGroup({"validDates":T,"format":w,"minDate":E,"maxDate":C,"marks":S,"selectedDates":P});var I=b.getGroups(k,x);return b.state={"listGroup":I,"offsetSize":0,"isAnimate":!1},b}return __extends(AtCalendarBody,v),AtCalendarBody.prototype.componentDidMount=function(){var v=this;delayQuerySelector(".at-calendar-slider__main").then((function(_){v.maxWidth=_[0].width}))},AtCalendarBody.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.validDates,b=v.marks,T=v.format,S=v.minDate,w=v.maxDate,E=v.generateDate,C=v.selectedDate,k=v.selectedDates;this.generateFunc=generateCalendarGroup({"validDates":_,"format":T,"minDate":S,"maxDate":w,"marks":b,"selectedDates":k});var x=this.getGroups(E,C);this.setState({"offsetSize":0,"listGroup":x})},AtCalendarBody.prototype.render=function(){var v=this.props.isSwiper,_=this.state,b=_.isAnimate,T=_.offsetSize,S=_.listGroup;return v?w.a.createElement(E.q,{"className":I("main","at-calendar-slider__main","at-calendar-slider__main--h5"),"onTouchEnd":this.handleTouchEnd,"onTouchMove":this.handleTouchMove,"onTouchStart":this.handleTouchStart},w.a.createElement(Qa,null),w.a.createElement(E.q,{"className":I("main__body  body",{"main__body--slider":v,"main__body--animate":b}),"style":{"transform":v?"translateX(-100%) translate3d("+T+",0,0)":"","WebkitTransform":v?"translateX(-100%) translate3d("+T+"px,0,0)":""}},w.a.createElement(E.q,{"className":"body__slider body__slider--pre"},w.a.createElement(Ka,{"list":S[0].list})),w.a.createElement(E.q,{"className":"body__slider body__slider--now"},w.a.createElement(Ka,{"list":S[1].list,"onClick":this.props.onDayClick,"onLongClick":this.props.onLongClick})),w.a.createElement(E.q,{"className":"body__slider body__slider--next"},w.a.createElement(Ka,{"list":S[2].list})))):w.a.createElement(E.q,{"className":I("main","at-calendar-slider__main","at-calendar-slider__main--h5")},w.a.createElement(Qa,null),w.a.createElement(E.q,{"className":"main__body body"},w.a.createElement(E.q,{"className":"body__slider body__slider--now"},w.a.createElement(Ka,{"list":S[1].list,"onClick":this.props.onDayClick,"onLongClick":this.props.onLongClick}))))},AtCalendarBody.defaultProps=$a,AtCalendarBody}(w.a.Component),Za=function(v){function AtCalendarController(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtCalendarController,v),AtCalendarController.prototype.render=function(){var v=this.props,_=v.generateDate,b=v.minDate,T=v.maxDate,S=v.monthFormat,C=v.hideArrow,k=Sr(_),x=!!b&&Sr(b),P=!!T&&Sr(T),O=x&&x.startOf("month").isSame(k),L=P&&P.startOf("month").isSame(k),D=x?x.format("YYYY-MM"):"",N=P?P.format("YYYY-MM"):"";return w.a.createElement(E.q,{"className":"at-calendar__controller controller"},C?null:w.a.createElement(E.q,{"className":I("controller__arrow controller__arrow--left",{"controller__arrow--disabled":O}),"onClick":this.props.onPreMonth.bind(this,O)}),w.a.createElement(E.i,{"mode":"date","fields":"month","end":N,"start":D,"onChange":this.props.onSelectDate,"value":k.format("YYYY-MM")},w.a.createElement(E.o,{"className":"controller__info"},k.format(S))),C?null:w.a.createElement(E.q,{"className":I("controller__arrow controller__arrow--right",{"controller__arrow--disabled":L}),"onClick":this.props.onNextMonth.bind(this,L)}))},AtCalendarController}(w.a.Component),_o={"validDates":[],"marks":[],"isSwiper":!0,"hideArrow":!1,"isVertical":!1,"selectedDates":[],"isMultiSelect":!1,"format":"YYYY-MM-DD","currentDate":Date.now(),"monthFormat":"YYYY年MM月"},Co=(function(v){function AtCalendar(_){var b=v.call(this,_)||this;b.getSingleSelectdState=function(v){var _=b.state.generateDate,T={"selectedDate":b.getSelectedDate(v.valueOf())},S=v.startOf("month"),w=S.valueOf();return w!==_&&(b.triggerChangeDate(S),T.generateDate=w),T},b.getMultiSelectedState=function(v){var _=b.state.selectedDate,T=_.end,S=_.start,w=v.valueOf(),E={"selectedDate":_};return T?E.selectedDate=b.getSelectedDate(w,0):(E.selectedDate.end=Math.max(w,+S),E.selectedDate.start=Math.min(w,+S)),E},b.getSelectedDate=function(v,_){var b={"start":v,"end":v};return void 0!==_&&(b.end=_),b},b.triggerChangeDate=function(v){var _=b.props.format;"function"==typeof b.props.onMonthChange&&b.props.onMonthChange(v.format(_))},b.setMonth=function(v){var _=b.props.format,T=b.state.generateDate,S=Sr(T).add(v,"month");b.setState({"generateDate":S.valueOf()}),v&&"function"==typeof b.props.onMonthChange&&b.props.onMonthChange(S.format(_))},b.handleClickPreMonth=function(v){!0!==v&&(b.setMonth(-1),"function"==typeof b.props.onClickPreMonth&&b.props.onClickPreMonth())},b.handleClickNextMonth=function(v){!0!==v&&(b.setMonth(1),"function"==typeof b.props.onClickNextMonth&&b.props.onClickNextMonth())},b.handleSelectDate=function(v){var _=v.detail.value,T=Sr(_),S=T.valueOf();b.state.generateDate!==S&&(b.triggerChangeDate(T),b.setState({"generateDate":S}))},b.handleDayClick=function(v){var _=b.props.isMultiSelect,T=v.isDisabled,S=v.value;if(!T){var w=Sr(S),E={};E=_?b.getMultiSelectedState(w):b.getSingleSelectdState(w),b.setState(E,(function(){b.handleSelectedDate()})),"function"==typeof b.props.onDayClick&&b.props.onDayClick({"value":v.value})}},b.handleSelectedDate=function(){var v=b.state.selectedDate;if("function"==typeof b.props.onSelectDate){var _={"start":Sr(v.start).format(b.props.format)};v.end&&(_.end=Sr(v.end).format(b.props.format)),b.props.onSelectDate({"value":_})}},b.handleDayLongClick=function(v){"function"==typeof b.props.onDayLongClick&&b.props.onDayLongClick({"value":v.value})};var T=_,S=T.currentDate,w=T.isMultiSelect;return b.state=b.getInitializeState(S,w),b}__extends(AtCalendar,v),AtCalendar.prototype.UNSAFE_componentWillReceiveProps=function(v){var _=v.currentDate,b=v.isMultiSelect;if(_&&_!==this.props.currentDate){if(b&&this.props.isMultiSelect){var T=_,S=T.start,w=T.end,E=this.props.currentDate,C=E.start,k=E.end;if(S===C&&k===w)return}var x=this.getInitializeState(_,b);this.setState(x)}},AtCalendar.prototype.getInitializeState=function(v,_){var b,T,S;if(!v)return T=(k=Sr()).startOf("day").valueOf(),{"generateDate":S=k.startOf("month").valueOf(),"selectedDate":{"start":""}};if(_){var w=v,E=w.start,C=w.end;T=(k=Sr(E)).startOf("day").valueOf(),S=k.startOf("month").valueOf(),b=C?Sr(C).startOf("day").valueOf():T}else{var k;T=(k=Sr(v)).startOf("day").valueOf(),S=k.startOf("month").valueOf(),b=T}return{"generateDate":S,"selectedDate":this.getSelectedDate(T,b)}},AtCalendar.prototype.render=function(){var v=this.state,_=v.generateDate,b=v.selectedDate,T=this.props,S=T.validDates,C=T.marks,k=T.format,x=T.minDate,P=T.maxDate,O=T.isSwiper,L=T.className,D=T.hideArrow,N=T.isVertical,R=T.monthFormat,B=T.selectedDates;return w.a.createElement(E.q,{"className":I("at-calendar",L)},w.a.createElement(Za,{"minDate":x,"maxDate":P,"hideArrow":D,"monthFormat":R,"generateDate":_,"onPreMonth":this.handleClickPreMonth,"onNextMonth":this.handleClickNextMonth,"onSelectDate":this.handleSelectDate}),w.a.createElement(Ja,{"validDates":S,"marks":C,"format":k,"minDate":x,"maxDate":P,"isSwiper":O,"isVertical":N,"selectedDate":b,"selectedDates":B,"generateDate":_,"onDayClick":this.handleDayClick,"onSwipeMonth":this.setMonth,"onLongClick":this.handleDayLongClick}))},AtCalendar.defaultProps=_o}(w.a.Component),function(v){function AtFab(){return null!==v&&v.apply(this,arguments)||this}return __extends(AtFab,v),AtFab.prototype.onClick=function(v){"function"==typeof this.props.onClick&&this.props.onClick(v)},AtFab.prototype.render=function(){var v,_=this.props,b=_.size,T=_.className,S=_.children,C=I("at-fab",T,((v={})["at-fab--"+b]=b,v));return w.a.createElement(E.q,{"className":C,"onClick":this.onClick.bind(this)},S)},AtFab}(w.a.Component));Co.propTypes={"size":cn.oneOf(["normal","small"]),"onClick":cn.func},Co.defaultProps={"size":"normal"};var ko=function objectToString$2(v){if(v&&"object"===Object(T.a)(v)){var _="";return Object.keys(v).forEach((function(b){var T=b.replace(/([A-Z])/g,"-$1").toLowerCase();_+=T+":"+v[b]+";"})),_}return v&&"string"==typeof v?v:""};!function(v){function AtComponent(){return null!==v&&v.apply(this,arguments)||this}__extends(AtComponent,v),AtComponent.prototype.mergeStyle=function(v,_){return v&&"object"===Object(T.a)(v)&&_&&"object"===Object(T.a)(_)?Object.assign({},v,_):ko(v)+ko(_)}}(S.Component)}).call(this,b(21))},function(v,_,b){"use strict";b.d(_,"a",(function(){return Wo})),b.d(_,"b",(function(){return qo})),b.d(_,"c",(function(){return zo}));var T=b(44),S=b.n(T),w=b(16),E=b.n(w);const C=new Map;function Recoil_gkx(v){var _;return null!==(_=C.get(v))&&void 0!==_&&_}Recoil_gkx.setPass=v=>{C.set(v,!0)},Recoil_gkx.setFail=v=>{C.set(v,!1)};var k=Recoil_gkx;var x=function mapMap(v,_){const b=new Map;return v.forEach((v,T)=>{b.set(T,_(v,T))}),b};var P=function nullthrows(v,_){if(null!=v)return v;throw new Error(null!=_?_:"Got unexpected null or undefined")};var I=function recoverableViolation(v,_,{"error":b}={}){return null};var O={"trace":function trace(v,_,b){return b()},"wrap":function wrap(v){return v}};var L={"setByAddingToSet":function setByAddingToSet(v,_){const b=new Set(v);return b.add(_),b},"setByDeletingFromSet":function setByDeletingFromSet(v,_){const b=new Set(v);return b.delete(_),b},"mapBySettingInMap":function mapBySettingInMap(v,_,b){const T=new Map(v);return T.set(_,b),T},"mapByUpdatingInMap":function mapByUpdatingInMap(v,_,b){const T=new Map(v);return T.set(_,b(T.get(_))),T},"mapByDeletingFromMap":function mapByDeletingFromMap(v,_){const b=new Map(v);return b.delete(_),b},"mapByDeletingMultipleFromMap":function mapByDeletingMultipleFromMap(v,_){const b=new Map(v);return _.forEach(v=>b.delete(v)),b}};var D=function expectationViolation(v,..._){0};function _defineProperty(v,_,b){return _ in v?Object.defineProperty(v,_,{"value":b,"enumerable":!0,"configurable":!0,"writable":!0}):v[_]=b,v}class AbstractRecoilValue{"constructor"(v){_defineProperty(this,"key",void 0),this.key=v}}class RecoilState extends AbstractRecoilValue{}class RecoilValueReadOnly extends AbstractRecoilValue{}var N={"AbstractRecoilValue":AbstractRecoilValue,"RecoilState":RecoilState,"RecoilValueReadOnly":RecoilValueReadOnly,"isRecoilValue":function isRecoilValue(v){return v instanceof RecoilState||v instanceof RecoilValueReadOnly}},R=N.AbstractRecoilValue,B=N.RecoilState,j=N.RecoilValueReadOnly,U=N.isRecoilValue,V=Object.freeze({"__proto__":null,"AbstractRecoilValue":R,"RecoilState":B,"RecoilValueReadOnly":j,"isRecoilValue":U});class DefaultValue{}const H=new DefaultValue;class RecoilValueNotReady extends Error{"constructor"(v){super(`Tried to set the value of Recoil selector ${v} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const W=new Map,q=new Map;class NodeMissingError extends Error{}var G={"nodes":W,"recoilValues":q,"registerNode":function registerNode(v){if(W.has(v.key)){const _=`Duplicate atom key "${v.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(_)}W.set(v.key,v);const _=null==v.set?new V.RecoilValueReadOnly(v.key):new V.RecoilState(v.key);return q.set(v.key,_),_},"getNode":function getNode(v){const _=W.get(v);if(null==_)throw new NodeMissingError(`Missing definition for RecoilValue: "${v}""`);return _},"getNodeMaybe":function getNodeMaybe(v){return W.get(v)},"NodeMissingError":NodeMissingError,"DefaultValue":DefaultValue,"DEFAULT_VALUE":H,"RecoilValueNotReady":RecoilValueNotReady};const{"mapByDeletingFromMap":Y,"mapBySettingInMap":X,"setByAddingToSet":K}=L,{"getNode":Q,"getNodeMaybe":J}=G,Z=Object.freeze(new Set);class ReadOnlyRecoilValueError extends Error{}var ee={"getNodeLoadable":function getNodeLoadable(v,_,b){return Q(b).get(v,_)},"peekNodeLoadable":function peekNodeLoadable(v,_,b){return Q(b).peek(v,_)},"setNodeValue":function setNodeValue(v,_,b,T){const S=Q(b);if(null==S.set)throw new ReadOnlyRecoilValueError("Attempt to set read-only RecoilValue: "+b);return S.set(v,_,T)},"cleanUpNode":function cleanUpNode(v,_){Q(_).cleanUp(v)},"setUnvalidatedAtomValue_DEPRECATED":function setUnvalidatedAtomValue_DEPRECATED(v,_,b){var T;const S=J(_);return null==S||null===(T=S.invalidate)||void 0===T||T.call(S,v),{...v,"atomValues":Y(v.atomValues,_),"nonvalidatedAtoms":X(v.nonvalidatedAtoms,_,b),"dirtyAtoms":K(v.dirtyAtoms,_)}},"getDownstreamNodes":function getDownstreamNodes(v,_,b){const T=new Set,S=Array.from(b),w=v.getGraph(_.version);for(let v=S.pop();v;v=S.pop()){var E;T.add(v);const _=null!==(E=w.nodeToNodeSubscriptions.get(v))&&void 0!==E?E:Z;for(const v of _)T.has(v)||S.push(v)}return T}};var te=function differenceSets(v,..._){const b=new Set;e:for(const T of v){for(const v of _)if(v.has(T))continue e;b.add(T)}return b};function mergeDependencyMapIntoGraph(v,_,b){const{"nodeDeps":T,"nodeToNodeSubscriptions":S}=_;v.forEach((v,_)=>{const w=T.get(_);if(w&&b&&w!==b.nodeDeps.get(_))return;T.set(_,new Set(v));if((null==w?v:te(v,w)).forEach(v=>{S.has(v)||S.set(v,new Set);P(S.get(v)).add(_)}),w){te(w,v).forEach(v=>{if(!S.has(v))return;const b=P(S.get(v));b.delete(_),0===b.size&&S.delete(v)})}})}var ne={"addToDependencyMap":function addToDependencyMap(v,_,b){b.has(v)||b.set(v,new Set),P(b.get(v)).add(_)},"cloneGraph":function cloneGraph(v){return{"nodeDeps":x(v.nodeDeps,v=>new Set(v)),"nodeToNodeSubscriptions":x(v.nodeToNodeSubscriptions,v=>new Set(v))}},"graph":function graph(){return{"nodeDeps":new Map,"nodeToNodeSubscriptions":new Map}},"mergeDepsIntoDependencyMap":function mergeDepsIntoDependencyMap(v,_){v.forEach((v,b)=>{_.has(b)||_.set(b,new Set);const T=P(_.get(b));v.forEach(v=>T.add(v))})},"saveDependencyMapToStore":function saveDependencyMapToStore(v,_,b){var T,S,w,E;const C=_.getState();b!==C.currentTree.version&&b!==(null===(T=C.nextTree)||void 0===T?void 0:T.version)&&b!==(null===(S=C.previousTree)||void 0===S?void 0:S.version)&&I("Tried to save dependencies to a discarded tree");const k=_.getGraph(b);if(mergeDependencyMapIntoGraph(v,k),b===(null===(w=C.previousTree)||void 0===w?void 0:w.version)){mergeDependencyMapIntoGraph(v,_.getGraph(C.currentTree.version),k)}if(b===(null===(E=C.previousTree)||void 0===E?void 0:E.version)||b===C.currentTree.version){var x;const b=null===(x=C.nextTree)||void 0===x?void 0:x.version;if(void 0!==b){mergeDependencyMapIntoGraph(v,_.getGraph(b),k)}}}};const{"getDownstreamNodes":oe,"getNodeLoadable":an,"setNodeValue":sn}=ee,{"saveDependencyMapToStore":cn}=ne,{"getNodeMaybe":un}=G,{"DefaultValue":dn,"RecoilValueNotReady":hn}=G,{"AbstractRecoilValue":pn,"RecoilState":mn,"RecoilValueReadOnly":gn,"isRecoilValue":vn}=V;function applyAction(v,_,b){if("set"===b.type){const{"recoilValue":T,"valueOrUpdater":S}=b,w=function valueFromValueOrUpdater(v,_,{"key":b},T){if("function"==typeof T){const S=an(v,_,b)[1];if("loading"===S.state)throw new hn(b);if("hasError"===S.state)throw S.contents;return T(S.contents)}return T}(v,_,T,S),[E,C]=sn(v,_,T.key,w);cn(E,v,_.version);for(const[v,b]of C.entries())writeLoadableToTreeState(_,v,b)}else if("setLoadable"===b.type){const{"recoilValue":{"key":v},"loadable":T}=b;writeLoadableToTreeState(_,v,T)}else if("markModified"===b.type){const{"recoilValue":{"key":v}}=b;_.dirtyAtoms.add(v)}else if("setUnvalidated"===b.type){var T;const{"recoilValue":{"key":v},"unvalidatedValue":S}=b,w=un(v);null==w||null===(T=w.invalidate)||void 0===T||T.call(w,_),_.atomValues.delete(v),_.nonvalidatedAtoms.set(v,S),_.dirtyAtoms.add(v)}else I("Unknown action "+b.type)}function writeLoadableToTreeState(v,_,b){"hasValue"===b.state&&b.contents instanceof dn?v.atomValues.delete(_):v.atomValues.set(_,b),v.dirtyAtoms.add(_),v.nonvalidatedAtoms.delete(_)}function applyActionsToStore(v,_){v.replaceState(b=>{const T=function copyTreeState(v){return{...v,"atomValues":new Map(v.atomValues),"nonvalidatedAtoms":new Map(v.nonvalidatedAtoms),"dirtyAtoms":new Set(v.dirtyAtoms)}}(b);for(const b of _)applyAction(v,T,b);return invalidateDownstreams(v,T),T})}function queueOrPerformStateUpdate(v,_,b,T){if(yn.length){const b=yn[yn.length-1];let T=b.get(v);T||b.set(v,T=[]),T.push(_)}else O.trace(T,b,()=>applyActionsToStore(v,[_]))}const yn=[];function invalidateDownstreams(v,_){const b=oe(v,_,_.dirtyAtoms);for(const v of b){var T,S;null===(T=un(v))||void 0===T||null===(S=T.invalidate)||void 0===S||S.call(T,_)}}function setRecoilValue(v,_,b){queueOrPerformStateUpdate(v,{"type":"set","recoilValue":_,"valueOrUpdater":b},_.key,"set Recoil value")}let bn=0;var Tn={"RecoilValueReadOnly":gn,"AbstractRecoilValue":pn,"RecoilState":mn,"getRecoilValueAsLoadable":function getRecoilValueAsLoadable(v,{"key":_},b=v.getState().currentTree){var T,S;const w=v.getState();b.version!==w.currentTree.version&&b.version!==(null===(T=w.nextTree)||void 0===T?void 0:T.version)&&b.version!==(null===(S=w.previousTree)||void 0===S?void 0:S.version)&&I("Tried to read from a discarded tree");const[E,C]=an(v,b,_);return k("recoil_async_selector_refactor")||cn(E,v,b.version),C},"setRecoilValue":setRecoilValue,"setRecoilValueLoadable":function setRecoilValueLoadable(v,_,b){if(b instanceof dn)return setRecoilValue(v,_,b);queueOrPerformStateUpdate(v,{"type":"setLoadable","recoilValue":_,"loadable":b},_.key,"set Recoil value")},"markRecoilValueModified":function markRecoilValueModified(v,_){queueOrPerformStateUpdate(v,{"type":"markModified","recoilValue":_},_.key,"mark RecoilValue modified")},"setUnvalidatedRecoilValue":function setUnvalidatedRecoilValue(v,_,b){queueOrPerformStateUpdate(v,{"type":"setUnvalidated","recoilValue":_,"unvalidatedValue":b},_.key,"set Recoil value")},"subscribeToRecoilValue":function subscribeToRecoilValue(v,{"key":_},b,T=null){const S=bn++,w=v.getState();return w.nodeToComponentSubscriptions.has(_)||w.nodeToComponentSubscriptions.set(_,new Map),P(w.nodeToComponentSubscriptions.get(_)).set(S,[null!=T?T:"<not captured>",b]),{"release":()=>{const b=v.getState(),T=b.nodeToComponentSubscriptions.get(_);void 0!==T&&T.has(S)?(T.delete(S),0===T.size&&b.nodeToComponentSubscriptions.delete(_)):I(`Subscription missing at release time for atom ${_}. This is a bug in Recoil.`)}}},"isRecoilValue":vn,"applyAtomValueWrites":function applyAtomValueWrites(v,_){const b=x(v,v=>v);return _.forEach((v,_)=>{"hasValue"===v.state&&v.contents instanceof dn?b.delete(_):b.set(_,v)}),b},"batchStart":function batchStart(){const v=new Map;return yn.push(v),()=>{for(const[_,b]of v)O.trace("Recoil batched updates","-",()=>applyActionsToStore(_,b));yn.pop()!==v&&I("Incorrect order of batch popping")}},"invalidateDownstreams_FOR_TESTING":invalidateDownstreams};const{"unstable_batchedUpdates":Sn}=S.a;var wn={"unstable_batchedUpdates":Sn};const{"batchStart":En}=Tn,{"unstable_batchedUpdates":Cn}=wn;let kn=Cn;var xn={"getBatcher":()=>kn,"setBatcher":v=>{kn=v},"batchUpdates":v=>{kn(()=>{let batchEnd=()=>{};try{batchEnd=En(),v()}finally{batchEnd()}})}};var An={"enqueueExecution":function enqueueExecution(v,_){_()}};var Pn=function*concatIterables(v){for(const _ of v)for(const v of _)yield v};var In=function*filterIterable(v,_){let b=0;for(const T of v)_(T,b++)&&(yield T)};var On=function mapIterable(v,_){return function*(){let b=0;for(const T of v)yield _(T,b++)}()};const{"graph":Ln}=ne;let Mn=0;const getNextTreeStateVersion=()=>Mn++;function makeEmptyTreeState(){const v=getNextTreeStateVersion();return{"version":v,"stateID":v,"transactionMetadata":{},"dirtyAtoms":new Set,"atomValues":new Map,"nonvalidatedAtoms":new Map}}var Dn={"makeEmptyTreeState":makeEmptyTreeState,"makeEmptyStoreState":function makeEmptyStoreState(){const v=makeEmptyTreeState();return{"currentTree":v,"nextTree":null,"previousTree":null,"knownAtoms":new Set,"knownSelectors":new Set,"transactionSubscriptions":new Map,"nodeTransactionSubscriptions":new Map,"nodeToComponentSubscriptions":new Map,"queuedComponentCallbacks_DEPRECATED":[],"suspendedComponentResolvers":new Set,"graphsByVersion":(new Map).set(v.version,Ln()),"versionsUsedByComponent":new Map}},"getNextTreeStateVersion":getNextTreeStateVersion};const{"batchUpdates":Nn}=xn,{"getDownstreamNodes":Rn,"peekNodeLoadable":Bn}=ee,{"graph":jn}=ne,{"DEFAULT_VALUE":Vn,"recoilValues":Hn}=G,{"getRecoilValueAsLoadable":Wn,"setRecoilValue":zn}=Tn,{"getNextTreeStateVersion":Yn,"makeEmptyStoreState":Zn}=Dn;function recoilValuesForKeys(v){return On(v,v=>P(Hn.get(v)))}class Snapshot{"constructor"(v){_defineProperty(this,"_store",void 0),_defineProperty(this,"getLoadable",v=>Wn(this._store,v)),_defineProperty(this,"getPromise",v=>this.getLoadable(v).toPromise()),_defineProperty(this,"getNodes_UNSTABLE",v=>{if(!0===(null==v?void 0:v.isModified)){if(!1===(null==v?void 0:v.isInitialized))return[];return recoilValuesForKeys(this._store.getState().currentTree.dirtyAtoms)}const _=this._store.getState().knownAtoms,b=this._store.getState().knownSelectors;return null==(null==v?void 0:v.isInitialized)?Hn.values():!0===v.isInitialized?recoilValuesForKeys(Pn([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):In(Hn.values(),({"key":v})=>!_.has(v)&&!b.has(v))}),_defineProperty(this,"getDeps_UNSTABLE",v=>{this.getLoadable(v);const _=this._store.getGraph(this._store.getState().currentTree.version).nodeDeps.get(v.key);return recoilValuesForKeys(null!=_?_:[])}),_defineProperty(this,"getSubscribers_UNSTABLE",({"key":v})=>{const _=this._store.getState().currentTree;return{"nodes":recoilValuesForKeys(In(Rn(this._store,_,new Set([v])),_=>_!==v))}}),_defineProperty(this,"getInfo_UNSTABLE",v=>{var _;const{"key":b}=v,T=this._store.getState().currentTree,S=this._store.getGraph(T.version),w=this._store.getState().knownAtoms.has(b)?"atom":this._store.getState().knownSelectors.has(b)?"selector":void 0;return{"loadable":Bn(this._store,T,b),"isActive":this._store.getState().knownAtoms.has(b)||this._store.getState().knownSelectors.has(b),"isSet":"selector"!==w&&T.atomValues.has(b),"isModified":T.dirtyAtoms.has(b),"type":w,"deps":recoilValuesForKeys(null!==(_=S.nodeDeps.get(b))&&void 0!==_?_:[]),"subscribers":this.getSubscribers_UNSTABLE(v)}}),_defineProperty(this,"map",v=>{const _=new MutableSnapshot(this);return v(_),cloneSnapshot(_.getStore_INTERNAL())}),_defineProperty(this,"asyncMap",async v=>{const _=new MutableSnapshot(this);return await v(_),cloneSnapshot(_.getStore_INTERNAL())}),this._store={"getState":()=>v,"replaceState":_=>{v.currentTree=_(v.currentTree)},"getGraph":_=>{const b=v.graphsByVersion;if(b.has(_))return P(b.get(_));const T=jn();return b.set(_,T),T},"subscribeToTransactions":()=>({"release":()=>{}}),"addTransactionMetadata":()=>{throw new Error("Cannot subscribe to Snapshots")}}}"getStore_INTERNAL"(){return this._store}"getID"(){return this.getID_INTERNAL()}"getID_INTERNAL"(){return this._store.getState().currentTree.stateID}}function cloneStoreState(v,_,b=!1){const T=v.getState(),S=b?Yn():_.version;return{"currentTree":b?{"version":S,"stateID":S,"transactionMetadata":{..._.transactionMetadata},"dirtyAtoms":new Set(_.dirtyAtoms),"atomValues":new Map(_.atomValues),"nonvalidatedAtoms":new Map(_.nonvalidatedAtoms)}:_,"nextTree":null,"previousTree":null,"knownAtoms":new Set(T.knownAtoms),"knownSelectors":new Set(T.knownSelectors),"transactionSubscriptions":new Map,"nodeTransactionSubscriptions":new Map,"nodeToComponentSubscriptions":new Map,"queuedComponentCallbacks_DEPRECATED":[],"suspendedComponentResolvers":new Set,"graphsByVersion":(new Map).set(S,v.getGraph(_.version)),"versionsUsedByComponent":new Map}}function cloneSnapshot(v,_="current"){const b=v.getState(),T="current"===_?b.currentTree:P(b.previousTree);return new Snapshot(cloneStoreState(v,T))}class MutableSnapshot extends Snapshot{"constructor"(v){super(cloneStoreState(v.getStore_INTERNAL(),v.getStore_INTERNAL().getState().currentTree,!0)),_defineProperty(this,"set",(v,_)=>{const b=this.getStore_INTERNAL();Nn(()=>{zn(b,v,_)})}),_defineProperty(this,"reset",v=>Nn(()=>zn(this.getStore_INTERNAL(),v,Vn)))}}var ei={"Snapshot":Snapshot,"MutableSnapshot":MutableSnapshot,"freshSnapshot":function freshSnapshot(v){const _=new Snapshot(Zn());return null!=v?_.map(v):_},"cloneSnapshot":cloneSnapshot},ti=ei.Snapshot,ni=ei.MutableSnapshot,ii=ei.freshSnapshot,ri=ei.cloneSnapshot,ai=Object.freeze({"__proto__":null,"Snapshot":ti,"MutableSnapshot":ni,"freshSnapshot":ii,"cloneSnapshot":ri});var oi=function unionSets(...v){const _=new Set;for(const b of v)for(const v of b)_.add(v);return _};const{"useContext":si,"useEffect":li,"useMemo":ci,"useRef":ui,"useState":di}=E.a,{"cleanUpNode":hi,"getDownstreamNodes":pi,"setNodeValue":fi,"setUnvalidatedAtomValue_DEPRECATED":mi}=ee,{"graph":gi,"saveDependencyMapToStore":vi}=ne,{"cloneGraph":yi}=ne,{"applyAtomValueWrites":_i}=Tn,{"freshSnapshot":bi}=ai,{"getNextTreeStateVersion":Ti,"makeEmptyStoreState":Si}=Dn,{"mapByDeletingMultipleFromMap":wi}=L;function notInAContext(){throw new Error("This component must be used inside a <RecoilRoot> component.")}const Ei=Object.freeze({"getState":notInAContext,"replaceState":notInAContext,"getGraph":notInAContext,"subscribeToTransactions":notInAContext,"addTransactionMetadata":notInAContext});let Ci=!1;function startNextTreeIfNeeded(v){if(Ci)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");if(null===v.nextTree){const _=v.currentTree.version,b=Ti();v.nextTree={...v.currentTree,"version":b,"stateID":b,"dirtyAtoms":new Set,"transactionMetadata":{}},v.graphsByVersion.set(b,yi(P(v.graphsByVersion.get(_))))}}const ki=E.a.createContext({"current":Ei}),useStoreRef=()=>si(ki),xi=E.a.createContext(null);function sendEndOfBatchNotifications(v){const _=v.getState(),b=_.currentTree,T=b.dirtyAtoms;if(T.size){for(const[b,S]of _.nodeTransactionSubscriptions)if(T.has(b))for(const[_,b]of S)b(v);for(const[b,T]of _.transactionSubscriptions)T(v);const S=pi(v,b,T);for(const v of S){const T=_.nodeToComponentSubscriptions.get(v);if(T)for(const[v,[_,S]]of T)S(b)}let w="[available in dev build]";0,_.suspendedComponentResolvers.forEach(v=>O.trace("value became available, waking components",w,v))}_.queuedComponentCallbacks_DEPRECATED.forEach(v=>v(b)),_.queuedComponentCallbacks_DEPRECATED.splice(0,_.queuedComponentCallbacks_DEPRECATED.length)}function Batcher(v){const _=useStoreRef(),[b,T]=di([]);return v.setNotifyBatcherOfChange(()=>T({})),li(()=>{An.enqueueExecution("Batcher",()=>{const v=_.current.getState(),{"nextTree":b}=v;if(null===b)return;v.previousTree=v.currentTree,v.currentTree=b,v.nextTree=null,sendEndOfBatchNotifications(_.current);const T=P(v.previousTree).version;v.graphsByVersion.delete(T),v.previousTree=null})}),null}let Ai=0;var Pi={"useStoreRef":useStoreRef,"useRecoilMutableSource":()=>si(xi),"RecoilRoot":function RecoilRoot({"initializeState_DEPRECATED":v,"initializeState":_,"store_INTERNAL":b,"children":T}){var S;let w;const C=ui(null),k=null!==(S=E.a.createMutableSource)&&void 0!==S?S:E.a.unstable_createMutableSource,x=null!=b?b:{"getState":()=>w.current,"replaceState":v=>{const _=I.current.getState();startNextTreeIfNeeded(_);const b=P(_.nextTree);let T;try{Ci=!0,T=v(b)}finally{Ci=!1}T!==b&&(_.nextTree=T,P(C.current)())},"getGraph":v=>{const _=w.current.graphsByVersion;if(_.has(v))return P(_.get(v));const b=gi();return _.set(v,b),b},"subscribeToTransactions":(v,_)=>{if(null==_){const{"transactionSubscriptions":_}=I.current.getState(),b=Ai++;return _.set(b,v),{"release":()=>{_.delete(b)}}}{const{"nodeTransactionSubscriptions":b}=I.current.getState();b.has(_)||b.set(_,new Map);const T=Ai++;return P(b.get(_)).set(T,v),{"release":()=>{const v=b.get(_);v&&(v.delete(T),0===v.size&&b.delete(_))}}}},"addTransactionMetadata":v=>{startNextTreeIfNeeded(I.current.getState());for(const _ of Object.keys(v))P(I.current.getState().nextTree).transactionMetadata[_]=v[_]}},I=ui(x);w=ui(null!=v?function initialStoreState_DEPRECATED(v,_){const b=Si();return _({"set":(_,T)=>{const S=b.currentTree,[w,E]=fi(v,S,_.key,T),C=new Set(E.keys());vi(w,v,S.version);const k=wi(S.nonvalidatedAtoms,C);b.currentTree={...S,"dirtyAtoms":oi(S.dirtyAtoms,C),"atomValues":_i(S.atomValues,E),"nonvalidatedAtoms":k}},"setUnvalidatedAtomValues":v=>{v.forEach((v,_)=>{b.currentTree=mi(b.currentTree,_,v)})}}),b}(x,v):null!=_?function initialStoreState(v){return bi().map(v).getStore_INTERNAL().getState()}(_):Si());const O=ci(()=>k?k(w,()=>w.current.currentTree.version):null,[k,w]);return li(()=>()=>{for(const v of I.current.getState().knownAtoms)hi(I.current,v)},[]),E.a.createElement(ki.Provider,{"value":I},E.a.createElement(xi.Provider,{"value":O},E.a.createElement(Batcher,{"setNotifyBatcherOfChange":function setNotifyBatcherOfChange(v){C.current=v}}),T))},"sendEndOfBatchNotifications_FOR_TESTING":sendEndOfBatchNotifications};var Ii=function filterMap(v,_){const b=new Map;for(const[T,S]of v)_(S,T)&&b.set(T,S);return b};var Oi=function filterSet(v,_){const b=new Set;for(const T of v)_(T)&&b.add(T);return b};var Li=function invariant(v,_){if(!v)throw new Error(_)};var Mi,Di=function mergeMaps(...v){const _=new Map;for(let b=0;b<v.length;b++){const T=v[b].keys();let S;for(;!(S=T.next()).done;)_.set(S.value,v[b].get(S.value))}return _};const Ni=null!==(Mi=E.a.useMutableSource)&&void 0!==Mi?Mi:E.a.unstable_useMutableSource;var Ri={"mutableSourceExists":function mutableSourceExists(){return Ni&&!("undefined"!=typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},"useMutableSource":Ni};const{"useRef":Bi}=E.a;var ji=function useComponentName(){return Bi(),"<component name not available>"};const{"useCallback":Ui,"useEffect":Fi,"useMemo":Vi,"useRef":Hi,"useState":Wi}=E.a,{"batchUpdates":qi}=xn,{"DEFAULT_VALUE":zi,"getNode":Gi,"nodes":Yi}=G,{"useRecoilMutableSource":Xi,"useStoreRef":Ki}=Pi,{"isRecoilValue":Qi}=V,{"AbstractRecoilValue":$i,"getRecoilValueAsLoadable":Ji,"setRecoilValue":Zi,"setRecoilValueLoadable":er,"setUnvalidatedRecoilValue":tr,"subscribeToRecoilValue":nr}=Tn,{"Snapshot":ir,"cloneSnapshot":rr}=ai,{"setByAddingToSet":ar}=L,{"mutableSourceExists":or,"useMutableSource":sr}=Ri;function handleLoadable(v,_,b){if("hasValue"===v.state)return v.contents;if("loading"===v.state){throw new Promise(v=>{b.current.getState().suspendedComponentResolvers.add(v)})}throw"hasError"===v.state?v.contents:new Error(`Invalid value of loadable atom "${_.key}"`)}function useRecoilValueLoadable(v){return or()?function useRecoilValueLoadable_MUTABLESOURCE(v){const _=Ki(),b=Ui(()=>Ji(_.current,v,_.current.getState().currentTree),[_,v]),T=ji(),S=Ui((b,S)=>{const w=_.current,E=nr(w,v,()=>{O.trace("RecoilValue subscription fired",v.key,()=>{S()})},T);return()=>E.release(w)},[v,_,T]);return sr(Xi(),b,S)}(v):function useRecoilValueLoadable_LEGACY(v){const _=Ki(),[b,T]=Wi([]),S=ji();return Fi(()=>{const b=_.current,w=nr(b,v,_=>{O.trace("RecoilValue subscription fired",v.key,()=>{T([])})},S);return O.trace("initial update on subscribing",v.key,()=>{b.getState().nextTree?b.getState().queuedComponentCallbacks_DEPRECATED.push(O.wrap(()=>{T([])})):T([])}),()=>w.release(b)},[v,_]),Ji(_.current,v)}(v)}function useRecoilValue(v){const _=Ki();return handleLoadable(useRecoilValueLoadable(v),v,_)}function useSetRecoilState(v){const _=Ki();return Ui(b=>{Zi(_.current,v,b)},[_,v])}function useTransactionSubscription(v){const _=Ki();Fi(()=>_.current.subscribeToTransactions(v).release,[v,_])}function externallyVisibleAtomValuesInState(v){const _=v.atomValues,b=x(Ii(_,(v,_)=>{const b=Gi(_).persistence_UNSTABLE;return null!=b&&"none"!==b.type&&"hasValue"===v.state}),v=>v.contents);return Di(v.nonvalidatedAtoms,b)}function useGotoRecoilSnapshot(){const v=Ki();return Ui(_=>{var b;const T=v.current.getState(),S=null!==(b=T.nextTree)&&void 0!==b?b:T.currentTree,w=_.getStore_INTERNAL().getState().currentTree;qi(()=>{const b=new Set;for(const v of[S.atomValues.keys(),w.atomValues.keys()])for(const _ of v){var T,E;(null===(T=S.atomValues.get(_))||void 0===T?void 0:T.contents)!==(null===(E=w.atomValues.get(_))||void 0===E?void 0:E.contents)&&Gi(_).shouldRestoreFromSnapshots&&b.add(_)}b.forEach(_=>{er(v.current,new $i(_),w.atomValues.has(_)?P(w.atomValues.get(_)):zi)}),v.current.replaceState(v=>({...v,"stateID":_.getID_INTERNAL()}))})},[v])}class Sentinel{}const lr=new Sentinel;var cr={"recoilComponentGetRecoilValueCount_FOR_TESTING":{"current":0},"useGotoRecoilSnapshot":useGotoRecoilSnapshot,"useRecoilCallback":function useRecoilCallback(v,_){const b=Ki(),T=useGotoRecoilSnapshot();return Ui((..._)=>{const S=rr(b.current);function set(v,_){Zi(b.current,v,_)}function reset(v){Zi(b.current,v,zi)}let w=lr;return qi(()=>{w=v({"set":set,"reset":reset,"snapshot":S,"gotoSnapshot":T})(..._)}),w instanceof Sentinel&&Li(!1),w},null!=_?[..._,b]:void 0)},"useRecoilInterface":function useRecoilInterface_DEPRECATED(){const v=Ki(),[_,b]=Wi([]),T=Hi(new Set);T.current=new Set;const S=Hi(new Set),w=Hi(new Map),E=Ui(_=>{const b=w.current.get(_);b&&(b.release(v.current),w.current.delete(_))},[v,w]),C=ji();return Fi(()=>{const _=v.current;function updateState(v,_){w.current.has(_)&&b([])}te(T.current,S.current).forEach(v=>{if(w.current.has(v))return void D(`Double subscription to RecoilValue "${v}"`);const b=nr(_,new $i(v),_=>{O.trace("RecoilValue subscription fired",v,()=>{updateState(0,v)})},C);w.current.set(v,b),O.trace("initial update on subscribing",v,()=>{_.getState().nextTree?_.getState().queuedComponentCallbacks_DEPRECATED.push(O.wrap(()=>{updateState(_.getState(),v)})):updateState(_.getState(),v)})}),te(S.current,T.current).forEach(v=>{E(v)}),S.current=T.current}),Fi(()=>{const v=w.current;return()=>v.forEach((v,_)=>E(_))},[E]),Vi(()=>{function useSetRecoilState(_){return b=>{Zi(v.current,_,b)}}function useRecoilValueLoadable(_){return T.current.has(_.key)||(T.current=ar(T.current,_.key)),Ji(v.current,_)}function useRecoilValue(_){return handleLoadable(useRecoilValueLoadable(_),_,v)}return{"getRecoilValue":useRecoilValue,"getRecoilValueLoadable":useRecoilValueLoadable,"getRecoilState":function useRecoilState(v){return[useRecoilValue(v),useSetRecoilState(v)]},"getRecoilStateLoadable":function useRecoilStateLoadable(v){return[useRecoilValueLoadable(v),useSetRecoilState(v)]},"getSetRecoilState":useSetRecoilState,"getResetRecoilState":function useResetRecoilState(_){return()=>Zi(v.current,_,zi)}}},[T,v])},"useRecoilSnapshot":function useRecoilSnapshot(){const v=Ki(),[_,b]=Wi(()=>rr(v.current));return useTransactionSubscription(Ui(v=>b(rr(v)),[])),_},"useRecoilState":function useRecoilState(v){return[useRecoilValue(v),useSetRecoilState(v)]},"useRecoilStateLoadable":function useRecoilStateLoadable(v){return[useRecoilValueLoadable(v),useSetRecoilState(v)]},"useRecoilTransactionObserver":function useRecoilTransactionObserver(v){useTransactionSubscription(Ui(_=>{v({"snapshot":rr(_,"current"),"previousSnapshot":rr(_,"previous")})},[v]))},"useRecoilValue":useRecoilValue,"useRecoilValueLoadable":useRecoilValueLoadable,"useResetRecoilState":function useResetRecoilState(v){const _=Ki();return Ui(()=>{Zi(_.current,v,zi)},[_,v])},"useSetRecoilState":useSetRecoilState,"useSetUnvalidatedAtomValues":function useSetUnvalidatedAtomValues(){const v=Ki();return(_,b={})=>{qi(()=>{v.current.addTransactionMetadata(b),_.forEach((_,b)=>tr(v.current,new $i(b),_))})}},"useTransactionObservation_DEPRECATED":function useTransactionObservation_DEPRECATED(v){useTransactionSubscription(Ui(_=>{let b=_.getState().previousTree;const T=_.getState().currentTree;b||(I("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),b=_.getState().currentTree);const S=externallyVisibleAtomValuesInState(T),w=externallyVisibleAtomValuesInState(b),E=x(Yi,v=>{var _,b,T,S;return{"persistence_UNSTABLE":{"type":null!==(_=null===(b=v.persistence_UNSTABLE)||void 0===b?void 0:b.type)&&void 0!==_?_:"none","backButton":null!==(T=null===(S=v.persistence_UNSTABLE)||void 0===S?void 0:S.backButton)&&void 0!==T&&T}}}),C=Oi(T.dirtyAtoms,v=>S.has(v)||w.has(v));v({"atomValues":S,"previousAtomValues":w,"atomInfo":E,"modifiedAtoms":C,"transactionMetadata":{...T.transactionMetadata}})},[v]))},"useTransactionSubscription_DEPRECATED":useTransactionSubscription};const{"useMemo":ur}=E.a,{"RecoilRoot":dr,"useStoreRef":hr}=Pi;var pr=function useRecoilBridgeAcrossReactRoots(){const v=hr().current;return ur(()=>function RecoilBridge({"children":_}){return E.a.createElement(dr,{"store_INTERNAL":v},_)},[v])};var fr=function isPromise(v){return!!v&&"function"==typeof v.then};const mr={"getValue"(){if("loading"===this.state&&k("recoil_async_selector_refactor"))throw this.contents.then(({"__value":v})=>v);if("hasValue"!==this.state)throw this.contents;return this.contents},"toPromise"(){return"hasValue"===this.state?Promise.resolve(this.contents):"hasError"===this.state?Promise.reject(this.contents):k("recoil_async_selector_refactor")?this.contents.then(({"__value":v})=>v):this.contents},"valueMaybe"(){return"hasValue"===this.state?this.contents:void 0},"valueOrThrow"(){if("hasValue"!==this.state)throw new Error(`Loadable expected value, but in "${this.state}" state`);return this.contents},"errorMaybe"(){return"hasError"===this.state?this.contents:void 0},"errorOrThrow"(){if("hasError"!==this.state)throw new Error(`Loadable expected error, but in "${this.state}" state`);return this.contents},"promiseMaybe"(){return"loading"===this.state?k("recoil_async_selector_refactor")?this.contents.then(({"__value":v})=>v):this.contents:void 0},"promiseOrThrow"(){if("loading"!==this.state)throw new Error(`Loadable expected promise, but in "${this.state}" state`);return k("recoil_async_selector_refactor")?this.contents.then(({"__value":v})=>v):this.contents},"map"(v){if("hasError"===this.state)return this;if("hasValue"===this.state)try{const _=v(this.contents);return fr(_)?loadableWithPromise(_):loadableWithValue(_)}catch(_){return fr(_)?loadableWithPromise(_.next(()=>v(this.contents))):loadableWithError(_)}if("loading"===this.state)return loadableWithPromise(this.contents.then(v).catch(_=>{if(fr(_))return _.then(()=>v(this.contents));throw _}));throw new Error("Invalid Loadable state")}};function loadableWithValue(v){return Object.freeze({"state":"hasValue","contents":v,...mr})}function loadableWithError(v){return Object.freeze({"state":"hasError","contents":v,...mr})}function loadableWithPromise(v){return Object.freeze({"state":"loading","contents":v,...mr})}var gr={"loadableWithValue":loadableWithValue,"loadableWithError":loadableWithError,"loadableWithPromise":loadableWithPromise,"loadableLoading":function loadableLoading(){return loadableWithPromise(new Promise(()=>{}))},"loadableAll":function loadableAll(v){return v.every(v=>"hasValue"===v.state)?loadableWithValue(v.map(v=>v.contents)):v.some(v=>"hasError"===v.state)?loadableWithError(P(v.find(v=>"hasError"===v.state),"Invalid loadable passed to loadableAll").contents):loadableWithPromise(k("recoil_async_selector_refactor")?Promise.all(v.map(v=>v.contents)).then(v=>({"__value":v})):Promise.all(v.map(v=>v.contents)))}};Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,DataView;"undefined"!=typeof navigator&&navigator.product;var vr=function cacheMostRecent(){let v,_;const b={"get":b=>b===v?_:void 0,"set":(T,S)=>(v=T,_=S,b)};return b};const yr=Symbol("ArrayKeyedMap"),_r=new Map;class ArrayKeyedMap{"constructor"(v){if(_defineProperty(this,"_base",new Map),v instanceof ArrayKeyedMap)for(const[_,b]of v.entries())this.set(_,b);else if(v)for(const[_,b]of v)this.set(_,b);return this}"get"(v){const _=Array.isArray(v)?v:[v];let b=this._base;return _.forEach(v=>{var _;b=null!==(_=b.get(v))&&void 0!==_?_:_r}),void 0===b?void 0:b.get(yr)}"set"(v,_){const b=Array.isArray(v)?v:[v];let T=this._base,S=T;return b.forEach(v=>{S=T.get(v),S||(S=new Map,T.set(v,S)),T=S}),S.set(yr,_),this}"delete"(v){const _=Array.isArray(v)?v:[v];let b=this._base,T=b;return _.forEach(v=>{T=b.get(v),T||(T=new Map,b.set(v,T)),b=T}),T.delete(yr),this}"entries"(){const v=[];return function recurse(_,b){_.forEach((_,T)=>{T===yr?v.push([b,_]):recurse(_,b.concat(T))})}(this._base,[]),v.values()}"toBuiltInMap"(){return new Map(this.entries())}}var br=ArrayKeyedMap,Tr=Object.freeze({"__proto__":null,"ArrayKeyedMap":br});const{"ArrayKeyedMap":Sr}=Tr;var wr=function cacheWithReferenceEquality(){return new Sr};var Er=function stableStringify(v,_={"allowFunctions":!1}){return function stringify(v,_,b){if("string"==typeof v&&!v.includes('"')&&!v.includes("\\"))return`"${v}"`;switch(typeof v){case"undefined":return"";case"boolean":return v?"true":"false";case"number":case"symbol":return String(v);case"string":return JSON.stringify(v);case"function":if(!0!==(null==_?void 0:_.allowFunctions))throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${v.name})__`}if(null===v)return"null";var T;if("object"!=typeof v)return null!==(T=JSON.stringify(v))&&void 0!==T?T:"";if(fr(v))return"__PROMISE__";if(Array.isArray(v))return`[${v.map((v,b)=>stringify(v,_,b.toString()))}]`;if("function"==typeof v.toJSON)return stringify(v.toJSON(b),_,b);if(v instanceof Map){const T={};for(const[b,S]of v)T["string"==typeof b?b:stringify(b,_)]=S;return stringify(T,_,b)}return v instanceof Set?stringify(Array.from(v).sort((v,b)=>stringify(v,_).localeCompare(stringify(b,_))),_,b):null!=v[Symbol.iterator]&&"function"==typeof v[Symbol.iterator]?stringify(Array.from(v),_,b):`{${Object.keys(v).filter(_=>void 0!==v[_]).sort().map(b=>`${stringify(b,_)}:${stringify(v[b],_,b)}`).join(",")}}`}(v,_)};var Cr=function cacheWithValueEquality(){const v=new Map,_={"get":_=>v.get(Er(_)),"set":(b,T)=>(v.set(Er(b),T),_),"map":v};return _};var kr=function nodeCacheMostRecent(){let v;return{"get":(_,b)=>{if(void 0!==v){for(const[S,w]of v.route){var T;if(_(S)!==w)return;null==b||null===(T=b.onCacheHit)||void 0===T||T.call(b,S)}return v.value}},"set":(_,b)=>{v={"route":_,"value":b}},"getRoot":()=>v}};var xr={"setInTreeCache":function setInTreeCache(v,_,b){if(null==v){if(0===_.length)return{"type":"result","result":b};{const[v,...T]=_,[S,w]=v;return{"type":"branch","nodeKey":S,"branches":new Map([[w,setInTreeCache(null,T,b)]])}}}if(0===_.length){if("result"!==v.type&&Li(!1),v.result&&"loading"===v.result.state){return{"type":"result","result":b}}v.result!==b&&Li(!1);return v}{const[T,...S]=_,[w,E]=T;return"branch"!==v.type&&Li(!1),v.nodeKey!==w&&Li(!1),v.branches.set(E,setInTreeCache(v.branches.get(E),S,b)),v}},"getFromTreeCache":function getFromTreeCache(v,_,b){var T;if(null==v)return;if("result"===v.type)return v.result;null==b||null===(T=b.onCacheHit)||void 0===T||T.call(b,v.nodeKey);const S=_(v.nodeKey);return getFromTreeCache(v.branches.get(S),_,b)}};const{"getFromTreeCache":Ar,"setInTreeCache":Pr}=xr;var Ir=function treeCacheReferenceEquality(){let v;return{"get":(_,b)=>Ar(v,_,b),"set":(_,b)=>{v=Pr(v,_,b)},"getRoot":()=>v}};const{"getFromTreeCache":Or,"setInTreeCache":Lr}=xr;var Mr=function treeCacheValueEquality(){let v;return{"get":(_,b)=>Or(v,v=>Er(_(v)),b),"set":(_,b)=>{v=Lr(v,_.map(([v,_])=>[v,Er(_)]),b)},"getRoot":()=>v}};var Dr={"startPerfBlock":function startPerfBlock(v){return()=>null}};const{"loadableWithError":Nr,"loadableWithPromise":Rr,"loadableWithValue":Br}=gr,{"getNodeLoadable":jr,"peekNodeLoadable":Ur,"setNodeValue":Fr}=ee,{"saveDependencyMapToStore":Vr}=ne,{"DEFAULT_VALUE":Hr,"RecoilValueNotReady":Wr,"registerNode":qr}=G,{"isRecoilValue":zr}=V,{"AbstractRecoilValue":Gr}=V,{"setRecoilValueLoadable":Yr}=Tn,{"startPerfBlock":Xr}=Dr,Kr=Object.freeze(new Set),Qr=[],$r=new Map,Jr=(()=>{let v=0;return()=>v++})();var Zr=function selector(v){const{"key":_,"get":b,"cacheImplementation_UNSTABLE":T}=v,S=null!=v.set?v.set:void 0,w=T===wr?Ir():T===Cr?Mr():T===vr?kr():Ir(),E={"depValuesDiscoveredSoFarDuringAsyncWork":null,"latestLoadable":null,"latestExecutionId":null,"stateVersion":null};function initSelector(v){v.getState().knownSelectors.add(_)}function notifyStoreWhenAsyncSettles(v,_,b){if("loading"===_.state){let _=$r.get(b);null==_&&$r.set(b,_=new Set),_.add(v)}}function getCachedNodeLoadable(v,_,b){if(_.atomValues.has(b))return[new Map,P(_.atomValues.get(b))];const[,T]=jr(v,_,b),S=v.getState().knownSelectors.has(b);return"loading"!==T.state&&S&&_.atomValues.set(b,T),[new Map,T]}function wrapPendingDependencyPromise(v,b,T,S,w){return b.then(b=>{const{"__key":S,"__value":E}=b;null!=S&&T.atomValues.set(S,Br(E));const[C,k]=evaluateSelectorGetter(v,T,w);if(isLatestExecution(w)&&updateExecutionInfoDepValues(k,w),maybeFreezeLoadableContents(C),"loading"!==C.state&&(setCache(T,depValuesToDepRoute(k),C),setLoadableInStoreToNotifyDeps(C,w)),"hasError"===C.state)throw C.contents;return"hasValue"===C.state?{"__value":C.contents,"__key":_}:C.contents}).catch(v=>{const _=Nr(v);throw maybeFreezeValue(v),setCache(T,depValuesToDepRoute(S),Nr(v)),setLoadableInStoreToNotifyDeps(_,w),v})}function setLoadableInStoreToNotifyDeps(v,b){isLatestExecution(b)&&(setExecutionInfo(v),function notifyStoresOfSettledAsync(v,b){const T=$r.get(b);if(void 0!==T){for(const b of T)Yr(b,new Gr(_),v);$r.delete(b)}}(v,b))}function setDepsInStore(v,b,T,S){var w,E,C,k,x,P,I;(isLatestExecution(S)||b.version===(null===(w=v.getState())||void 0===w||null===(E=w.currentTree)||void 0===E?void 0:E.version)||b.version===(null===(C=v.getState())||void 0===C||null===(k=C.nextTree)||void 0===k?void 0:k.version))&&Vr(new Map([[_,T]]),v,null!==(x=null===(P=v.getState())||void 0===P||null===(I=P.nextTree)||void 0===I?void 0:I.version)&&void 0!==x?x:v.getState().currentTree.version)}function setNewDepInStore(v,_,b,T,S){b.add(T),setDepsInStore(v,_,b,S)}function evaluateSelectorGetter(v,T,S){const w=Xr(_);let E,C;const k=new Map,x=new Set;function getRecoilValue(_){const{"key":b}=_;setNewDepInStore(v,T,x,b,S);const[,w]=getCachedNodeLoadable(v,T,b);if(k.set(b,w),"hasValue"===w.state)return w.contents;throw w.contents}setDepsInStore(v,T,x,S);try{E=b({"get":getRecoilValue}),E=zr(E)?getRecoilValue(E):E,fr(E)?E=function wrapPendingPromise(v,b,T,S,w){return b.then(v=>{const b=Br(v);return maybeFreezeValue(v),setCache(T,depValuesToDepRoute(S),b),setLoadableInStoreToNotifyDeps(b,w),{"__value":v,"__key":_}}).catch(_=>{if(isLatestExecution(w)&&updateExecutionInfoDepValues(S,w),fr(_))return wrapPendingDependencyPromise(v,_,T,S,w);const b=Nr(_);throw maybeFreezeValue(_),setCache(T,depValuesToDepRoute(S),b),setLoadableInStoreToNotifyDeps(b,w),_})}(v,E,T,k,S).finally(w):w()}catch(_){E=_,fr(E)?E=wrapPendingDependencyPromise(v,E,T,k,S).finally(w):w()}return C=E instanceof Error?Nr(E):fr(E)?Rr(E):Br(E),maybeFreezeLoadableContents(C),[C,k]}function depValuesToDepRoute(v){return Array.from(v.entries()).map(([v,_])=>[v,_.contents])}function getValFromRunningNewExecutionAndUpdatedDeps(v,_){const b=Jr(),[T,S]=evaluateSelectorGetter(v,_,b);return setExecutionInfo(T,S,b,_),function maybeSetCacheWithLoadable(v,_,b){"loading"!==b.state&&setCache(v,_,b)}(_,depValuesToDepRoute(S),T),notifyStoreWhenAsyncSettles(v,T,b),T}function getSelectorValAndUpdatedDeps(v,b){const T=function getValFromCacheAndUpdatedDownstreamDeps(v,b){var T;if(b.atomValues.has(_))return b.atomValues.get(_);const S=new Set(null!==(T=v.getGraph(b.version).nodeDeps.get(_))&&void 0!==T?T:Kr);return setDepsInStore(v,b,S,E.latestExecutionId),w.get(_=>{const[,T]=getCachedNodeLoadable(v,b,_);return T.contents},{"onCacheHit":T=>{T!==_&&setNewDepInStore(v,b,S,T,E.latestExecutionId)}})}(v,b);return null!=T?(setExecutionInfo(T),T):function asyncWorkIsInProgressAndDepsDiscoveredHaveNotChanged(v,_){return null!=E.latestLoadable&&null!=E.latestExecutionId&&!function haveAsyncDepsChanged(v,_){var b,T;const S=null!==(b=E.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==b?b:new Map,w=Array((null!==(T=C.get(_.version))&&void 0!==T?T:new Map).entries()),k=C.has(_.version)&&w.length===S.size&&w.every(([v,_])=>S.get(v)===_);if(null==S||_.version===E.stateVersion||k)return!1;return C.set(_.version,new Map(S)),Array.from(S).some(([b,T])=>{const[,S]=getCachedNodeLoadable(v,_,b);return S.contents!==T.contents&&!("loading"===T.state&&"loading"!==S.state)})}(v,_)}(v,b)?(notifyStoreWhenAsyncSettles(v,P(E.latestLoadable),P(E.latestExecutionId)),P(E.latestLoadable)):getValFromRunningNewExecutionAndUpdatedDeps(v,b)}const C=new Map;function setExecutionInfo(v,_,b,T){"loading"===v.state?(E.depValuesDiscoveredSoFarDuringAsyncWork=_,E.latestExecutionId=b,E.latestLoadable=v,E.stateVersion=null==T?void 0:T.version):(E.depValuesDiscoveredSoFarDuringAsyncWork=null,E.latestExecutionId=null,E.latestLoadable=null,E.stateVersion=null)}function updateExecutionInfoDepValues(v,_){isLatestExecution(_)&&(E.depValuesDiscoveredSoFarDuringAsyncWork=v)}function isLatestExecution(v){return v===E.latestExecutionId}function maybeFreezeLoadableContents(v){"loading"!==v.state&&maybeFreezeValue(v.contents)}function maybeFreezeValue(v){0}function setCache(v,b,T){v.atomValues.set(_,T),w.set(b,T)}function detectCircularDependencies(v){if(Qr.includes(_)){const v="Recoil selector has circular dependencies: "+Qr.slice(Qr.indexOf(_)).join(" → ");return Nr(new Error(v))}Qr.push(_);try{return v()}finally{Qr.pop()}}function myPeek(v,_){return w.get(b=>{const T=Ur(v,_,b);return null==T?void 0:T.contents})}function myGet(v,_){return initSelector(v),[new Map,detectCircularDependencies(()=>getSelectorValAndUpdatedDeps(v,_))]}function invalidate(v){v.atomValues.delete(_)}if(null!=S){return qr({"key":_,"peek":myPeek,"get":myGet,"set":function mySet(v,_,b){initSelector(v);const T=new Map,w=new Map;function getRecoilValue({"key":b}){const[,T]=getCachedNodeLoadable(v,_,b);if("hasValue"===T.state)return T.contents;throw"loading"===T.state?new Wr(b):T.contents}function setRecoilState(b,T){const S="function"==typeof T?T(getRecoilValue(b)):T,[,E]=Fr(v,_,b.key,S);E.forEach((v,_)=>w.set(_,v))}return S({"set":setRecoilState,"get":getRecoilValue,"reset":function resetRecoilState(v){setRecoilState(v,Hr)}},b),[T,w]},"cleanUp":()=>{},"invalidate":invalidate,"dangerouslyAllowMutability":v.dangerouslyAllowMutability,"shouldRestoreFromSnapshots":!1})}return qr({"key":_,"peek":myPeek,"get":myGet,"cleanUp":()=>{},"invalidate":invalidate,"dangerouslyAllowMutability":v.dangerouslyAllowMutability,"shouldRestoreFromSnapshots":!1})};const{"loadableWithError":ea,"loadableWithPromise":ta,"loadableWithValue":na}=gr,{"getNodeLoadable":ia,"peekNodeLoadable":ra,"setNodeValue":aa}=ee,{"addToDependencyMap":oa,"mergeDepsIntoDependencyMap":sa,"saveDependencyMapToStore":la}=ne,{"DEFAULT_VALUE":ca,"RecoilValueNotReady":ua,"registerNode":da}=G,{"AbstractRecoilValue":ha}=V,{"getRecoilValueAsLoadable":pa,"isRecoilValue":fa,"setRecoilValueLoadable":ma}=Tn,{"startPerfBlock":ga}=Dr,va=Object.freeze(new Set);function cacheKeyFromDepValues(v){const _=[];for(const b of Array.from(v.keys()).sort()){const T=P(v.get(b));_.push(b),_.push(T.state),_.push(T.contents)}return _}const ya=new Map;var _a=function selector$1(v){const{"key":_,"get":b,"cacheImplementation_UNSTABLE":T}=v,S=null!=v.set?v.set:void 0;let w=null!=T?T:wr();function initSelector(v){v.getState().knownSelectors.add(_)}function letStoreBeNotifiedWhenAsyncSettles(v,_){if("loading"===_.state){let b=ya.get(_);void 0===b&&ya.set(_,b=new Set),b.add(v)}}function notifyStoresOfSettledAsync(v,b){const T=ya.get(v);if(void 0!==T){for(const v of T)ma(v,new ha(_),b);ya.delete(v)}}function getFromCacheOrEvaluate(v,T){var S;const E=new Map,C=null!==(S=v.getGraph(T.version).nodeDeps.get(_))&&void 0!==S?S:va,k=cacheKeyFromDepValues(new Map(Array.from(C).sort().map(_=>{const[b,S]=ia(v,T,_);return sa(b,E),la(E,v,T.version),[_,S]}))),x=w.get(k);if(null!=x)return letStoreBeNotifiedWhenAsyncSettles(v,x),[E,x];const[P,I,O]=function evaluateSelectorFunction(v,T){const S=ga(_),w=new Map,E=new Map;function getRecoilValue({"key":b}){oa(_,b,E);const[S,C]=ia(v,T,b);if(w.set(b,C),sa(S,E),la(E,v,T.version),"hasValue"===C.state)return C.contents;throw C.contents}try{const v=b({"get":getRecoilValue}),_=fa(v)?getRecoilValue(v):v;let T;return fr(_)?T=ta(_.finally(S)):(S(),T=na(_)),[E,T,w]}catch(b){let T;return void 0!==b.then?T=ta(b.then(()=>{const b=pa(v,new ha(_));if("hasError"===b.state)throw b.contents;return b.contents}).finally(S)):(S(),T=ea(b)),[E,T,w]}}(v,T);sa(P,E),la(E,v,T.version);const L=cacheKeyFromDepValues(O);return letStoreBeNotifiedWhenAsyncSettles(v,I),function putIntoCache(v,b,T){"loading"!==T.state||T.contents.then(v=>{const _=na(v);return w=w.set(b,_),notifyStoresOfSettledAsync(T,_),v}).catch(v=>{if(fr(v))return v;const _=ea(v);return w=w.set(b,_),notifyStoresOfSettledAsync(T,_),v}),w=w.set(b,T),"loading"!==T.state&&v.atomValues.set(_,T)}(T,L,I),[E,I]}function myPeek(v,b){var T;const S=null!==(T=v.getGraph(b.version).nodeDeps.get(_))&&void 0!==T?T:va,E=new Map(Array.from(S).sort().map(_=>[_,ra(v,b,_)])),C=new Map;for(const[v,_]of E.entries()){if(null==_)return;C.set(v,_)}const k=cacheKeyFromDepValues(C);return w.get(k)}function invalidate(v){v.atomValues.delete(_)}function myGet(v,b){initSelector(v);const T=b.atomValues.get(_);return void 0!==T?[new Map,T]:getFromCacheOrEvaluate(v,b)}if(null!=S){return da({"key":_,"peek":myPeek,"get":myGet,"set":function mySet(v,_,b){initSelector(v);const T=new Map,w=new Map;function getRecoilValue({"key":b}){const[S,w]=ia(v,_,b);if(sa(S,T),"hasValue"===w.state)return w.contents;throw"loading"===w.state?new ua(b):w.contents}function setRecoilState(b,S){const E="function"==typeof S?S(getRecoilValue(b)):S,[C,k]=aa(v,_,b.key,E);sa(C,T),k.forEach((v,_)=>w.set(_,v))}return S({"set":setRecoilState,"get":getRecoilValue,"reset":function resetRecoilState(v){setRecoilState(v,ca)}},b),[T,w]},"invalidate":invalidate,"cleanUp":()=>{},"dangerouslyAllowMutability":v.dangerouslyAllowMutability,"shouldRestoreFromSnapshots":!1})}return da({"key":_,"peek":myPeek,"get":myGet,"invalidate":invalidate,"cleanUp":()=>{},"dangerouslyAllowMutability":v.dangerouslyAllowMutability,"shouldRestoreFromSnapshots":!1})};var ba=k("recoil_async_selector_refactor")?Zr:_a;const{"loadableWithError":Ta,"loadableWithPromise":Sa,"loadableWithValue":wa}=gr,{"DEFAULT_VALUE":Ea,"DefaultValue":Ca,"registerNode":ka}=G,{"isRecoilValue":xa}=V,{"markRecoilValueModified":Aa,"setRecoilValue":Pa,"setRecoilValueLoadable":Ia}=Tn;function baseAtom(v){const{"key":_,"persistence_UNSTABLE":b}=v;let T=fr(v.default)?Sa(v.default.then(v=>{T=wa(v);return{"__key":_,"__value":v}}).catch(v=>{throw T=Ta(v),v})):wa(v.default),S=void 0;const w=new Map;function initAtom(b,S,C){if(b.getState().knownAtoms.has(_))return;if(b.getState().knownAtoms.add(_),"loading"===T.state){function notifyDefaultSubscribers(){var v;(null!==(v=b.getState().nextTree)&&void 0!==v?v:b.getState().currentTree).atomValues.has(_)||Aa(b,E)}T.contents.then(notifyDefaultSubscribers).catch(notifyDefaultSubscribers)}let k=Ea,x=null;if(null!=v.effects_UNSTABLE){let S=!0;const setSelf=v=>_=>{if(S){const v=k instanceof Ca||fr(k)?"hasValue"===T.state?T.contents:Ea:k;k="function"==typeof _?_(v):_}else{if(fr(_))throw new Error("Setting atoms to async values is not implemented.");"function"!=typeof _&&(x={"effect":v,"value":_}),Pa(b,E,"function"==typeof _?b=>{const T=_(b);return x={"effect":v,"value":T},T}:_)}},resetSelf=v=>()=>setSelf(v)(Ea),onSet=v=>S=>{b.subscribeToTransactions(b=>{var w;let{"currentTree":E,"previousTree":C}=b.getState();C||(I("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),C=E);const k=E.atomValues.get(_);if(null==k||"hasValue"===k.state){var P,O,L;const b=null!=k?k.contents:Ea,w=null!==(P=C.atomValues.get(_))&&void 0!==P?P:T,E="hasValue"===w.state?w.contents:Ea;(null===(O=x)||void 0===O?void 0:O.effect)===v&&(null===(L=x)||void 0===L?void 0:L.value)===b||S(b,E)}(null===(w=x)||void 0===w?void 0:w.effect)===v&&(x=null)},_)};for(const _ of null!==(P=v.effects_UNSTABLE)&&void 0!==P?P:[]){var P;const v=_({"node":E,"trigger":C,"setSelf":setSelf(_),"resetSelf":resetSelf(_),"onSet":onSet(_)});null!=v&&w.set(b,v)}S=!1}k instanceof Ca||S.atomValues.set(_,fr(k)?Sa(function wrapPendingPromise(v,b){const T=b.then(b=>{var S,w;return(null===(w=(null!==(S=v.getState().nextTree)&&void 0!==S?S:v.getState().currentTree).atomValues.get(_))||void 0===w?void 0:w.contents)===T&&Pa(v,E,b),{"__key":_,"__value":b}}).catch(b=>{var S,w;throw(null===(w=(null!==(S=v.getState().nextTree)&&void 0!==S?S:v.getState().currentTree).atomValues.get(_))||void 0===w?void 0:w.contents)===T&&Ia(v,E,Ta(b)),b});return T}(b,k)):wa(k))}const E=ka({"key":_,"peek":function myPeek(v,b){var w,E,C;return null!==(w=null!==(E=b.atomValues.get(_))&&void 0!==E?E:null===(C=S)||void 0===C?void 0:C[1])&&void 0!==w?w:T},"get":function myGet(v,w){if(initAtom(v,w,"get"),w.atomValues.has(_))return[new Map,P(w.atomValues.get(_))];if(w.nonvalidatedAtoms.has(_)){if(null!=S)return S;if(null==b)return D(`Tried to restore a persisted value for atom ${_} but it has no persistence settings.`),[new Map,T];const v=w.nonvalidatedAtoms.get(_),E=b.validator(v,Ea),C=E instanceof Ca?T:wa(E);return S=[new Map,C],S}return[new Map,T]},"set":function mySet(v,b,T){if(initAtom(v,b,"set"),b.atomValues.has(_)){const v=P(b.atomValues.get(_));if("hasValue"===v.state&&T===v.contents)return[new Map,new Map]}else if(!b.nonvalidatedAtoms.has(_)&&T instanceof Ca)return[new Map,new Map];return S=void 0,[new Map,(new Map).set(_,wa(T))]},"cleanUp":function myCleanup(v){var _;null===(_=w.get(v))||void 0===_||_(),w.delete(v)},"invalidate":function invalidate(){S=void 0},"dangerouslyAllowMutability":v.dangerouslyAllowMutability,"persistence_UNSTABLE":v.persistence_UNSTABLE?{"type":v.persistence_UNSTABLE.type,"backButton":v.persistence_UNSTABLE.backButton}:void 0,"shouldRestoreFromSnapshots":!0});return E}function atom(v){const{"default":_,...b}=v;return xa(_)?function atomWithFallback(v){const _=atom({...v,"default":Ea,"persistence_UNSTABLE":void 0===v.persistence_UNSTABLE?void 0:{...v.persistence_UNSTABLE,"validator":_=>_ instanceof Ca?_:P(v.persistence_UNSTABLE).validator(_,Ea)},"effects_UNSTABLE":v.effects_UNSTABLE});return ba({"key":v.key+"__withFallback","get":({"get":b})=>{const T=b(_);return T instanceof Ca?v.default:T},"set":({"set":v},b)=>v(_,b),"dangerouslyAllowMutability":v.dangerouslyAllowMutability})}({...b,"default":_}):baseAtom({...b,"default":_})}var Oa=atom;let La=0;var Ma=function selectorFamily(v){var _,b;let T=null!==(_=null===(b=v.cacheImplementationForParams_UNSTABLE)||void 0===b?void 0:b.call(v))&&void 0!==_?_:Cr();return _=>{var b,S;const w=T.get(_);if(null!=w)return w;const E=`${v.key}__selectorFamily/${null!==(b=Er(_,{"allowFunctions":!0}))&&void 0!==b?b:"void"}/${La++}`,myGet=b=>v.get(_)(b),C=null===(S=v.cacheImplementation_UNSTABLE)||void 0===S?void 0:S.call(v);let k;if(null!=v.set){const b=v.set;k=ba({"key":E,"get":myGet,"set":(v,T)=>b(_)(v,T),"cacheImplementation_UNSTABLE":C,"dangerouslyAllowMutability":v.dangerouslyAllowMutability})}else k=ba({"key":E,"get":myGet,"cacheImplementation_UNSTABLE":C,"dangerouslyAllowMutability":v.dangerouslyAllowMutability});return T=T.set(_,k),k}};const{"DEFAULT_VALUE":Da,"DefaultValue":Na}=G;var Ra=function atomFamily(v){let _=Cr();const b={"key":v.key,"default":Da,"persistence_UNSTABLE":v.persistence_UNSTABLE};let T;T=Oa(b);const S=Ma({"key":v.key+"__atomFamily/Default","get":_=>({"get":b})=>{const S=b("function"==typeof T?T(_):T);return S instanceof Na?"function"==typeof v.default?v.default(_):v.default:S},"dangerouslyAllowMutability":v.dangerouslyAllowMutability});return b=>{var T;const w=_.get(b);if(null!=w)return w;const E=Oa({...v,"key":`${v.key}__${null!==(T=Er(b))&&void 0!==T?T:"void"}`,"default":S(b),"effects_UNSTABLE":"function"==typeof v.effects_UNSTABLE?v.effects_UNSTABLE(b):v.effects_UNSTABLE});return _=_.set(b,E),E}};const Ba=Ma({"key":"__constant","get":v=>()=>v,"cacheImplementationForParams_UNSTABLE":wr});var ja=function constSelector(v){return Ba(v)};const Ua=Ma({"key":"__error","get":v=>()=>{throw new Error(v)},"cacheImplementationForParams_UNSTABLE":wr});var Fa=function errorSelector(v){return Ua(v)};var Va=function readOnlySelector(v){return v};const{"loadableWithError":Ha,"loadableWithPromise":Wa,"loadableWithValue":qa}=gr;function concurrentRequests(v,_){const b=Array(_.length).fill(void 0),T=Array(_.length).fill(void 0);for(const[S,w]of _.entries())try{b[S]=v(w)}catch(v){T[S]=v}return[b,T]}function isError(v){return null!=v&&!fr(v)}function unwrapDependencies(v){return Array.isArray(v)?v:Object.getOwnPropertyNames(v).map(_=>v[_])}function getValueFromLoadablePromiseResult(v){return null!=v&&"object"==typeof v&&v.hasOwnProperty("__value")?v.__value:v}function wrapResults(v,_){return Array.isArray(v)?_:Object.getOwnPropertyNames(v).reduce((v,b,T)=>({...v,[b]:_[T]}),{})}function wrapLoadables(v,_,b){return wrapResults(v,b.map((v,b)=>null==v?qa(_[b]):fr(v)?Wa(v):Ha(v)))}var za={"waitForNone":Ma({"key":"__waitForNone","get":v=>({"get":_})=>{const b=unwrapDependencies(v),[T,S]=concurrentRequests(_,b);return wrapLoadables(v,T,S)}}),"waitForAny":Ma({"key":"__waitForAny","get":v=>({"get":_})=>{const b=unwrapDependencies(v),[T,S]=concurrentRequests(_,b);if(S.some(v=>null==v))return wrapLoadables(v,T,S);if(S.every(isError))throw S.find(isError);if(k("recoil_async_selector_refactor"))return new Promise((_,b)=>{for(const[w,E]of S.entries())fr(E)&&E.then(b=>{T[w]=getValueFromLoadablePromiseResult(b),S[w]=null,_(wrapLoadables(v,T,S))}).catch(v=>{S[w]=v,S.every(isError)&&b(S[0])})});throw new Promise((_,b)=>{for(const[w,E]of S.entries())fr(E)&&E.then(b=>{T[w]=b,S[w]=null,_(wrapLoadables(v,T,S))}).catch(v=>{S[w]=v,S.every(isError)&&b(S[0])})})}}),"waitForAll":Ma({"key":"__waitForAll","get":v=>({"get":_})=>{const b=unwrapDependencies(v),[T,S]=concurrentRequests(_,b);if(S.every(v=>null==v))return wrapResults(v,T);const w=S.find(isError);if(null!=w)throw w;if(k("recoil_async_selector_refactor"))return Promise.all(S).then(_=>wrapResults(v,function combineAsyncResultsWithSyncResults(v,_){return _.map((_,b)=>void 0===_?v[b]:_)}(T,_).map(getValueFromLoadablePromiseResult)));throw Promise.all(S).then(_=>wrapResults(v,_))}}),"noWait":Ma({"key":"__noWait","get":v=>({"get":_})=>{try{return qa(_(v))}catch(v){return fr(v)?Wa(v):Ha(v)}}})};const{"batchUpdates":Ga,"setBatcher":Ya}=xn,{"DefaultValue":Xa}=G,{"RecoilRoot":Ka}=Pi,{"isRecoilValue":Qa}=V,{"freshSnapshot":$a}=ai,{"useGotoRecoilSnapshot":Ja,"useRecoilCallback":Za,"useRecoilSnapshot":_o,"useRecoilState":Co,"useRecoilStateLoadable":ko,"useRecoilTransactionObserver":Po,"useRecoilValue":Io,"useRecoilValueLoadable":Oo,"useResetRecoilState":Do,"useSetRecoilState":No,"useSetUnvalidatedAtomValues":Ro,"useTransactionObservation_DEPRECATED":Bo}=cr,{"noWait":jo,"waitForAll":Uo,"waitForAny":Fo,"waitForNone":Vo}=za;var Ho={"DefaultValue":Xa,"RecoilRoot":Ka,"useRecoilBridgeAcrossReactRoots_UNSTABLE":pr,"atom":Oa,"selector":ba,"atomFamily":Ra,"selectorFamily":Ma,"constSelector":ja,"errorSelector":Fa,"readOnlySelector":Va,"useRecoilValue":Io,"useRecoilValueLoadable":Oo,"useRecoilState":Co,"useRecoilStateLoadable":ko,"useSetRecoilState":No,"useResetRecoilState":Do,"useRecoilCallback":Za,"useGotoRecoilSnapshot":Ja,"useRecoilSnapshot":_o,"useRecoilTransactionObserver_UNSTABLE":Po,"useTransactionObservation_UNSTABLE":Bo,"useSetUnvalidatedAtomValues_UNSTABLE":Ro,"noWait":jo,"waitForNone":Vo,"waitForAny":Fo,"waitForAll":Uo,"isRecoilValue":Qa,"batchUpdates":Ga,"setBatcher":Ya,"snapshot_UNSTABLE":$a},Wo=Ho.RecoilRoot,qo=Ho.atom,zo=Ho.useRecoilState},function(v,_,b){(function(_){var T,S=void 0!==_?_:"undefined"!=typeof window?window:{},w=b(147);"undefined"!=typeof document?T=document:(T=S["__GLOBAL_DOCUMENT_CACHE@4"])||(T=S["__GLOBAL_DOCUMENT_CACHE@4"]=w),v.exports=T}).call(this,b(21))},function(v,_,b){var T=b(30).default,S=b(126);v.exports=function _possibleConstructorReturn(v,_){return!_||"object"!==T(_)&&"function"!=typeof _?S(v):_},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){function _getPrototypeOf(_){return v.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(v){return v.__proto__||Object.getPrototypeOf(v)},v.exports.default=v.exports,v.exports.__esModule=!0,_getPrototypeOf(_)}v.exports=_getPrototypeOf,v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){var T=b(127);v.exports=function _inheritsLoose(v,_){v.prototype=Object.create(_.prototype),v.prototype.constructor=v,T(v,_)},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){var T=b(127);v.exports=function _inherits(v,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{"constructor":{"value":v,"writable":!0,"configurable":!0}}),_&&T(v,_)},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){"use strict";function _interopDefault(v){return v&&"object"==typeof v&&"default"in v?v.default:v}var T=_interopDefault(b(158)),S=_interopDefault(b(123));v.exports=function resolveUrl(v,_){return/^[a-z]+:/i.test(_)?_:(/\/\//i.test(v)||(v=T.buildAbsoluteURL(S.location&&S.location.href||"",v)),T.buildAbsoluteURL(v,_))}},function(v,_,b){"use strict";(function(_){var T=function _interopDefault(v){return v&&"object"==typeof v&&"default"in v?v.default:v}(b(123));v.exports=function decodeB64ToUint8Array(v){for(var b=function atob(v){return T.atob?T.atob(v):_.from(v,"base64").toString("binary")}(v),S=new Uint8Array(b.length),w=0;w<b.length;w++)S[w]=b.charCodeAt(w);return S}}).call(this,b(160).Buffer)},function(v,_){function copy(v,_){for(var b in v)_[b]=v[b]}function _extends(v,_){var b=v.prototype;if(Object.create){var T=Object.create(_.prototype);b.__proto__=T}if(!(b instanceof _)){function t(){}t.prototype=_.prototype,copy(b,t=new t),v.prototype=b=t}b.constructor!=v&&("function"!=typeof v&&console.error("unknow Class:"+v),b.constructor=v)}var b={},T=b.ELEMENT_NODE=1,S=b.ATTRIBUTE_NODE=2,w=b.TEXT_NODE=3,E=b.CDATA_SECTION_NODE=4,C=b.ENTITY_REFERENCE_NODE=5,k=b.ENTITY_NODE=6,x=b.PROCESSING_INSTRUCTION_NODE=7,P=b.COMMENT_NODE=8,I=b.DOCUMENT_NODE=9,O=b.DOCUMENT_TYPE_NODE=10,L=b.DOCUMENT_FRAGMENT_NODE=11,D=b.NOTATION_NODE=12,N={},R={},B=(N.INDEX_SIZE_ERR=(R[1]="Index size error",1),N.DOMSTRING_SIZE_ERR=(R[2]="DOMString size error",2),N.HIERARCHY_REQUEST_ERR=(R[3]="Hierarchy request error",3)),j=(N.WRONG_DOCUMENT_ERR=(R[4]="Wrong document",4),N.INVALID_CHARACTER_ERR=(R[5]="Invalid character",5),N.NO_DATA_ALLOWED_ERR=(R[6]="No data allowed",6),N.NO_MODIFICATION_ALLOWED_ERR=(R[7]="No modification allowed",7),N.NOT_FOUND_ERR=(R[8]="Not found",8)),U=(N.NOT_SUPPORTED_ERR=(R[9]="Not supported",9),N.INUSE_ATTRIBUTE_ERR=(R[10]="Attribute in use",10));N.INVALID_STATE_ERR=(R[11]="Invalid state",11),N.SYNTAX_ERR=(R[12]="Syntax error",12),N.INVALID_MODIFICATION_ERR=(R[13]="Invalid modification",13),N.NAMESPACE_ERR=(R[14]="Invalid namespace",14),N.INVALID_ACCESS_ERR=(R[15]="Invalid access",15);function DOMException(v,_){if(_ instanceof Error)var b=_;else b=this,Error.call(this,R[v]),this.message=R[v],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return b.code=v,_&&(this.message=this.message+": "+_),b}function NodeList(){}function LiveNodeList(v,_){this._node=v,this._refresh=_,_updateLiveList(this)}function _updateLiveList(v){var _=v._node._inc||v._node.ownerDocument._inc;if(v._inc!=_){var b=v._refresh(v._node);__set__(v,"length",b.length),copy(b,v),v._inc=_}}function NamedNodeMap(){}function _findNodeIndex(v,_){for(var b=v.length;b--;)if(v[b]===_)return b}function _addNamedNode(v,_,b,T){if(T?_[_findNodeIndex(_,T)]=b:_[_.length++]=b,v){b.ownerElement=v;var S=v.ownerDocument;S&&(T&&_onRemoveAttribute(S,v,T),function _onAddAttribute(v,_,b){v&&v._inc++,"http://www.w3.org/2000/xmlns/"==b.namespaceURI&&(_._nsMap[b.prefix?b.localName:""]=b.value)}(S,v,b))}}function _removeNamedNode(v,_,b){var T=_findNodeIndex(_,b);if(!(T>=0))throw DOMException(j,new Error(v.tagName+"@"+b));for(var S=_.length-1;T<S;)_[T]=_[++T];if(_.length=S,v){var w=v.ownerDocument;w&&(_onRemoveAttribute(w,v,b),b.ownerElement=null)}}function DOMImplementation(v){if(this._features={},v)for(var _ in v)this._features=v[_]}function Node(){}function _xmlEncoder(v){return("<"==v?"&lt;":">"==v&&"&gt;")||"&"==v&&"&amp;"||'"'==v&&"&quot;"||"&#"+v.charCodeAt()+";"}function _visitNode(v,_){if(_(v))return!0;if(v=v.firstChild)do{if(_visitNode(v,_))return!0}while(v=v.nextSibling)}function Document(){}function _onRemoveAttribute(v,_,b,T){v&&v._inc++,"http://www.w3.org/2000/xmlns/"==b.namespaceURI&&delete _._nsMap[b.prefix?b.localName:""]}function _onUpdateChild(v,_,b){if(v&&v._inc){v._inc++;var T=_.childNodes;if(b)T[T.length++]=b;else{for(var S=_.firstChild,w=0;S;)T[w++]=S,S=S.nextSibling;T.length=w}}}function _removeChild(v,_){var b=_.previousSibling,T=_.nextSibling;return b?b.nextSibling=T:v.firstChild=T,T?T.previousSibling=b:v.lastChild=b,_onUpdateChild(v.ownerDocument,v),_}function _insertBefore(v,_,b){var T=_.parentNode;if(T&&T.removeChild(_),_.nodeType===L){var S=_.firstChild;if(null==S)return _;var w=_.lastChild}else S=w=_;var E=b?b.previousSibling:v.lastChild;S.previousSibling=E,w.nextSibling=b,E?E.nextSibling=S:v.firstChild=S,null==b?v.lastChild=w:b.previousSibling=w;do{S.parentNode=v}while(S!==w&&(S=S.nextSibling));return _onUpdateChild(v.ownerDocument||v,v),_.nodeType==L&&(_.firstChild=_.lastChild=null),_}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function nodeSerializeToString(v,_){var b=[],T=9==this.nodeType?this.documentElement:this,S=T.prefix,w=T.namespaceURI;if(w&&null==S&&null==(S=T.lookupPrefix(w)))var E=[{"namespace":w,"prefix":null}];return serializeToString(this,b,v,_,E),b.join("")}function needNamespaceDefine(v,_,b){var T=v.prefix||"",S=v.namespaceURI;if(!T&&!S)return!1;if("xml"===T&&"http://www.w3.org/XML/1998/namespace"===S||"http://www.w3.org/2000/xmlns/"==S)return!1;for(var w=b.length;w--;){var E=b[w];if(E.prefix==T)return E.namespace!=S}return!0}function serializeToString(v,_,b,k,D){if(k){if(!(v=k(v)))return;if("string"==typeof v)return void _.push(v)}switch(v.nodeType){case T:D||(D=[]);D.length;var N=v.attributes,R=N.length,B=v.firstChild,j=v.tagName;b="http://www.w3.org/1999/xhtml"===v.namespaceURI||b,_.push("<",j);for(var U=0;U<R;U++){"xmlns"==(V=N.item(U)).prefix?D.push({"prefix":V.localName,"namespace":V.value}):"xmlns"==V.nodeName&&D.push({"prefix":"","namespace":V.value})}for(U=0;U<R;U++){var V;if(needNamespaceDefine(V=N.item(U),0,D)){var H=V.prefix||"",W=V.namespaceURI,q=H?" xmlns:"+H:" xmlns";_.push(q,'="',W,'"'),D.push({"prefix":H,"namespace":W})}serializeToString(V,_,b,k,D)}if(needNamespaceDefine(v,0,D)){H=v.prefix||"",W=v.namespaceURI,q=H?" xmlns:"+H:" xmlns";_.push(q,'="',W,'"'),D.push({"prefix":H,"namespace":W})}if(B||b&&!/^(?:meta|link|img|br|hr|input)$/i.test(j)){if(_.push(">"),b&&/^script$/i.test(j))for(;B;)B.data?_.push(B.data):serializeToString(B,_,b,k,D),B=B.nextSibling;else for(;B;)serializeToString(B,_,b,k,D),B=B.nextSibling;_.push("</",j,">")}else _.push("/>");return;case I:case L:for(B=v.firstChild;B;)serializeToString(B,_,b,k,D),B=B.nextSibling;return;case S:return _.push(" ",v.name,'="',v.value.replace(/[<&"]/g,_xmlEncoder),'"');case w:return _.push(v.data.replace(/[<&]/g,_xmlEncoder));case E:return _.push("<![CDATA[",v.data,"]]>");case P:return _.push("\x3c!--",v.data,"--\x3e");case O:var G=v.publicId,Y=v.systemId;if(_.push("<!DOCTYPE ",v.name),G)_.push(' PUBLIC "',G),Y&&"."!=Y&&_.push('" "',Y),_.push('">');else if(Y&&"."!=Y)_.push(' SYSTEM "',Y,'">');else{var X=v.internalSubset;X&&_.push(" [",X,"]"),_.push(">")}return;case x:return _.push("<?",v.target," ",v.data,"?>");case C:return _.push("&",v.nodeName,";");default:_.push("??",v.nodeName)}}function __set__(v,_,b){v[_]=b}DOMException.prototype=Error.prototype,copy(N,DOMException),NodeList.prototype={"length":0,"item":function(v){return this[v]||null},"toString":function(v,_){for(var b=[],T=0;T<this.length;T++)serializeToString(this[T],b,v,_);return b.join("")}},LiveNodeList.prototype.item=function(v){return _updateLiveList(this),this[v]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={"length":0,"item":NodeList.prototype.item,"getNamedItem":function(v){for(var _=this.length;_--;){var b=this[_];if(b.nodeName==v)return b}},"setNamedItem":function(v){var _=v.ownerElement;if(_&&_!=this._ownerElement)throw new DOMException(U);var b=this.getNamedItem(v.nodeName);return _addNamedNode(this._ownerElement,this,v,b),b},"setNamedItemNS":function(v){var _,b=v.ownerElement;if(b&&b!=this._ownerElement)throw new DOMException(U);return _=this.getNamedItemNS(v.namespaceURI,v.localName),_addNamedNode(this._ownerElement,this,v,_),_},"removeNamedItem":function(v){var _=this.getNamedItem(v);return _removeNamedNode(this._ownerElement,this,_),_},"removeNamedItemNS":function(v,_){var b=this.getNamedItemNS(v,_);return _removeNamedNode(this._ownerElement,this,b),b},"getNamedItemNS":function(v,_){for(var b=this.length;b--;){var T=this[b];if(T.localName==_&&T.namespaceURI==v)return T}return null}},DOMImplementation.prototype={"hasFeature":function(v,_){var b=this._features[v.toLowerCase()];return!(!b||_&&!(_ in b))},"createDocument":function(v,_,b){var T=new Document;if(T.implementation=this,T.childNodes=new NodeList,T.doctype=b,b&&T.appendChild(b),_){var S=T.createElementNS(v,_);T.appendChild(S)}return T},"createDocumentType":function(v,_,b){var T=new DocumentType;return T.name=v,T.nodeName=v,T.publicId=_,T.systemId=b,T}},Node.prototype={"firstChild":null,"lastChild":null,"previousSibling":null,"nextSibling":null,"attributes":null,"parentNode":null,"childNodes":null,"ownerDocument":null,"nodeValue":null,"namespaceURI":null,"prefix":null,"localName":null,"insertBefore":function(v,_){return _insertBefore(this,v,_)},"replaceChild":function(v,_){this.insertBefore(v,_),_&&this.removeChild(_)},"removeChild":function(v){return _removeChild(this,v)},"appendChild":function(v){return this.insertBefore(v,null)},"hasChildNodes":function(){return null!=this.firstChild},"cloneNode":function(v){return function cloneNode(v,_,b){var w=new _.constructor;for(var E in _){var C=_[E];"object"!=typeof C&&C!=w[E]&&(w[E]=C)}_.childNodes&&(w.childNodes=new NodeList);switch(w.ownerDocument=v,w.nodeType){case T:var k=_.attributes,x=w.attributes=new NamedNodeMap,P=k.length;x._ownerElement=w;for(var I=0;I<P;I++)w.setAttributeNode(cloneNode(v,k.item(I),!0));break;case S:b=!0}if(b)for(var O=_.firstChild;O;)w.appendChild(cloneNode(v,O,b)),O=O.nextSibling;return w}(this.ownerDocument||this,this,v)},"normalize":function(){for(var v=this.firstChild;v;){var _=v.nextSibling;_&&_.nodeType==w&&v.nodeType==w?(this.removeChild(_),v.appendData(_.data)):(v.normalize(),v=_)}},"isSupported":function(v,_){return this.ownerDocument.implementation.hasFeature(v,_)},"hasAttributes":function(){return this.attributes.length>0},"lookupPrefix":function(v){for(var _=this;_;){var b=_._nsMap;if(b)for(var T in b)if(b[T]==v)return T;_=_.nodeType==S?_.ownerDocument:_.parentNode}return null},"lookupNamespaceURI":function(v){for(var _=this;_;){var b=_._nsMap;if(b&&v in b)return b[v];_=_.nodeType==S?_.ownerDocument:_.parentNode}return null},"isDefaultNamespace":function(v){return null==this.lookupPrefix(v)}},copy(b,Node),copy(b,Node.prototype),Document.prototype={"nodeName":"#document","nodeType":I,"doctype":null,"documentElement":null,"_inc":1,"insertBefore":function(v,_){if(v.nodeType==L){for(var b=v.firstChild;b;){var S=b.nextSibling;this.insertBefore(b,_),b=S}return v}return null==this.documentElement&&v.nodeType==T&&(this.documentElement=v),_insertBefore(this,v,_),v.ownerDocument=this,v},"removeChild":function(v){return this.documentElement==v&&(this.documentElement=null),_removeChild(this,v)},"importNode":function(v,_){return function importNode(v,_,b){var w;switch(_.nodeType){case T:(w=_.cloneNode(!1)).ownerDocument=v;case L:break;case S:b=!0}w||(w=_.cloneNode(!1));if(w.ownerDocument=v,w.parentNode=null,b)for(var E=_.firstChild;E;)w.appendChild(importNode(v,E,b)),E=E.nextSibling;return w}(this,v,_)},"getElementById":function(v){var _=null;return _visitNode(this.documentElement,(function(b){if(b.nodeType==T&&b.getAttribute("id")==v)return _=b,!0})),_},"createElement":function(v){var _=new Element;return _.ownerDocument=this,_.nodeName=v,_.tagName=v,_.childNodes=new NodeList,(_.attributes=new NamedNodeMap)._ownerElement=_,_},"createDocumentFragment":function(){var v=new DocumentFragment;return v.ownerDocument=this,v.childNodes=new NodeList,v},"createTextNode":function(v){var _=new Text;return _.ownerDocument=this,_.appendData(v),_},"createComment":function(v){var _=new Comment;return _.ownerDocument=this,_.appendData(v),_},"createCDATASection":function(v){var _=new CDATASection;return _.ownerDocument=this,_.appendData(v),_},"createProcessingInstruction":function(v,_){var b=new ProcessingInstruction;return b.ownerDocument=this,b.tagName=b.target=v,b.nodeValue=b.data=_,b},"createAttribute":function(v){var _=new Attr;return _.ownerDocument=this,_.name=v,_.nodeName=v,_.localName=v,_.specified=!0,_},"createEntityReference":function(v){var _=new EntityReference;return _.ownerDocument=this,_.nodeName=v,_},"createElementNS":function(v,_){var b=new Element,T=_.split(":"),S=b.attributes=new NamedNodeMap;return b.childNodes=new NodeList,b.ownerDocument=this,b.nodeName=_,b.tagName=_,b.namespaceURI=v,2==T.length?(b.prefix=T[0],b.localName=T[1]):b.localName=_,S._ownerElement=b,b},"createAttributeNS":function(v,_){var b=new Attr,T=_.split(":");return b.ownerDocument=this,b.nodeName=_,b.name=_,b.namespaceURI=v,b.specified=!0,2==T.length?(b.prefix=T[0],b.localName=T[1]):b.localName=_,b}},_extends(Document,Node),Element.prototype={"nodeType":T,"hasAttribute":function(v){return null!=this.getAttributeNode(v)},"getAttribute":function(v){var _=this.getAttributeNode(v);return _&&_.value||""},"getAttributeNode":function(v){return this.attributes.getNamedItem(v)},"setAttribute":function(v,_){var b=this.ownerDocument.createAttribute(v);b.value=b.nodeValue=""+_,this.setAttributeNode(b)},"removeAttribute":function(v){var _=this.getAttributeNode(v);_&&this.removeAttributeNode(_)},"appendChild":function(v){return v.nodeType===L?this.insertBefore(v,null):function _appendSingleChild(v,_){var b=_.parentNode;if(b){var T=v.lastChild;b.removeChild(_);T=v.lastChild}return T=v.lastChild,_.parentNode=v,_.previousSibling=T,_.nextSibling=null,T?T.nextSibling=_:v.firstChild=_,v.lastChild=_,_onUpdateChild(v.ownerDocument,v,_),_}(this,v)},"setAttributeNode":function(v){return this.attributes.setNamedItem(v)},"setAttributeNodeNS":function(v){return this.attributes.setNamedItemNS(v)},"removeAttributeNode":function(v){return this.attributes.removeNamedItem(v.nodeName)},"removeAttributeNS":function(v,_){var b=this.getAttributeNodeNS(v,_);b&&this.removeAttributeNode(b)},"hasAttributeNS":function(v,_){return null!=this.getAttributeNodeNS(v,_)},"getAttributeNS":function(v,_){var b=this.getAttributeNodeNS(v,_);return b&&b.value||""},"setAttributeNS":function(v,_,b){var T=this.ownerDocument.createAttributeNS(v,_);T.value=T.nodeValue=""+b,this.setAttributeNode(T)},"getAttributeNodeNS":function(v,_){return this.attributes.getNamedItemNS(v,_)},"getElementsByTagName":function(v){return new LiveNodeList(this,(function(_){var b=[];return _visitNode(_,(function(S){S===_||S.nodeType!=T||"*"!==v&&S.tagName!=v||b.push(S)})),b}))},"getElementsByTagNameNS":function(v,_){return new LiveNodeList(this,(function(b){var S=[];return _visitNode(b,(function(w){w===b||w.nodeType!==T||"*"!==v&&w.namespaceURI!==v||"*"!==_&&w.localName!=_||S.push(w)})),S}))}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=S,_extends(Attr,Node),CharacterData.prototype={"data":"","substringData":function(v,_){return this.data.substring(v,v+_)},"appendData":function(v){v=this.data+v,this.nodeValue=this.data=v,this.length=v.length},"insertData":function(v,_){this.replaceData(v,0,_)},"appendChild":function(v){throw new Error(R[B])},"deleteData":function(v,_){this.replaceData(v,_,"")},"replaceData":function(v,_,b){b=this.data.substring(0,v)+b+this.data.substring(v+_),this.nodeValue=this.data=b,this.length=b.length}},_extends(CharacterData,Node),Text.prototype={"nodeName":"#text","nodeType":w,"splitText":function(v){var _=this.data,b=_.substring(v);_=_.substring(0,v),this.data=this.nodeValue=_,this.length=_.length;var T=this.ownerDocument.createTextNode(b);return this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling),T}},_extends(Text,CharacterData),Comment.prototype={"nodeName":"#comment","nodeType":P},_extends(Comment,CharacterData),CDATASection.prototype={"nodeName":"#cdata-section","nodeType":E},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=O,_extends(DocumentType,Node),Notation.prototype.nodeType=D,_extends(Notation,Node),Entity.prototype.nodeType=k,_extends(Entity,Node),EntityReference.prototype.nodeType=C,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=L,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=x,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(v,_,b){return nodeSerializeToString.call(v,_,b)},Node.prototype.toString=nodeSerializeToString;try{if(Object.defineProperty){Object.defineProperty(LiveNodeList.prototype,"length",{"get":function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{"get":function(){return function getTextContent(v){switch(v.nodeType){case T:case L:var _=[];for(v=v.firstChild;v;)7!==v.nodeType&&8!==v.nodeType&&_.push(getTextContent(v)),v=v.nextSibling;return _.join("");default:return v.nodeValue}}(this)},"set":function(v){switch(this.nodeType){case T:case L:for(;this.firstChild;)this.removeChild(this.firstChild);(v||String(v))&&this.appendChild(this.ownerDocument.createTextNode(v));break;default:this.data=v,this.value=v,this.nodeValue=v}}}),__set__=function(v,_,b){v["$$"+_]=b}}}catch(v){}_.DOMImplementation=DOMImplementation,_.XMLSerializer=XMLSerializer},function(v,_,b){"use strict";v.exports={"H264_STREAM_TYPE":27,"ADTS_STREAM_TYPE":15,"METADATA_STREAM_TYPE":21}},function(v,_){var b,T,S,w,E,C,k;b=function(v){return 9e4*v},T=function(v,_){return v*_},S=function(v){return v/9e4},w=function(v,_){return v/_},E=function(v,_){return b(w(v,_))},C=function(v,_){return T(S(v),_)},k=function(v,_,b){return S(b?v:v-_)},v.exports={"ONE_SECOND_IN_TS":9e4,"secondsToVideoTs":b,"secondsToAudioTs":T,"videoTsToSeconds":S,"audioTsToSeconds":w,"audioTsToVideoTs":E,"videoTsToAudioTs":C,"metadataTsToSeconds":k}},function(v,_){v.exports=function(v){var _="";return _+=String.fromCharCode(v[0]),_+=String.fromCharCode(v[1]),_+=String.fromCharCode(v[2]),_+=String.fromCharCode(v[3])}},function(v,_){v.exports=function _defineProperty(v,_,b){return _ in v?Object.defineProperty(v,_,{"value":b,"enumerable":!0,"configurable":!0,"writable":!0}):v[_]=b,v},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){var T=b(143);v.exports=function _unsupportedIterableToArray(v,_){if(v){if("string"==typeof v)return T(v,_);var b=Object.prototype.toString.call(v).slice(8,-1);return"Object"===b&&v.constructor&&(b=v.constructor.name),"Map"===b||"Set"===b?Array.from(v):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?T(v,_):void 0}},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _arrayLikeToArray(v,_){(null==_||_>v.length)&&(_=v.length);for(var b=0,T=new Array(_);b<_;b++)T[b]=v[b];return T},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){v.exports=function(v){var _={};function __webpack_require__(b){if(_[b])return _[b].exports;var T=_[b]={"i":b,"l":!1,"exports":{}};return v[b].call(T.exports,T,T.exports,__webpack_require__),T.l=!0,T.exports}return __webpack_require__.m=v,__webpack_require__.c=_,__webpack_require__.d=function(v,_,b){__webpack_require__.o(v,_)||Object.defineProperty(v,_,{"enumerable":!0,"get":b})},__webpack_require__.r=function(v){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{"value":"Module"}),Object.defineProperty(v,"__esModule",{"value":!0})},__webpack_require__.t=function(v,_){if(1&_&&(v=__webpack_require__(v)),8&_)return v;if(4&_&&"object"==typeof v&&v&&v.__esModule)return v;var b=Object.create(null);if(__webpack_require__.r(b),Object.defineProperty(b,"default",{"enumerable":!0,"value":v}),2&_&&"string"!=typeof v)for(var T in v)__webpack_require__.d(b,T,function(_){return v[_]}.bind(null,T));return b},__webpack_require__.n=function(v){var _=v&&v.__esModule?function getDefault(){return v.default}:function getModuleExports(){return v};return __webpack_require__.d(_,"a",_),_},__webpack_require__.o=function(v,_){return Object.prototype.hasOwnProperty.call(v,_)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=48)}([function(v,_,b){var T=b(29)("wks"),S=b(14),w=b(1).Symbol,E="function"==typeof w;(v.exports=function(v){return T[v]||(T[v]=E&&w[v]||(E?w:S)("Symbol."+v))}).store=T},function(v,_){var b=v.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},function(v,_){v.exports=b(16)},function(v,_,b){var T=b(11),S=b(18);v.exports=b(10)?function(v,_,b){return T.f(v,_,S(1,b))}:function(v,_,b){return v[_]=b,v}},function(v,_){var b={}.hasOwnProperty;v.exports=function(v,_){return b.call(v,_)}},function(v,_){v.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},function(v,_,b){"use strict";b.d(_,"d",(function(){return T})),b.d(_,"c",(function(){return S})),b.d(_,"a",(function(){return w})),b.d(_,"b",(function(){return E}));var T="fullpage",S="#".concat(T),w=".section",E=".SLIDE"},function(v,_,b){var T=b(39),S=b(17);v.exports=function(v){return T(S(v))}},function(v,_,b){var T=b(1),S=b(13),w=b(3),E=b(15),C=b(41),$export=function(v,_,b){var k,x,P,I,O=v&$export.F,L=v&$export.G,D=v&$export.S,N=v&$export.P,R=v&$export.B,B=L?T:D?T[_]||(T[_]={}):(T[_]||{}).prototype,j=L?S:S[_]||(S[_]={}),U=j.prototype||(j.prototype={});for(k in L&&(b=_),b)P=((x=!O&&B&&void 0!==B[k])?B:b)[k],I=R&&x?C(P,T):N&&"function"==typeof P?C(Function.call,P):P,B&&E(B,k,P,v&$export.U),j[k]!=P&&w(j,k,I),N&&U[k]!=P&&(U[k]=P)};T.core=S,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,v.exports=$export},function(v,_){v.exports=function(v){try{return!!v()}catch(v){return!0}}},function(v,_,b){v.exports=!b(9)((function(){return 7!=Object.defineProperty({},"a",{"get":function(){return 7}}).a}))},function(v,_,b){var T=b(19),S=b(47),w=b(30),E=Object.defineProperty;_.f=b(10)?Object.defineProperty:function defineProperty(v,_,b){if(T(v),_=w(_,!0),T(b),S)try{return E(v,_,b)}catch(v){}if("get"in b||"set"in b)throw TypeError("Accessors not supported!");return"value"in b&&(v[_]=b.value),v}},function(v,_,b){var T=b(40),S=b(25);v.exports=Object.keys||function keys(v){return T(v,S)}},function(v,_){var b=v.exports={"version":"2.5.7"};"number"==typeof __e&&(__e=b)},function(v,_){var b=0,T=Math.random();v.exports=function(v){return"Symbol(".concat(void 0===v?"":v,")_",(++b+T).toString(36))}},function(v,_,b){var T=b(1),S=b(3),w=b(4),E=b(14)("src"),C=Function.toString,k=(""+C).split("toString");b(13).inspectSource=function(v){return C.call(v)},(v.exports=function(v,_,b,C){var x="function"==typeof b;x&&(w(b,"name")||S(b,"name",_)),v[_]!==b&&(x&&(w(b,E)||S(b,E,v[_]?""+v[_]:k.join(String(_)))),v===T?v[_]=b:C?v[_]?v[_]=b:S(v,_,b):(delete v[_],S(v,_,b)))})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&this[E]||C.call(this)}))},function(v,_){v.exports=!1},function(v,_){v.exports=function(v){if(null==v)throw TypeError("Can't call method on  "+v);return v}},function(v,_){v.exports=function(v,_){return{"enumerable":!(1&v),"configurable":!(2&v),"writable":!(4&v),"value":_}}},function(v,_,b){var T=b(5);v.exports=function(v){if(!T(v))throw TypeError(v+" is not an object!");return v}},function(v,_,b){"use strict";_.a=function(v,_){return v?function(){for(var v,b=arguments.length,T=new Array(b),S=0;S<b;S++)T[S]=arguments[S];return(v=console).log.apply(v,["<".concat(_,"/> Debug Log: ")].concat(T))}:function(){}}},function(v,_,b){var T=b(17);v.exports=function(v){return Object(T(v))}},function(v,_){v.exports={}},function(v,_,b){var T=b(0)("unscopables"),S=Array.prototype;null==S[T]&&b(3)(S,T,{}),v.exports=function(v){S[T][v]=!0}},function(v,_){_.f={}.propertyIsEnumerable},function(v,_){v.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(v,_,b){var T=b(29)("keys"),S=b(14);v.exports=function(v){return T[v]||(T[v]=S(v))}},function(v,_){var b={}.toString;v.exports=function(v){return b.call(v).slice(8,-1)}},function(v,_,b){var T=b(11).f,S=b(4),w=b(0)("toStringTag");v.exports=function(v,_,b){v&&!S(v=b?v:v.prototype,w)&&T(v,w,{"configurable":!0,"value":_})}},function(v,_,b){var T=b(13),S=b(1),w=S["__core-js_shared__"]||(S["__core-js_shared__"]={});(v.exports=function(v,_){return w[v]||(w[v]=void 0!==_?_:{})})("versions",[]).push({"version":T.version,"mode":b(16)?"pure":"global","copyright":"© 2018 Denis Pushkarev (zloirock.ru)"})},function(v,_,b){var T=b(5);v.exports=function(v,_){if(!T(v))return v;var b,S;if(_&&"function"==typeof(b=v.toString)&&!T(S=b.call(v)))return S;if("function"==typeof(b=v.valueOf)&&!T(S=b.call(v)))return S;if(!_&&"function"==typeof(b=v.toString)&&!T(S=b.call(v)))return S;throw TypeError("Can't convert object to primitive value")}},function(v,_,b){"use strict";var T=b(23),S=b(72),w=b(22),E=b(7);v.exports=b(71)(Array,"Array",(function(v,_){this._t=E(v),this._i=0,this._k=_}),(function(){var v=this._t,_=this._k,b=this._i++;return!v||b>=v.length?(this._t=void 0,S(1)):S(0,"keys"==_?b:"values"==_?v[b]:[b,v[b]])}),"values"),w.Arguments=w.Array,T("keys"),T("values"),T("entries")},function(v,_,b){var T=b(40),S=b(25).concat("length","prototype");_.f=Object.getOwnPropertyNames||function getOwnPropertyNames(v){return T(v,S)}},function(v,_,b){var T=b(19),S=b(77),w=b(25),E=b(26)("IE_PROTO"),Empty=function(){},createDict=function(){var v,_=b(46)("iframe"),T=w.length;for(_.style.display="none",b(76).appendChild(_),_.src="javascript:",(v=_.contentWindow.document).open(),v.write("<script>document.F=Object<\/script>"),v.close(),createDict=v.F;T--;)delete createDict.prototype[w[T]];return createDict()};v.exports=Object.create||function create(v,_){var b;return null!==v?(Empty.prototype=T(v),b=new Empty,Empty.prototype=null,b[E]=v):b=createDict(),void 0===_?b:S(b,_)}},function(v,_,b){var T=b(27);v.exports=Array.isArray||function isArray(v){return"Array"==T(v)}},function(v,_){_.f=Object.getOwnPropertySymbols},function(v,_){var b=Math.ceil,T=Math.floor;v.exports=function(v){return isNaN(v=+v)?0:(v>0?T:b)(v)}},function(v,_,b){var T=b(36),S=Math.min;v.exports=function(v){return v>0?S(T(v),9007199254740991):0}},function(v,_,b){var T=b(7),S=b(37),w=b(78);v.exports=function(v){return function(_,b,E){var C,k=T(_),x=S(k.length),P=w(E,x);if(v&&b!=b){for(;x>P;)if((C=k[P++])!=C)return!0}else for(;x>P;P++)if((v||P in k)&&k[P]===b)return v||P||0;return!v&&-1}}},function(v,_,b){var T=b(27);v.exports=Object("z").propertyIsEnumerable(0)?Object:function(v){return"String"==T(v)?v.split(""):Object(v)}},function(v,_,b){var T=b(4),S=b(7),w=b(38)(!1),E=b(26)("IE_PROTO");v.exports=function(v,_){var b,C=S(v),k=0,x=[];for(b in C)b!=E&&T(C,b)&&x.push(b);for(;_.length>k;)T(C,b=_[k++])&&(~w(x,b)||x.push(b));return x}},function(v,_,b){var T=b(81);v.exports=function(v,_,b){if(T(v),void 0===_)return v;switch(b){case 1:return function(b){return v.call(_,b)};case 2:return function(b,T){return v.call(_,b,T)};case 3:return function(b,T,S){return v.call(_,b,T,S)}}return function(){return v.apply(_,arguments)}}},function(v,_,b){"use strict";var T=b(1),S=b(4),w=b(10),E=b(8),C=b(15),k=b(80).KEY,x=b(9),P=b(29),I=b(28),O=b(14),L=b(0),D=b(43),N=b(44),R=b(79),B=b(34),j=b(19),U=b(5),V=b(7),H=b(30),W=b(18),q=b(33),G=b(75),Y=b(74),X=b(11),K=b(12),Q=Y.f,J=X.f,Z=G.f,ee=T.Symbol,te=T.JSON,ne=te&&te.stringify,oe=L("_hidden"),an=L("toPrimitive"),sn={}.propertyIsEnumerable,cn=P("symbol-registry"),un=P("symbols"),dn=P("op-symbols"),hn=Object.prototype,pn="function"==typeof ee,mn=T.QObject,gn=!mn||!mn.prototype||!mn.prototype.findChild,vn=w&&x((function(){return 7!=q(J({},"a",{"get":function(){return J(this,"a",{"value":7}).a}})).a}))?function(v,_,b){var T=Q(hn,_);T&&delete hn[_],J(v,_,b),T&&v!==hn&&J(hn,_,T)}:J,wrap=function(v){var _=un[v]=q(ee.prototype);return _._k=v,_},yn=pn&&"symbol"==typeof ee.iterator?function(v){return"symbol"==typeof v}:function(v){return v instanceof ee},bn=function defineProperty(v,_,b){return v===hn&&bn(dn,_,b),j(v),_=H(_,!0),j(b),S(un,_)?(b.enumerable?(S(v,oe)&&v[oe][_]&&(v[oe][_]=!1),b=q(b,{"enumerable":W(0,!1)})):(S(v,oe)||J(v,oe,W(1,{})),v[oe][_]=!0),vn(v,_,b)):J(v,_,b)},Tn=function defineProperties(v,_){j(v);for(var b,T=R(_=V(_)),S=0,w=T.length;w>S;)bn(v,b=T[S++],_[b]);return v},Sn=function propertyIsEnumerable(v){var _=sn.call(this,v=H(v,!0));return!(this===hn&&S(un,v)&&!S(dn,v))&&(!(_||!S(this,v)||!S(un,v)||S(this,oe)&&this[oe][v])||_)},wn=function getOwnPropertyDescriptor(v,_){if(v=V(v),_=H(_,!0),v!==hn||!S(un,_)||S(dn,_)){var b=Q(v,_);return!b||!S(un,_)||S(v,oe)&&v[oe][_]||(b.enumerable=!0),b}},En=function getOwnPropertyNames(v){for(var _,b=Z(V(v)),T=[],w=0;b.length>w;)S(un,_=b[w++])||_==oe||_==k||T.push(_);return T},Cn=function getOwnPropertySymbols(v){for(var _,b=v===hn,T=Z(b?dn:V(v)),w=[],E=0;T.length>E;)!S(un,_=T[E++])||b&&!S(hn,_)||w.push(un[_]);return w};pn||(C((ee=function Symbol(){if(this instanceof ee)throw TypeError("Symbol is not a constructor!");var v=O(arguments.length>0?arguments[0]:void 0),$set=function(_){this===hn&&$set.call(dn,_),S(this,oe)&&S(this[oe],v)&&(this[oe][v]=!1),vn(this,v,W(1,_))};return w&&gn&&vn(hn,v,{"configurable":!0,"set":$set}),wrap(v)}).prototype,"toString",(function toString(){return this._k})),Y.f=wn,X.f=bn,b(32).f=G.f=En,b(24).f=Sn,b(35).f=Cn,w&&!b(16)&&C(hn,"propertyIsEnumerable",Sn,!0),D.f=function(v){return wrap(L(v))}),E(E.G+E.W+E.F*!pn,{"Symbol":ee});for(var kn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),xn=0;kn.length>xn;)L(kn[xn++]);for(var An=K(L.store),Pn=0;An.length>Pn;)N(An[Pn++]);E(E.S+E.F*!pn,"Symbol",{"for":function(v){return S(cn,v+="")?cn[v]:cn[v]=ee(v)},"keyFor":function keyFor(v){if(!yn(v))throw TypeError(v+" is not a symbol!");for(var _ in cn)if(cn[_]===v)return _},"useSetter":function(){gn=!0},"useSimple":function(){gn=!1}}),E(E.S+E.F*!pn,"Object",{"create":function create(v,_){return void 0===_?q(v):Tn(q(v),_)},"defineProperty":bn,"defineProperties":Tn,"getOwnPropertyDescriptor":wn,"getOwnPropertyNames":En,"getOwnPropertySymbols":Cn}),te&&E(E.S+E.F*(!pn||x((function(){var v=ee();return"[null]"!=ne([v])||"{}"!=ne({"a":v})||"{}"!=ne(Object(v))}))),"JSON",{"stringify":function stringify(v){for(var _,b,T=[v],S=1;arguments.length>S;)T.push(arguments[S++]);if(b=_=T[1],(U(_)||void 0!==v)&&!yn(v))return B(_)||(_=function(v,_){if("function"==typeof b&&(_=b.call(this,v,_)),!yn(_))return _}),T[1]=_,ne.apply(te,T)}}),ee.prototype[an]||b(3)(ee.prototype,an,ee.prototype.valueOf),I(ee,"Symbol"),I(Math,"Math",!0),I(T.JSON,"JSON",!0)},function(v,_,b){_.f=b(0)},function(v,_,b){var T=b(1),S=b(13),w=b(16),E=b(43),C=b(11).f;v.exports=function(v){var _=S.Symbol||(S.Symbol=w?{}:T.Symbol||{});"_"==v.charAt(0)||v in _||C(_,v,{"value":E.f(v)})}},function(v,_,b){b(44)("asyncIterator")},function(v,_,b){var T=b(5),S=b(1).document,w=T(S)&&T(S.createElement);v.exports=function(v){return w?S.createElement(v):{}}},function(v,_,b){v.exports=!b(10)&&!b(9)((function(){return 7!=Object.defineProperty(b(46)("div"),"a",{"get":function(){return 7}}).a}))},function(v,_,b){"use strict";b.r(_);b(84);var T,S=b(2),w=b.n(S),E=function Wrapper(v){var _=v.children;return w.a.createElement(S.Fragment,null,_)};_.default=((T=function windowExists(){if("undefined"==typeof window)return!1;try{return!"production".toLowerCase().match(/test/)}catch(v){return!0}}()?b(82).default:b(49).default).Wrapper=E,T)},function(v,_,b){"use strict";b.r(_);b(45),b(42);var T=b(2),S=b.n(T),w=b(20),E=b(6);function _typeof(v){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(v)}function _defineProperties(v,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}function _possibleConstructorReturn(v,_){return!_||"object"!==_typeof(_)&&"function"!=typeof _?function _assertThisInitialized(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v):_}function _getPrototypeOf(v){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(v){return v.__proto__||Object.getPrototypeOf(v)})(v)}function _setPrototypeOf(v,_){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(v,_){return v.__proto__=_,v})(v,_)}var C=function(v){function ReactFullpageShell(v){var _;return function _classCallCheck(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,ReactFullpageShell),(_=_possibleConstructorReturn(this,_getPrototypeOf(ReactFullpageShell).call(this,v))).state={},_.log=Object(w.a)(_.props.debug,"ReactFullpageShell"),_.log("Building component"),_}return function _inherits(v,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{"constructor":{"value":v,"writable":!0,"configurable":!0}}),_&&_setPrototypeOf(v,_)}(ReactFullpageShell,v),function _createClass(v,_,b){return _&&_defineProperties(v.prototype,_),b&&_defineProperties(v,b),v}(ReactFullpageShell,[{"key":"render","value":function render(){return S.a.createElement("div",{"id":E.d},this.props.render(this))}}]),ReactFullpageShell}(S.a.Component);_.default=C},function(v,_){window.fp_easings={"def":"easeOutQuad","linear":function(v,_,b,T){return b*v/T+_},"swing":function(v,_,b,T){return window.fp_easings[window.fp_easings.def](v,_,b,T)},"easeInQuad":function(v,_,b,T){return b*(v/=T)*v+_},"easeOutQuad":function(v,_,b,T){return-b*(v/=T)*(v-2)+_},"easeInOutQuad":function(v,_,b,T){return(v/=T/2)<1?b/2*v*v+_:-b/2*(--v*(v-2)-1)+_},"easeInCubic":function(v,_,b,T){return b*(v/=T)*v*v+_},"easeOutCubic":function(v,_,b,T){return b*((v=v/T-1)*v*v+1)+_},"easeInOutCubic":function(v,_,b,T){return(v/=T/2)<1?b/2*v*v*v+_:b/2*((v-=2)*v*v+2)+_},"easeInQuart":function(v,_,b,T){return b*(v/=T)*v*v*v+_},"easeOutQuart":function(v,_,b,T){return-b*((v=v/T-1)*v*v*v-1)+_},"easeInOutQuart":function(v,_,b,T){return(v/=T/2)<1?b/2*v*v*v*v+_:-b/2*((v-=2)*v*v*v-2)+_},"easeInQuint":function(v,_,b,T){return b*(v/=T)*v*v*v*v+_},"easeOutQuint":function(v,_,b,T){return b*((v=v/T-1)*v*v*v*v+1)+_},"easeInOutQuint":function(v,_,b,T){return(v/=T/2)<1?b/2*v*v*v*v*v+_:b/2*((v-=2)*v*v*v*v+2)+_},"easeInSine":function(v,_,b,T){return-b*Math.cos(v/T*(Math.PI/2))+b+_},"easeOutSine":function(v,_,b,T){return b*Math.sin(v/T*(Math.PI/2))+_},"easeInOutSine":function(v,_,b,T){return-b/2*(Math.cos(Math.PI*v/T)-1)+_},"easeInExpo":function(v,_,b,T){return 0==v?_:b*Math.pow(2,10*(v/T-1))+_},"easeOutExpo":function(v,_,b,T){return v==T?_+b:b*(1-Math.pow(2,-10*v/T))+_},"easeInOutExpo":function(v,_,b,T){return 0==v?_:v==T?_+b:(v/=T/2)<1?b/2*Math.pow(2,10*(v-1))+_:b/2*(2-Math.pow(2,-10*--v))+_},"easeInCirc":function(v,_,b,T){return-b*(Math.sqrt(1-(v/=T)*v)-1)+_},"easeOutCirc":function(v,_,b,T){return b*Math.sqrt(1-(v=v/T-1)*v)+_},"easeInOutCirc":function(v,_,b,T){return(v/=T/2)<1?-b/2*(Math.sqrt(1-v*v)-1)+_:b/2*(Math.sqrt(1-(v-=2)*v)+1)+_},"easeInElastic":function(v,_,b,T){var S=1.70158,w=0,E=b;return 0==v?_:1==(v/=T)?_+b:(w||(w=.3*T),E<Math.abs(b)?(E=b,S=w/4):S=w/(2*Math.PI)*Math.asin(b/E),-E*Math.pow(2,10*(v-=1))*Math.sin((v*T-S)*(2*Math.PI)/w)+_)},"easeOutElastic":function(v,_,b,T){var S=1.70158,w=0,E=b;return 0==v?_:1==(v/=T)?_+b:(w||(w=.3*T),E<Math.abs(b)?(E=b,S=w/4):S=w/(2*Math.PI)*Math.asin(b/E),E*Math.pow(2,-10*v)*Math.sin((v*T-S)*(2*Math.PI)/w)+b+_)},"easeInOutElastic":function(v,_,b,T){var S=1.70158,w=0,E=b;return 0==v?_:2==(v/=T/2)?_+b:(w||(w=T*(.3*1.5)),E<Math.abs(b)?(E=b,S=w/4):S=w/(2*Math.PI)*Math.asin(b/E),v<1?E*Math.pow(2,10*(v-=1))*Math.sin((v*T-S)*(2*Math.PI)/w)*-.5+_:E*Math.pow(2,-10*(v-=1))*Math.sin((v*T-S)*(2*Math.PI)/w)*.5+b+_)},"easeInBack":function(v,_,b,T,S){return null==S&&(S=1.70158),b*(v/=T)*v*((S+1)*v-S)+_},"easeOutBack":function(v,_,b,T,S){return null==S&&(S=1.70158),b*((v=v/T-1)*v*((S+1)*v+S)+1)+_},"easeInOutBack":function(v,_,b,T,S){return null==S&&(S=1.70158),(v/=T/2)<1?b/2*(v*v*((1+(S*=1.525))*v-S))+_:b/2*((v-=2)*v*((1+(S*=1.525))*v+S)+2)+_},"easeInBounce":function(v,_,b,T){return b-window.fp_easings.easeOutBounce(T-v,0,b,T)+_},"easeOutBounce":function(v,_,b,T){return(v/=T)<1/2.75?b*(7.5625*v*v)+_:v<2/2.75?b*(7.5625*(v-=1.5/2.75)*v+.75)+_:v<2.5/2.75?b*(7.5625*(v-=2.25/2.75)*v+.9375)+_:b*(7.5625*(v-=2.625/2.75)*v+.984375)+_},"easeInOutBounce":function(v,_,b,T){return v<T/2?.5*window.fp_easings.easeInBounce(2*v,0,b,T)+_:.5*window.fp_easings.easeOutBounce(2*v-T,0,b,T)+.5*b+_}}},function(v,_,b){var T,S,w;!function(S,w,E){var C=S.requestAnimationFrame||S.webkitRequestAnimationFrame||S.mozRequestAnimationFrame||S.oRequestAnimationFrame||S.msRequestAnimationFrame||function(v){S.setTimeout(v,1e3/60)},k=function(){var v={},_=w.createElement("div").style,b=function(){for(var v=["t","webkitT","MozT","msT","OT"],b=0,T=v.length;b<T;b++)if(v[b]+"ransform"in _)return v[b].substr(0,v[b].length-1);return!1}();function t(v){return!1!==b&&(""===b?v:b+v.charAt(0).toUpperCase()+v.substr(1))}v.getTime=Date.now||function(){return(new Date).getTime()},v.extend=function(v,_){for(var b in _)v[b]=_[b]},v.addEvent=function(v,_,b,T){v.addEventListener(_,b,!!T)},v.removeEvent=function(v,_,b,T){v.removeEventListener(_,b,!!T)},v.prefixPointerEvent=function(v){return S.MSPointerEvent?"MSPointer"+v.charAt(7).toUpperCase()+v.substr(8):v},v.momentum=function(v,_,b,T,S,w){var C,k,x=v-_,P=E.abs(x)/b;return k=P/(w=void 0===w?6e-4:w),(C=v+P*P/(2*w)*(x<0?-1:1))<T?(C=S?T-S/2.5*(P/8):T,k=(x=E.abs(C-v))/P):0<C&&(C=S?S/2.5*(P/8):0,k=(x=E.abs(v)+C)/P),{"destination":E.round(C),"duration":k}};var T=t("transform");return v.extend(v,{"hasTransform":!1!==T,"hasPerspective":t("perspective")in _,"hasTouch":"ontouchstart"in S,"hasPointer":!(!S.PointerEvent&&!S.MSPointerEvent),"hasTransition":t("transition")in _}),v.isBadAndroid=function(){var v=S.navigator.appVersion;if(!/Android/.test(v)||/Chrome\/\d/.test(v))return!1;var _=v.match(/Safari\/(\d+.\d)/);return!(_&&"object"==typeof _&&2<=_.length)||parseFloat(_[1])<535.19}(),v.extend(v.style={},{"transform":T,"transitionTimingFunction":t("transitionTimingFunction"),"transitionDuration":t("transitionDuration"),"transitionDelay":t("transitionDelay"),"transformOrigin":t("transformOrigin")}),v.hasClass=function(v,_){return new RegExp("(^|\\s)"+_+"(\\s|$)").test(v.className)},v.addClass=function(_,b){if(!v.hasClass(_,b)){var T=_.className.split(" ");T.push(b),_.className=T.join(" ")}},v.removeClass=function(_,b){if(v.hasClass(_,b)){var T=new RegExp("(^|\\s)"+b+"(\\s|$)","g");_.className=_.className.replace(T," ")}},v.offset=function(v){for(var _=-v.offsetLeft,b=-v.offsetTop;v=v.offsetParent;)_-=v.offsetLeft,b-=v.offsetTop;return{"left":_,"top":b}},v.preventDefaultException=function(v,_){for(var b in _)if(_[b].test(v[b]))return!0;return!1},v.extend(v.eventType={},{"touchstart":1,"touchmove":1,"touchend":1,"mousedown":2,"mousemove":2,"mouseup":2,"pointerdown":3,"pointermove":3,"pointerup":3,"MSPointerDown":3,"MSPointerMove":3,"MSPointerUp":3}),v.extend(v.ease={},{"quadratic":{"style":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","fn":function(v){return v*(2-v)}},"circular":{"style":"cubic-bezier(0.1, 0.57, 0.1, 1)","fn":function(v){return E.sqrt(1- --v*v)}},"back":{"style":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","fn":function(v){return(v-=1)*v*(5*v+4)+1}},"bounce":{"style":"","fn":function(v){return(v/=1)<1/2.75?7.5625*v*v:v<2/2.75?7.5625*(v-=1.5/2.75)*v+.75:v<2.5/2.75?7.5625*(v-=2.25/2.75)*v+.9375:7.5625*(v-=2.625/2.75)*v+.984375}},"elastic":{"style":"","fn":function(v){return 0===v?0:1==v?1:.4*E.pow(2,-10*v)*E.sin((v-.055)*(2*E.PI)/.22)+1}}}),v.tap=function(v,_){var b=w.createEvent("Event");b.initEvent(_,!0,!0),b.pageX=v.pageX,b.pageY=v.pageY,v.target.dispatchEvent(b)},v.click=function(v){var _,b=v.target;/(SELECT|INPUT|TEXTAREA)/i.test(b.tagName)||((_=w.createEvent(S.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),_.view=v.view||S,_.detail=1,_.screenX=b.screenX||0,_.screenY=b.screenY||0,_.clientX=b.clientX||0,_.clientY=b.clientY||0,_.ctrlKey=!!v.ctrlKey,_.altKey=!!v.altKey,_.shiftKey=!!v.shiftKey,_.metaKey=!!v.metaKey,_.button=0,_.relatedTarget=null,_._constructed=!0,b.dispatchEvent(_))},v}();function t(v,_){for(var b in this.wrapper="string"==typeof v?w.querySelector(v):v,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={"resizeScrollbars":!0,"mouseWheelSpeed":20,"snapThreshold":.334,"disablePointer":!k.hasPointer,"disableTouch":k.hasPointer||!k.hasTouch,"disableMouse":k.hasPointer||k.hasTouch,"startX":0,"startY":0,"scrollY":!0,"directionLockThreshold":5,"momentum":!0,"bounce":!0,"bounceTime":600,"bounceEasing":"","preventDefault":!0,"preventDefaultException":{"tagName":/^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/},"HWCompositing":!0,"useTransition":!0,"useTransform":!0,"bindToWrapper":void 0===S.onmousedown},_)this.options[b]=_[b];this.translateZ=this.options.HWCompositing&&k.hasPerspective?" translateZ(0)":"",this.options.useTransition=k.hasTransition&&this.options.useTransition,this.options.useTransform=k.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?k.ease[this.options.bounceEasing]||k.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function h(v,_,b){var T=w.createElement("div"),S=w.createElement("div");return!0===b&&(T.style.cssText="position:absolute;z-index:9999",S.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),S.className="iScrollIndicator",T.className="h"==v?(!0===b&&(T.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",S.style.height="100%"),"iScrollHorizontalScrollbar"):(!0===b&&(T.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",S.style.width="100%"),"iScrollVerticalScrollbar"),T.style.cssText+=";overflow:hidden",_||(T.style.pointerEvents="none"),T.appendChild(S),T}function a(v,_){for(var b in this.wrapper="string"==typeof _.el?w.querySelector(_.el):_.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=v,this.options={"listenX":!0,"listenY":!0,"interactive":!1,"resize":!0,"defaultScrollbars":!1,"shrink":!1,"fade":!1,"speedRatioX":0,"speedRatioY":0},_)this.options[b]=_[b];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(k.addEvent(this.indicator,"touchstart",this),k.addEvent(S,"touchend",this)),this.options.disablePointer||(k.addEvent(this.indicator,k.prefixPointerEvent("pointerdown"),this),k.addEvent(S,k.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(k.addEvent(this.indicator,"mousedown",this),k.addEvent(S,"mouseup",this))),this.options.fade){this.wrapperStyle[k.style.transform]=this.scroller.translateZ;var T=k.style.transitionDuration;if(!T)return;this.wrapperStyle[T]=k.isBadAndroid?"0.0001ms":"0ms";var E=this;k.isBadAndroid&&C((function(){"0.0001ms"===E.wrapperStyle[T]&&(E.wrapperStyle[T]="0s")})),this.wrapperStyle.opacity="0"}}t.prototype={"version":"5.2.0","_init":function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},"destroy":function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},"_transitionEnd":function(v){v.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},"_start":function(v){if((1==k.eventType[v.type]||0===(v.which?v.button:v.button<2?0:4==v.button?1:2))&&this.enabled&&(!this.initiated||k.eventType[v.type]===this.initiated)){!this.options.preventDefault||k.isBadAndroid||k.preventDefaultException(v.target,this.options.preventDefaultException)||v.preventDefault();var _,b=v.touches?v.touches[0]:v;this.initiated=k.eventType[v.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=k.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,_=this.getComputedPosition(),this._translate(E.round(_.x),E.round(_.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent("beforeScrollStart")}},"_move":function(v){if(this.enabled&&k.eventType[v.type]===this.initiated){this.options.preventDefault&&v.preventDefault();var _,b,T,S,w=v.touches?v.touches[0]:v,C=w.pageX-this.pointX,x=w.pageY-this.pointY,P=k.getTime();if(this.pointX=w.pageX,this.pointY=w.pageY,this.distX+=C,this.distY+=x,T=E.abs(this.distX),S=E.abs(this.distY),!(300<P-this.endTime&&T<10&&S<10)){if(this.directionLocked||this.options.freeScroll||(T>S+this.options.directionLockThreshold?this.directionLocked="h":S>=T+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)v.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);x=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)v.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);C=0}C=this.hasHorizontalScroll?C:0,x=this.hasVerticalScroll?x:0,_=this.x+C,b=this.y+x,(0<_||_<this.maxScrollX)&&(_=this.options.bounce?this.x+C/3:0<_?0:this.maxScrollX),(0<b||b<this.maxScrollY)&&(b=this.options.bounce?this.y+x/3:0<b?0:this.maxScrollY),this.directionX=0<C?-1:C<0?1:0,this.directionY=0<x?-1:x<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(_,b),300<P-this.startTime&&(this.startTime=P,this.startX=this.x,this.startY=this.y)}}},"_end":function(v){if(this.enabled&&k.eventType[v.type]===this.initiated){this.options.preventDefault&&!k.preventDefaultException(v.target,this.options.preventDefaultException)&&v.preventDefault(),v.changedTouches&&v.changedTouches[0];var _,b,T=k.getTime()-this.startTime,S=E.round(this.x),w=E.round(this.y),C=E.abs(S-this.startX),x=E.abs(w-this.startY),P=0,I="";if(this.isInTransition=0,this.initiated=0,this.endTime=k.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(S,w),!this.moved)return this.options.tap&&k.tap(v,this.options.tap),this.options.click&&k.click(v),void this._execEvent("scrollCancel");if(this._events.flick&&T<200&&C<100&&x<100)this._execEvent("flick");else{if(this.options.momentum&&T<300&&(_=this.hasHorizontalScroll?k.momentum(this.x,this.startX,T,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{"destination":S,"duration":0},b=this.hasVerticalScroll?k.momentum(this.y,this.startY,T,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{"destination":w,"duration":0},S=_.destination,w=b.destination,P=E.max(_.duration,b.duration),this.isInTransition=1),this.options.snap){var O=this._nearestSnap(S,w);this.currentPage=O,P=this.options.snapSpeed||E.max(E.max(E.min(E.abs(S-O.x),1e3),E.min(E.abs(w-O.y),1e3)),300),S=O.x,w=O.y,this.directionX=0,this.directionY=0,I=this.options.bounceEasing}if(S!=this.x||w!=this.y)return(0<S||S<this.maxScrollX||0<w||w<this.maxScrollY)&&(I=k.ease.quadratic),void this.scrollTo(S,w,P,I);this._execEvent("scrollEnd")}}}},"_resize":function(){var v=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){v.refresh()}),this.options.resizePolling)},"resetPosition":function(v){var _=this.x,b=this.y;return v=v||0,!this.hasHorizontalScroll||0<this.x?_=0:this.x<this.maxScrollX&&(_=this.maxScrollX),!this.hasVerticalScroll||0<this.y?b=0:this.y<this.maxScrollY&&(b=this.maxScrollY),(_!=this.x||b!=this.y)&&(this.scrollTo(_,b,v,this.options.bounceEasing),!0)},"disable":function(){this.enabled=!1},"enable":function(){this.enabled=!0},"refresh":function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=k.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},"on":function(v,_){this._events[v]||(this._events[v]=[]),this._events[v].push(_)},"off":function(v,_){if(this._events[v]){var b=this._events[v].indexOf(_);-1<b&&this._events[v].splice(b,1)}},"_execEvent":function(v){if(this._events[v]){var _=0,b=this._events[v].length;if(b)for(;_<b;_++)this._events[v][_].apply(this,[].slice.call(arguments,1))}},"scrollBy":function(v,_,b,T){v=this.x+v,_=this.y+_,b=b||0,this.scrollTo(v,_,b,T)},"scrollTo":function(v,_,b,T){T=T||k.ease.circular,this.isInTransition=this.options.useTransition&&0<b;var S=this.options.useTransition&&T.style;!b||S?(S&&(this._transitionTimingFunction(T.style),this._transitionTime(b)),this._translate(v,_)):this._animate(v,_,b,T.fn)},"scrollToElement":function(v,_,b,T,S){if(v=v.nodeType?v:this.scroller.querySelector(v)){var w=k.offset(v);w.left-=this.wrapperOffset.left,w.top-=this.wrapperOffset.top,!0===b&&(b=E.round(v.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===T&&(T=E.round(v.offsetHeight/2-this.wrapper.offsetHeight/2)),w.left-=b||0,w.top-=T||0,w.left=0<w.left?0:w.left<this.maxScrollX?this.maxScrollX:w.left,w.top=0<w.top?0:w.top<this.maxScrollY?this.maxScrollY:w.top,_=null==_||"auto"===_?E.max(E.abs(this.x-w.left),E.abs(this.y-w.top)):_,this.scrollTo(w.left,w.top,_,S)}},"_transitionTime":function(v){if(this.options.useTransition){v=v||0;var _=k.style.transitionDuration;if(_){if(this.scrollerStyle[_]=v+"ms",!v&&k.isBadAndroid){this.scrollerStyle[_]="0.0001ms";var b=this;C((function(){"0.0001ms"===b.scrollerStyle[_]&&(b.scrollerStyle[_]="0s")}))}if(this.indicators)for(var T=this.indicators.length;T--;)this.indicators[T].transitionTime(v)}}},"_transitionTimingFunction":function(v){if(this.scrollerStyle[k.style.transitionTimingFunction]=v,this.indicators)for(var _=this.indicators.length;_--;)this.indicators[_].transitionTimingFunction(v)},"_translate":function(v,_){if(this.options.useTransform?this.scrollerStyle[k.style.transform]="translate("+v+"px,"+_+"px)"+this.translateZ:(v=E.round(v),_=E.round(_),this.scrollerStyle.left=v+"px",this.scrollerStyle.top=_+"px"),this.x=v,this.y=_,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].updatePosition()},"_initEvents":function(v){var _=v?k.removeEvent:k.addEvent,b=this.options.bindToWrapper?this.wrapper:S;_(S,"orientationchange",this),_(S,"resize",this),this.options.click&&_(this.wrapper,"click",this,!0),this.options.disableMouse||(_(this.wrapper,"mousedown",this),_(b,"mousemove",this),_(b,"mousecancel",this),_(b,"mouseup",this)),k.hasPointer&&!this.options.disablePointer&&(_(this.wrapper,k.prefixPointerEvent("pointerdown"),this),_(b,k.prefixPointerEvent("pointermove"),this),_(b,k.prefixPointerEvent("pointercancel"),this),_(b,k.prefixPointerEvent("pointerup"),this)),k.hasTouch&&!this.options.disableTouch&&(_(this.wrapper,"touchstart",this),_(b,"touchmove",this),_(b,"touchcancel",this),_(b,"touchend",this)),_(this.scroller,"transitionend",this),_(this.scroller,"webkitTransitionEnd",this),_(this.scroller,"oTransitionEnd",this),_(this.scroller,"MSTransitionEnd",this)},"getComputedPosition":function(){var v,_,b=S.getComputedStyle(this.scroller,null);return _=this.options.useTransform?(v=+((b=b[k.style.transform].split(")")[0].split(", "))[12]||b[4]),+(b[13]||b[5])):(v=+b.left.replace(/[^-\d.]/g,""),+b.top.replace(/[^-\d.]/g,"")),{"x":v,"y":_}},"_initIndicators":function(){var v,_=this.options.interactiveScrollbars,b="string"!=typeof this.options.scrollbars,T=[],S=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(v={"el":h("v",_,this.options.scrollbars),"interactive":_,"defaultScrollbars":!0,"customStyle":b,"resize":this.options.resizeScrollbars,"shrink":this.options.shrinkScrollbars,"fade":this.options.fadeScrollbars,"listenX":!1},this.wrapper.appendChild(v.el),T.push(v)),this.options.scrollX&&(v={"el":h("h",_,this.options.scrollbars),"interactive":_,"defaultScrollbars":!0,"customStyle":b,"resize":this.options.resizeScrollbars,"shrink":this.options.shrinkScrollbars,"fade":this.options.fadeScrollbars,"listenY":!1},this.wrapper.appendChild(v.el),T.push(v))),this.options.indicators&&(T=T.concat(this.options.indicators));for(var w=T.length;w--;)this.indicators.push(new a(this,T[w]));function r(v){if(S.indicators)for(var _=S.indicators.length;_--;)v.call(S.indicators[_])}this.options.fadeScrollbars&&(this.on("scrollEnd",(function(){r((function(){this.fade()}))})),this.on("scrollCancel",(function(){r((function(){this.fade()}))})),this.on("scrollStart",(function(){r((function(){this.fade(1)}))})),this.on("beforeScrollStart",(function(){r((function(){this.fade(1,!0)}))}))),this.on("refresh",(function(){r((function(){this.refresh()}))})),this.on("destroy",(function(){r((function(){this.destroy()})),delete this.indicators}))},"_initWheel":function(){k.addEvent(this.wrapper,"wheel",this),k.addEvent(this.wrapper,"mousewheel",this),k.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",(function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,k.removeEvent(this.wrapper,"wheel",this),k.removeEvent(this.wrapper,"mousewheel",this),k.removeEvent(this.wrapper,"DOMMouseScroll",this)}))},"_wheel":function(v){if(this.enabled){S.navigator.userAgent.match(/(MSIE|Trident)/)||v.preventDefault();var _,b,T,w,C=this;if(void 0===this.wheelTimeout&&C._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout((function(){C.options.snap||C._execEvent("scrollEnd"),C.wheelTimeout=void 0}),400),"deltaX"in v)b=1===v.deltaMode?(_=-v.deltaX*this.options.mouseWheelSpeed,-v.deltaY*this.options.mouseWheelSpeed):(_=-v.deltaX,-v.deltaY);else if("wheelDeltaX"in v)_=v.wheelDeltaX/120*this.options.mouseWheelSpeed,b=v.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in v)_=b=v.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in v))return;_=b=-v.detail/3*this.options.mouseWheelSpeed}if(_*=this.options.invertWheelDirection,b*=this.options.invertWheelDirection,this.hasVerticalScroll||(_=b,b=0),this.options.snap)return T=this.currentPage.pageX,w=this.currentPage.pageY,0<_?T--:_<0&&T++,0<b?w--:b<0&&w++,void this.goToPage(T,w);T=this.x+E.round(this.hasHorizontalScroll?_:0),w=this.y+E.round(this.hasVerticalScroll?b:0),this.directionX=0<_?-1:_<0?1:0,this.directionY=0<b?-1:b<0?1:0,0<T?T=0:T<this.maxScrollX&&(T=this.maxScrollX),0<w?w=0:w<this.maxScrollY&&(w=this.maxScrollY),this.scrollTo(T,w,0)}},"_initSnap":function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",(function(){var v,_,b,T,S,w,C=0,k=0,x=0,P=this.options.snapStepX||this.wrapperWidth,I=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(b=E.round(P/2),T=E.round(I/2);x>-this.scrollerWidth;){for(this.pages[C]=[],S=v=0;S>-this.scrollerHeight;)this.pages[C][v]={"x":E.max(x,this.maxScrollX),"y":E.max(S,this.maxScrollY),"width":P,"height":I,"cx":x-b,"cy":S-T},S-=I,v++;x-=P,C++}else for(v=(w=this.options.snap).length,_=-1;C<v;C++)(0===C||w[C].offsetLeft<=w[C-1].offsetLeft)&&(k=0,_++),this.pages[k]||(this.pages[k]=[]),x=E.max(-w[C].offsetLeft,this.maxScrollX),S=E.max(-w[C].offsetTop,this.maxScrollY),b=x-E.round(w[C].offsetWidth/2),T=S-E.round(w[C].offsetHeight/2),this.pages[k][_]={"x":x,"y":S,"width":w[C].offsetWidth,"height":w[C].offsetHeight,"cx":b,"cy":T},x>this.maxScrollX&&k++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=E.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=E.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}})),this.on("flick",(function(){var v=this.options.snapSpeed||E.max(E.max(E.min(E.abs(this.x-this.startX),1e3),E.min(E.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,v)}))},"_nearestSnap":function(v,_){if(!this.pages.length)return{"x":0,"y":0,"pageX":0,"pageY":0};var b=0,T=this.pages.length,S=0;if(E.abs(v-this.absStartX)<this.snapThresholdX&&E.abs(_-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<v?v=0:v<this.maxScrollX&&(v=this.maxScrollX),0<_?_=0:_<this.maxScrollY&&(_=this.maxScrollY);b<T;b++)if(v>=this.pages[b][0].cx){v=this.pages[b][0].x;break}for(T=this.pages[b].length;S<T;S++)if(_>=this.pages[0][S].cy){_=this.pages[0][S].y;break}return b==this.currentPage.pageX&&((b+=this.directionX)<0?b=0:b>=this.pages.length&&(b=this.pages.length-1),v=this.pages[b][0].x),S==this.currentPage.pageY&&((S+=this.directionY)<0?S=0:S>=this.pages[0].length&&(S=this.pages[0].length-1),_=this.pages[0][S].y),{"x":v,"y":_,"pageX":b,"pageY":S}},"goToPage":function(v,_,b,T){T=T||this.options.bounceEasing,v>=this.pages.length?v=this.pages.length-1:v<0&&(v=0),_>=this.pages[v].length?_=this.pages[v].length-1:_<0&&(_=0);var S=this.pages[v][_].x,w=this.pages[v][_].y;b=void 0===b?this.options.snapSpeed||E.max(E.max(E.min(E.abs(S-this.x),1e3),E.min(E.abs(w-this.y),1e3)),300):b,this.currentPage={"x":S,"y":w,"pageX":v,"pageY":_},this.scrollTo(S,w,b,T)},"next":function(v,_){var b=this.currentPage.pageX,T=this.currentPage.pageY;++b>=this.pages.length&&this.hasVerticalScroll&&(b=0,T++),this.goToPage(b,T,v,_)},"prev":function(v,_){var b=this.currentPage.pageX,T=this.currentPage.pageY;--b<0&&this.hasVerticalScroll&&(b=0,T--),this.goToPage(b,T,v,_)},"_initKeys":function(v){var _,b={"pageUp":33,"pageDown":34,"end":35,"home":36,"left":37,"up":38,"right":39,"down":40};if("object"==typeof this.options.keyBindings)for(_ in this.options.keyBindings)"string"==typeof this.options.keyBindings[_]&&(this.options.keyBindings[_]=this.options.keyBindings[_].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(_ in b)this.options.keyBindings[_]=this.options.keyBindings[_]||b[_];k.addEvent(S,"keydown",this),this.on("destroy",(function(){k.removeEvent(S,"keydown",this)}))},"_key":function(v){if(this.enabled){var _,b=this.options.snap,T=b?this.currentPage.pageX:this.x,S=b?this.currentPage.pageY:this.y,w=k.getTime(),C=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(_=this.getComputedPosition(),this._translate(E.round(_.x),E.round(_.y)),this.isInTransition=!1),this.keyAcceleration=w-C<200?E.min(this.keyAcceleration+.25,50):0,v.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?T+=b?1:this.wrapperWidth:S+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?T-=b?1:this.wrapperWidth:S-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:T=b?this.pages.length-1:this.maxScrollX,S=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:S=T=0;break;case this.options.keyBindings.left:T+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:S+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:T-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:S-=b?1:5+this.keyAcceleration>>0;break;default:return}b?this.goToPage(T,S):(0<T?(T=0,this.keyAcceleration=0):T<this.maxScrollX&&(T=this.maxScrollX,this.keyAcceleration=0),0<S?(S=0,this.keyAcceleration=0):S<this.maxScrollY&&(S=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(T,S,0),this.keyTime=w)}},"_animate":function(v,_,b,T){var S=this,w=this.x,E=this.y,x=k.getTime(),P=x+b;this.isAnimating=!0,function t(){var I,O,L,D=k.getTime();if(P<=D)return S.isAnimating=!1,S._translate(v,_),void(S.resetPosition(S.options.bounceTime)||S._execEvent("scrollEnd"));L=T(D=(D-x)/b),I=(v-w)*L+w,O=(_-E)*L+E,S._translate(I,O),S.isAnimating&&C(t)}()},"handleEvent":function(v){switch(v.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(v);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(v);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(v);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(v);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(v);break;case"keydown":this._key(v);break;case"click":this.enabled&&!v._constructed&&(v.preventDefault(),v.stopPropagation())}}},a.prototype={"handleEvent":function(v){switch(v.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(v);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(v);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(v)}},"destroy":function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(k.removeEvent(this.indicator,"touchstart",this),k.removeEvent(this.indicator,k.prefixPointerEvent("pointerdown"),this),k.removeEvent(this.indicator,"mousedown",this),k.removeEvent(S,"touchmove",this),k.removeEvent(S,k.prefixPointerEvent("pointermove"),this),k.removeEvent(S,"mousemove",this),k.removeEvent(S,"touchend",this),k.removeEvent(S,k.prefixPointerEvent("pointerup"),this),k.removeEvent(S,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},"_start":function(v){var _=v.touches?v.touches[0]:v;v.preventDefault(),v.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=_.pageX,this.lastPointY=_.pageY,this.startTime=k.getTime(),this.options.disableTouch||k.addEvent(S,"touchmove",this),this.options.disablePointer||k.addEvent(S,k.prefixPointerEvent("pointermove"),this),this.options.disableMouse||k.addEvent(S,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},"_move":function(v){var _,b,T,S,w=v.touches?v.touches[0]:v;k.getTime(),this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,_=w.pageX-this.lastPointX,this.lastPointX=w.pageX,b=w.pageY-this.lastPointY,this.lastPointY=w.pageY,T=this.x+_,S=this.y+b,this._pos(T,S),v.preventDefault(),v.stopPropagation()},"_end":function(v){if(this.initiated){if(this.initiated=!1,v.preventDefault(),v.stopPropagation(),k.removeEvent(S,"touchmove",this),k.removeEvent(S,k.prefixPointerEvent("pointermove"),this),k.removeEvent(S,"mousemove",this),this.scroller.options.snap){var _=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),b=this.options.snapSpeed||E.max(E.max(E.min(E.abs(this.scroller.x-_.x),1e3),E.min(E.abs(this.scroller.y-_.y),1e3)),300);this.scroller.x==_.x&&this.scroller.y==_.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=_,this.scroller.scrollTo(_.x,_.y,b,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},"transitionTime":function(v){v=v||0;var _=k.style.transitionDuration;if(_&&(this.indicatorStyle[_]=v+"ms",!v&&k.isBadAndroid)){this.indicatorStyle[_]="0.0001ms";var b=this;C((function(){"0.0001ms"===b.indicatorStyle[_]&&(b.indicatorStyle[_]="0s")}))}},"transitionTimingFunction":function(v){this.indicatorStyle[k.style.transitionTimingFunction]=v},"refresh":function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(k.addClass(this.wrapper,"iScrollBothScrollbars"),k.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(k.removeClass(this.wrapper,"iScrollBothScrollbars"),k.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=E.max(E.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=E.max(E.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},"updatePosition":function(){var v=this.options.listenX&&E.round(this.sizeRatioX*this.scroller.x)||0,_=this.options.listenY&&E.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(v<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=E.max(this.indicatorWidth+v,8),this.indicatorStyle.width=this.width+"px"),v=this.minBoundaryX):v>this.maxBoundaryX?v="scale"==this.options.shrink?(this.width=E.max(this.indicatorWidth-(v-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",this.maxPosX+this.indicatorWidth-this.width):this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),_<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=E.max(this.indicatorHeight+3*_,8),this.indicatorStyle.height=this.height+"px"),_=this.minBoundaryY):_>this.maxBoundaryY?_="scale"==this.options.shrink?(this.height=E.max(this.indicatorHeight-3*(_-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",this.maxPosY+this.indicatorHeight-this.height):this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=v,this.y=_,this.scroller.options.useTransform?this.indicatorStyle[k.style.transform]="translate("+v+"px,"+_+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=v+"px",this.indicatorStyle.top=_+"px")},"_pos":function(v,_){v<0?v=0:v>this.maxPosX&&(v=this.maxPosX),_<0?_=0:_>this.maxPosY&&(_=this.maxPosY),v=this.options.listenX?E.round(v/this.sizeRatioX):this.scroller.x,_=this.options.listenY?E.round(_/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(v,_)},"fade":function(v,_){if(!_||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var b=v?250:500,T=v?0:300;v=v?"1":"0",this.wrapperStyle[k.style.transitionDuration]=b+"ms",this.fadeTimeout=setTimeout(function(v){this.wrapperStyle.opacity=v,this.visible=+v}.bind(this,v),T)}}},t.utils=k,void 0!==v&&v.exports?v.exports=t:(void 0!==(T=function(){return t}.call(_,b,_,v))&&(v.exports=T),void 0!==S&&(S.IScroll=t))}(window,document,Math),S=window,w=document,S.fp_scrolloverflow=function(){S.IScroll||(S.IScroll=v.exports);var _="fp-scrollable",b="."+_,T=".fp-section",E=T+".active",C=".fp-tableCell";function r(){var v=this;function s(){fp_utils.hasClass(w.body,"fp-responsive")?i(e):i(t)}function t(_){if(!fp_utils.hasClass(_,"fp-noscroll")){fp_utils.css(_,{"overflow":"hidden"});var b,S,w,E=v.options.scrollOverflowHandler,x=E.wrapContent(),P=fp_utils.closest(_,T),I=E.scrollable(_),O=(S=P,null!=(w=fp_utils.closest(S,T))?parseInt(getComputedStyle(w)["padding-bottom"])+parseInt(getComputedStyle(w)["padding-top"]):0);null!=I?b=E.scrollHeight(_):(b=_.scrollHeight,v.options.verticalCentered&&(b=k(C,_)[0].scrollHeight));var L=fp_utils.getWindowHeight(),D=L-O;L<b+O?null!=I?E.update(_,D):(v.options.verticalCentered?(fp_utils.wrapInner(k(C,_)[0],x.scroller),fp_utils.wrapInner(k(C,_)[0],x.scrollable)):(fp_utils.wrapInner(_,x.scroller),fp_utils.wrapInner(_,x.scrollable)),E.create(_,D,v.iscrollOptions)):E.remove(_),fp_utils.css(_,{"overflow":""})}}function i(v){k(T).forEach((function(_){var b=k(".fp-slide",_);b.length?b.forEach((function(_){v(_)})):v(_)}))}function e(_){var b=v.options.scrollOverflowHandler;fp_utils.hasClass(fp_utils.closest(_,T),"fp-auto-height-responsive")&&b.remove(_)}v.options=null,v.init=function(_,b){return v.options=_,v.iscrollOptions=b,"complete"===w.readyState&&(s(),fullpage_api.shared.afterRenderActions()),S.addEventListener("load",(function(){s(),fullpage_api.shared.afterRenderActions()})),v},v.createScrollBarForAll=s,v.createScrollBar=t}IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this),this.wrapper.addEventListener("mousewheel",this),this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this),this.wrapper.removeEventListener("mousewheel",this),this.wrapper.removeEventListener("DOMMouseScroll",this)};var k=null,x=null,P={"refreshId":null,"iScrollInstances":[],"lastScrollY":null,"hasBeenInit":!1,"iscrollOptions":{"scrollbars":!0,"mouseWheel":!0,"hideScrollbars":!1,"fadeScrollbars":!1,"disableMouse":!0,"interactiveScrollbars":!0},"init":function(v){k=fp_utils.$,x=v;var _="ontouchstart"in S||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints;return P.iscrollOptions.click=_,P.hasBeenInit=!0,P.iscrollOptions=fp_utils.deepExtend(P.iscrollOptions,v.scrollOverflowOptions),(new r).init(v,P.iscrollOptions)},"toggleWheel":function(v){k(b,k(E)[0]).forEach((function(_){var b=_.fp_iscrollInstance;null!=b&&(v?b.wheelOn():b.wheelOff())}))},"setIscroll":function(v,_){if(P.hasBeenInit&&v){var T=fp_utils.closest(v,b)||k(b,v)&&k(b,v)[0],S=_?"enable":"disable";T&&T.fp_iscrollInstance[S]()}},"onLeave":function(){P.toggleWheel(!1)},"beforeLeave":function(){P.onLeave()},"afterLoad":function(){P.toggleWheel(!0)},"create":function(v,_,S){k(b,v).forEach((function(b){fp_utils.css(b,{"height":_+"px"});var w=b.fp_iscrollInstance;null!=w&&P.iScrollInstances.forEach((function(v){v.destroy()})),w=new IScroll(b,S),P.iScrollInstances.push(w),fp_utils.hasClass(fp_utils.closest(v,T),"active")||w.wheelOff(),b.fp_iscrollInstance=w}))},"isScrolled":function(v,_){var b=_.fp_iscrollInstance;if(!b)return!0;if("top"===v)return 0<=b.y&&!fp_utils.getScrollTop(_);if("bottom"===v){var T=P.lastScrollY===b.y;return P.lastScrollY=b.y,(T?1:0)+(0-b.y)+fp_utils.getScrollTop(_)+_.offsetHeight>=_.scrollHeight}},"scrollable":function(v){return k(".fp-slides",v).length?k(b,k(".fp-slide.active",v)[0])[0]:k(b,v)[0]},"scrollHeight":function(v){return k(".fp-scroller",k(b,v)[0])[0].scrollHeight},"remove":function(v){if(null!=v){var _=k(b,v)[0];if(null!=_){var T=_.fp_iscrollInstance;null!=T&&T.destroy(),_.fp_iscrollInstance=null,fp_utils.unwrap(k(".fp-scroller",v)[0]),fp_utils.unwrap(k(b,v)[0])}}},"update":function(v,_){clearTimeout(P.refreshId),P.refreshId=setTimeout((function(){P.iScrollInstances.forEach((function(v){v.refresh(),fullpage_api.silentMoveTo(fp_utils.index(k(E)[0])+1)}))}),150),fp_utils.css(k(b,v)[0],{"height":_+"px"}),x.verticalCentered&&fp_utils.css(k(b,v)[0].parentNode,{"height":_+"px"})},"wrapContent":function(){var v=w.createElement("div");v.className=_;var b=w.createElement("div");return b.className="fp-scroller",{"scrollable":v,"scroller":b}}};return{"iscrollHandler":P}}()},function(v,_,b){var T,S,w,E;S=this,w=window,E=document,void 0===(T=function(){return S.fullpage=function(v,_){"use strict";var b="fullpage-wrapper",T="."+b,S="fp-responsive",w="fp-notransition",E="fp-destroyed",C="fp-enabled",k="fp-viewing",x="active",P="."+x,I="fp-completely",O="fp-section",L="."+O,D=L+P,N="fp-tableCell",R="."+N,B="#fp-nav",j="fp-slide",U="."+j,V=U+P,H="fp-slides",W="."+H,q="fp-slidesContainer",G="."+q,Y="fp-table",X="fp-slidesNav",K="."+X,Q=K+" a",J=".fp-controlArrow",Z=J+".fp-prev",ee=J+".fp-next";function Xn(_,b){v.console&&v.console[_]&&v.console[_]("fullPage: "+b)}function Gn(v,b){return(b=1<arguments.length?b:_)?b.querySelectorAll(v):null}function Un(v){v=v||{};for(var _=1,b=arguments.length;_<b;++_){var T=arguments[_];if(T)for(var S in T)T.hasOwnProperty(S)&&("[object Object]"!==Object.prototype.toString.call(T[S])?v[S]=T[S]:v[S]=Un(v[S],T[S]))}return v}function Fn(v,_){return null!=v&&(v.classList?v.classList.contains(_):new RegExp("(^| )"+_+"( |$)","gi").test(v.className))}function _n(){return"innerHeight"in v?v.innerHeight:_.documentElement.offsetHeight}function Qn(){return v.innerWidth}function Jn(v,_){var b;for(b in v=l(v),_)if(_.hasOwnProperty(b)&&null!==b)for(var T=0;T<v.length;T++)v[T].style[b]=_[b];return v}function n(v,_,b){for(var T=v[b];T&&!yo(T,_);)T=T[b];return T}function Kn(v,_){return n(v,_,"previousElementSibling")}function $n(v,_){return n(v,_,"nextElementSibling")}function qn(v,_){if(null==_)return v.previousElementSibling;var b=qn(v);return b&&yo(b,_)?b:null}function eo(v,_){if(null==_)return v.nextElementSibling;var b=eo(v);return b&&yo(b,_)?b:null}function to(v){return v[v.length-1]}function no(v,_){v=io(v)?v[0]:v;for(var b=null!=_?Gn(_,v.parentNode):v.parentNode.childNodes,T=0,S=0;S<b.length;S++){if(b[S]==v)return T;1==b[S].nodeType&&T++}return-1}function l(v){return io(v)?v:[v]}function oo(v){v=l(v);for(var _=0;_<v.length;_++)v[_].style.display="none";return v}function ro(v){v=l(v);for(var _=0;_<v.length;_++)v[_].style.display="block";return v}function io(v){return"[object Array]"===Object.prototype.toString.call(v)||"[object NodeList]"===Object.prototype.toString.call(v)}function lo(v,_){v=l(v);for(var b=0;b<v.length;b++){var T=v[b];T.classList?T.classList.add(_):T.className+=" "+_}return v}function ao(v,_){v=l(v);for(var b=_.split(" "),T=0;T<b.length;T++){_=b[T];for(var S=0;S<v.length;S++){var w=v[S];w.classList?w.classList.remove(_):w.className=w.className.replace(new RegExp("(^|\\b)"+_.split(" ").join("|")+"(\\b|$)","gi")," ")}}return v}function co(v,_){_.appendChild(v)}function o(v,b,T){var S;b=b||_.createElement("div");for(var w=0;w<v.length;w++){var E=v[w];(T&&!w||!T)&&(S=b.cloneNode(!0),E.parentNode.insertBefore(S,E)),S.appendChild(E)}return v}function so(v,_){o(v,_,!0)}function uo(v,_){for("string"==typeof _&&(_=xo(_)),v.appendChild(_);v.firstChild!==_;)_.appendChild(v.firstChild)}function fo(v){for(var b=_.createDocumentFragment();v.firstChild;)b.appendChild(v.firstChild);v.parentNode.replaceChild(b,v)}function vo(v,_){return v&&1===v.nodeType?yo(v,_)?v:vo(v.parentNode,_):null}function po(v,_){r(v,v.nextSibling,_)}function ho(v,_){r(v,v,_)}function r(v,_,b){io(b)||("string"==typeof b&&(b=xo(b)),b=[b]);for(var T=0;T<b.length;T++)v.parentNode.insertBefore(b[T],_)}function go(){var b=_.documentElement;return(v.pageYOffset||b.scrollTop)-(b.clientTop||0)}function mo(v){return Array.prototype.filter.call(v.parentNode.children,(function(_){return _!==v}))}function So(v){v.preventDefault?v.preventDefault():v.returnValue=!1}function bo(v){if("function"==typeof v)return!0;var _=Object.prototype.toString(v);return"[object Function]"===_||"[object GeneratorFunction]"===_}function wo(b,T,S){var w;S=void 0===S?{}:S,"function"==typeof v.CustomEvent?w=new CustomEvent(T,{"detail":S}):(w=_.createEvent("CustomEvent")).initCustomEvent(T,!0,!0,S),b.dispatchEvent(w)}function yo(v,_){return(v.matches||v.matchesSelector||v.msMatchesSelector||v.mozMatchesSelector||v.webkitMatchesSelector||v.oMatchesSelector).call(v,_)}function Eo(v,_){if("boolean"==typeof _)for(var b=0;b<v.length;b++)v[b].style.display=_?"block":"none";return v}function xo(v){var b=_.createElement("div");return b.innerHTML=v.trim(),b.firstChild}function Lo(v){v=l(v);for(var _=0;_<v.length;_++){var b=v[_];b&&b.parentElement&&b.parentNode.removeChild(b)}}function i(v,_,b){for(var T=v[b],S=[];T;)(yo(T,_)||null==_)&&S.push(T),T=T[b];return S}function Ao(v,_){return i(v,_,"nextElementSibling")}function Mo(v,_){return i(v,_,"previousElementSibling")}function To(v,_){v.insertBefore(_,v.firstChild)}return v.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(_,b){b=b||v;for(var T=0;T<this.length;T++)_.call(b,this[T],T,this)}),v.fp_utils={"$":Gn,"deepExtend":Un,"hasClass":Fn,"getWindowHeight":_n,"css":Jn,"until":n,"prevUntil":Kn,"nextUntil":$n,"prev":qn,"next":eo,"last":to,"index":no,"getList":l,"hide":oo,"show":ro,"isArrayOrList":io,"addClass":lo,"removeClass":ao,"appendTo":co,"wrap":o,"wrapAll":so,"wrapInner":uo,"unwrap":fo,"closest":vo,"after":po,"before":ho,"insertBefore":r,"getScrollTop":go,"siblings":mo,"preventDefault":So,"isFunction":bo,"trigger":wo,"matches":yo,"toggle":Eo,"createElementFromHTML":xo,"remove":Lo,"filter":function(v,_){Array.prototype.filter.call(v,_)},"untilAll":i,"nextAll":Ao,"prevAll":Mo,"showError":Xn,"prependTo":To,"toggleClass":function(v,_,b){if(v.classList&&null==b)v.classList.toggle(_);else{var T=Fn(v,_);T&&null==b||!b?ao(v,_):(!T&&null==b||b)&&lo(v,_)}}},function(te,ne){var oe=ne&&new RegExp("([\\d\\w]{8}-){3}[\\d\\w]{8}|^(?=.*?[A-Y])(?=.*?[a-y])(?=.*?[0-8])(?=.*?[#?!@$%^&*-]).{8,}$").test(ne.licenseKey)||-1<_.domain.indexOf("alvarotrigo.com"),an=Gn("html, body"),sn=Gn("html")[0],cn=Gn("body")[0];if(!Fn(sn,C)){var un={};ne=Un({"menu":!1,"anchors":[],"lockAnchors":!1,"navigation":!1,"navigationPosition":"right","navigationTooltips":[],"showActiveTooltip":!1,"slidesNavigation":!1,"slidesNavPosition":"bottom","scrollBar":!1,"hybrid":!1,"css3":!0,"scrollingSpeed":700,"autoScrolling":!0,"fitToSection":!0,"fitToSectionDelay":1e3,"easing":"easeInOutCubic","easingcss3":"ease","loopBottom":!1,"loopTop":!1,"loopHorizontal":!0,"continuousVertical":!1,"continuousHorizontal":!1,"scrollHorizontally":!1,"interlockedSlides":!1,"dragAndMove":!1,"offsetSections":!1,"resetSliders":!1,"fadingEffect":!1,"normalScrollElements":null,"scrollOverflow":!1,"scrollOverflowReset":!1,"scrollOverflowHandler":v.fp_scrolloverflow?v.fp_scrolloverflow.iscrollHandler:null,"scrollOverflowOptions":null,"touchSensitivity":5,"touchWrapper":"string"==typeof te?Gn(te)[0]:te,"bigSectionsDestination":null,"keyboardScrolling":!0,"animateAnchor":!0,"recordHistory":!0,"controlArrows":!0,"controlArrowColor":"#fff","verticalCentered":!0,"sectionsColor":[],"paddingTop":0,"paddingBottom":0,"fixedElements":null,"responsive":0,"responsiveWidth":0,"responsiveHeight":0,"responsiveSlides":!1,"parallax":!1,"parallaxOptions":{"type":"reveal","percentage":62,"property":"translate"},"cards":!1,"cardsOptions":{"perspective":100,"fadeContent":!0,"fadeBackground":!0},"sectionSelector":".section","slideSelector":".slide","v2compatible":!1,"afterLoad":null,"onLeave":null,"afterRender":null,"afterResize":null,"afterReBuild":null,"afterSlideLoad":null,"onSlideLeave":null,"afterResponsive":null,"lazyLoading":!0},ne);var dn,hn,pn,mn,gn=!1,vn=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),yn="ontouchstart"in v||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints,bn="string"==typeof te?Gn(te)[0]:te,Tn=_n(),Sn=Qn(),wn=!1,En=!0,Cn=!0,kn=[],xn={"m":{"up":!0,"down":!0,"left":!0,"right":!0}};xn.k=Un({},xn.m);var An,Pn,In,On,Ln,Mn,Dn,Nn,Rn,Bn,jn=Vt(),Vn={"touchmove":"ontouchmove"in v?"touchmove":jn.move,"touchstart":"ontouchstart"in v?"touchstart":jn.down},Hn=!1,Wn=!Fn(cn,ot("OHNsd3AtZnVsbHBhZ2UtanM5T20=")),zn='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',Yn=!1;try{var Zn=Object.defineProperty({},"passive",{"get":function(){Yn=!0}});v.addEventListener("testPassive",null,Zn),v.removeEventListener("testPassive",null,Zn)}catch(te){}var ei,ti,ni,ii=Un({},ne),ri=!1,ai=!0,oi={};en(),v.fp_easings=Un(v.fp_easings,{"easeInOutCubic":function(v,_,b,T){return(v/=T/2)<1?b/2*v*v*v+_:b/2*((v-=2)*v*v+2)+_}}),bn&&(un.version="3.1.0",un.setAutoScrolling=re,un.setRecordHistory=ie,un.setScrollingSpeed=le,un.setFitToSection=ae,un.setLockAnchors=function(v){ne.lockAnchors=v},un.setMouseWheelScrolling=ce,un.setAllowScrolling=se,un.setKeyboardScrolling=fe,un.moveSectionUp=de,un.moveSectionDown=ve,un.silentMoveTo=pe,un.moveTo=he,un.moveSlideRight=ge,un.moveSlideLeft=me,un.fitToSection=ze,un.reBuild=Se,un.setResponsive=we,un.getFullpageData=function(){return{"options":ne,"internals":{"container":bn,"canScroll":Cn,"isScrollAllowed":xn,"getDestinationPosition":Ve,"isTouch":yn,"c":at,"getXmovement":Ht,"removeAnimation":Ot,"getTransforms":Ut,"lazyLoad":Ke,"addAnimation":Tt,"performHorizontalMove":xt,"landscapeScroll":wt,"silentLandscapeScroll":Xt,"keepSlidesPosition":De,"silentScroll":Gt,"styleSlides":Me,"styleSection":Oe,"scrollHandler":He,"getEventsPage":Zt,"getMSPointer":Vt,"isReallyTouch":Be,"usingExtension":Qt,"toggleControlArrows":yt,"touchStartHandler":je,"touchMoveHandler":Ne}}},un.destroy=function(b){wo(bn,"destroy",b),re(!1,"internal"),se(!0),ue(!1),fe(!1),lo(bn,E),[Ln,On,Pn,Mn,Dn,Rn,In,ni].forEach((function(v){clearTimeout(v)})),v.removeEventListener("scroll",He),v.removeEventListener("hashchange",ut),v.removeEventListener("resize",Lt),_.removeEventListener("keydown",dt),_.removeEventListener("keyup",vt),["click","touchstart"].forEach((function(v){_.removeEventListener(v,ye)})),["mouseenter","touchstart","mouseleave","touchend"].forEach((function(v){_.removeEventListener(v,xe,!0)})),Jt("dragAndMove","destroy"),b&&(Gt(0),Gn("img[data-src], source[data-src], audio[data-src], iframe[data-src]",bn).forEach((function(v){Qe(v,"src")})),Gn("img[data-srcset]").forEach((function(v){Qe(v,"srcset")})),Lo(Gn(B+", "+K+", "+J)),Jn(Gn(L),{"height":"","background-color":"","padding":""}),Jn(Gn(U),{"width":""}),Jn(bn,{"height":"","position":"","-ms-touch-action":"","touch-action":""}),Jn(an,{"overflow":"","height":""}),ao(sn,C),ao(cn,S),cn.className.split(/\s+/).forEach((function(v){0===v.indexOf(k)&&ao(cn,v)})),Gn(L+", "+U).forEach((function(v){ne.scrollOverflowHandler&&ne.scrollOverflow&&ne.scrollOverflowHandler.remove(v),ao(v,Y+" "+x+" "+I),v.getAttribute("data-fp-styles")&&v.setAttribute("style",v.getAttribute("data-fp-styles")),Fn(v,O)&&!ri&&v.removeAttribute("data-anchor")})),_t(bn),[R,G,W].forEach((function(v){Gn(v,bn).forEach((function(v){fo(v)}))})),v.scrollTo(0,0),[O,j,q].forEach((function(v){ao(Gn("."+v),v)})))},un.getActiveSection=function(){return new rn(Gn(D)[0])},un.getActiveSlide=function(){return Ue(Gn(V,Gn(D)[0])[0])},un.landscapeScroll=wt,un.test={"top":"0px","translate3d":"translate3d(0px, 0px, 0px)","translate3dH":function(){for(var v=[],_=0;_<Gn(ne.sectionSelector,bn).length;_++)v.push("translate3d(0px, 0px, 0px)");return v}(),"left":function(){for(var v=[],_=0;_<Gn(ne.sectionSelector,bn).length;_++)v.push(0);return v}(),"options":ne,"setAutoScrolling":re},un.shared={"afterRenderActions":Ce,"isNormalScrollElement":!1},v.fullpage_api=un,v.fullpage_extensions=!0,ne.$&&Object.keys(un).forEach((function(v){ne.$.fn.fullpage[v]=un[v]})),Ae("continuousHorizontal"),Ae("scrollHorizontally"),Ae("resetSliders"),Ae("interlockedSlides"),Ae("responsiveSlides"),Ae("fadingEffect"),Ae("dragAndMove"),Ae("offsetSections"),Ae("scrollOverflowReset"),Ae("parallax"),Ae("cards"),Ae("dropEffect"),Jt("dragAndMove","init"),ne.css3&&(ne.css3=function(){var b,T=_.createElement("p"),S={"webkitTransform":"-webkit-transform","OTransform":"-o-transform","msTransform":"-ms-transform","MozTransform":"-moz-transform","transform":"transform"};for(var w in T.style.display="block",_.body.insertBefore(T,null),S)void 0!==T.style[w]&&(T.style[w]="translate3d(1px,1px,1px)",b=v.getComputedStyle(T).getPropertyValue(S[w]));return _.body.removeChild(T),void 0!==b&&0<b.length&&"none"!==b}()),ne.scrollBar=ne.scrollBar||ne.hybrid,function(){if(!ne.anchors.length){var v="[data-anchor]",_=Gn(ne.sectionSelector.split(",").join(v+",")+v,bn);_.length&&_.length===Gn(ne.sectionSelector,bn).length&&(ri=!0,_.forEach((function(v){ne.anchors.push(v.getAttribute("data-anchor").toString())})))}if(!ne.navigationTooltips.length){var b="[data-tooltip]",T=Gn(ne.sectionSelector.split(",").join(b+",")+b,bn);T.length&&T.forEach((function(v){ne.navigationTooltips.push(v.getAttribute("data-tooltip").toString())}))}}(),function(){Jn(bn,{"height":"100%","position":"relative"}),lo(bn,b),lo(sn,C),Tn=_n(),ao(bn,E),lo(Gn(ne.sectionSelector,bn),O),lo(Gn(ne.slideSelector,bn),j),Jt("parallax","init");for(var v=Gn(L),S=0;S<v.length;S++){var w=S,k=v[S],P=Gn(U,k),I=P.length;k.setAttribute("data-fp-styles",k.getAttribute("style")),Oe(k,w),N=k,R=w,void 0!==ne.anchors[R]&&Fn(N,x)&&kt(ne.anchors[R],R),ne.menu&&ne.css3&&null!=vo(Gn(ne.menu)[0],T)&&Gn(ne.menu).forEach((function(v){cn.appendChild(v)})),0<I?Me(k,P,I):ne.verticalCentered&&zt(k)}var N,R;ne.fixedElements&&ne.css3&&Gn(ne.fixedElements).forEach((function(v){cn.appendChild(v)})),ne.navigation&&function(){var v=_.createElement("div");v.setAttribute("id","fp-nav");var b=_.createElement("ul");v.appendChild(b),co(v,cn);var T=Gn(B)[0];lo(T,"fp-"+ne.navigationPosition),ne.showActiveTooltip&&lo(T,"fp-show-active");for(var S="",w=0;w<Gn(L).length;w++){var E="";ne.anchors.length&&(E=ne.anchors[w]),S+='<li><a href="#'+E+'"><span class="fp-sr-only">'+ke(w,"Section")+"</span><span></span></a>";var C=ne.navigationTooltips[w];void 0!==C&&""!==C&&(S+='<div class="fp-tooltip fp-'+ne.navigationPosition+'">'+C+"</div>"),S+="</li>"}Gn("ul",T)[0].innerHTML=S,lo(Gn("a",Gn("li",Gn(B)[0])[no(Gn(D)[0],L)]),x)}(),Gn('iframe[src*="youtube.com/embed/"]',bn).forEach((function(v){var _,b;b=(_=v).getAttribute("src"),_.setAttribute("src",b+(/\?/.test(b)?"&":"?")+"enablejsapi=1")})),Jt("fadingEffect","apply"),Jt("dropEffect","init"),Jt("cards","init"),ne.scrollOverflow&&(An=ne.scrollOverflowHandler.init(ne))}(),se(!0),ue(!0),re(ne.autoScrolling,"internal"),Mt(),Dt(),"complete"===_.readyState&&st(),v.addEventListener("load",st),ne.scrollOverflow||Ce(),function(){for(var v=1;v<4;v++)Rn=setTimeout(Le,350*v)}(),Wn||at("l"),v.addEventListener("scroll",He),v.addEventListener("hashchange",ut),v.addEventListener("focus",(function mt(){En=!0})),v.addEventListener("blur",(function St(){pn=En=!1})),v.addEventListener("resize",Lt),_.addEventListener("keydown",dt),_.addEventListener("keyup",vt),["click","touchstart"].forEach((function(v){_.addEventListener(v,ye)})),ne.normalScrollElements&&(["mouseenter","touchstart"].forEach((function(v){Ee(v,!1)})),["mouseleave","touchend"].forEach((function(v){Ee(v,!0)}))),Jt("dragAndMove","turnOffTouch"));var si,li,ci,ui=!1,di=0,hi=0,pi=0,fi=0,mi=(new Date).getTime(),gi=0,vi=0,yi=Tn;return un}function re(v,_){v||Gt(0),qt("autoScrolling",v,_);var b=Gn(D)[0];if(ne.autoScrolling&&!ne.scrollBar)Jn(an,{"overflow":"hidden","height":"100%"}),ie(ii.recordHistory,"internal"),Jn(bn,{"-ms-touch-action":"none","touch-action":"none"}),null!=b&&Gt(b.offsetTop);else if(Jn(an,{"overflow":"visible","height":"initial"}),ie(!!ne.autoScrolling&&ii.recordHistory,"internal"),Jn(bn,{"-ms-touch-action":"","touch-action":""}),_t(bn),null!=b){var T=Fe(b.offsetTop);T.element.scrollTo(0,T.options)}wo(bn,"setAutoScrolling",v)}function ie(v,_){qt("recordHistory",v,_)}function le(v,_){"internal"!==_&&Qt("fadingEffect")&&un.fadingEffect.update(v),Qt("cards")&&un.cards.update(v),qt("scrollingSpeed",v,_)}function ae(v,_){qt("fitToSection",v,_)}function ce(b){b?(function(){var b,T="";v.addEventListener?b="addEventListener":(b="attachEvent",T="on");var S="onwheel"in _.createElement("div")?"wheel":void 0!==_.onmousewheel?"mousewheel":"DOMMouseScroll",w=!!Yn&&{"passive":!1};"DOMMouseScroll"==S?_[b](T+"MozMousePixelScroll",Ye,w):_[b](T+S,Ye,w)}(),bn.addEventListener("mousedown",pt),bn.addEventListener("mouseup",ht)):(_.addEventListener?(_.removeEventListener("mousewheel",Ye,!1),_.removeEventListener("wheel",Ye,!1),_.removeEventListener("MozMousePixelScroll",Ye,!1)):_.detachEvent("onmousewheel",Ye),bn.removeEventListener("mousedown",pt),bn.removeEventListener("mouseup",ht))}function se(v,_){void 0!==_?(_=_.replace(/ /g,"").split(",")).forEach((function(_){Ft(v,_,"m")})):Ft(v,"all","m"),wo(bn,"setAllowScrolling",{"value":v,"directions":_})}function ue(v){v?(ce(!0),function(){if((vn||yn)&&(!Qt("dragAndMove")||"mouseonly"===ne.dragAndMove)){ne.autoScrolling&&(cn.removeEventListener(Vn.touchmove,Ie,{"passive":!1}),cn.addEventListener(Vn.touchmove,Ie,{"passive":!1}));var v=ne.touchWrapper;v.removeEventListener(Vn.touchstart,je),v.removeEventListener(Vn.touchmove,Ne,{"passive":!1}),v.addEventListener(Vn.touchstart,je),v.addEventListener(Vn.touchmove,Ne,{"passive":!1})}}()):(ce(!1),function(){if(vn||yn){ne.autoScrolling&&(cn.removeEventListener(Vn.touchmove,Ne,{"passive":!1}),cn.removeEventListener(Vn.touchmove,Ie,{"passive":!1}));var v=ne.touchWrapper;v.removeEventListener(Vn.touchstart,je),v.removeEventListener(Vn.touchmove,Ne,{"passive":!1})}}())}function fe(v,_){void 0!==_?(_=_.replace(/ /g,"").split(",")).forEach((function(_){Ft(v,_,"k")})):(Ft(v,"all","k"),ne.keyboardScrolling=v)}function de(){var v=Kn(Gn(D)[0],L);v||!ne.loopTop&&!ne.continuousVertical||(v=to(Gn(L))),null!=v&&Ze(v,null,!0)}function ve(){var v=$n(Gn(D)[0],L);v||!ne.loopBottom&&!ne.continuousVertical||(v=Gn(L)[0]),null!=v&&Ze(v,null,!1)}function pe(v,_){le(0,"internal"),he(v,_),le(ii.scrollingSpeed,"internal")}function he(v,_){var b=Nt(v);void 0!==_?Bt(v,_):null!=b&&Ze(b)}function ge(v){We("right",v)}function me(v){We("left",v)}function Se(_){if(!Fn(bn,E)){wn=!0,Tn=_n(),Sn=Qn();for(var b=Gn(L),T=0;T<b.length;++T){var S=b[T],w=Gn(W,S)[0],C=Gn(U,S);ne.verticalCentered&&Jn(Gn(R,S),{"height":Rt(S)+"px"}),Jn(S,{"height":Te(S)+"px"}),1<C.length&&wt(w,Gn(V,w)[0])}ne.scrollOverflow&&An.createScrollBarForAll();var k=no(Gn(D)[0],L);!k||Qt("fadingEffect")||Qt("dropEffect")||pe(k+1),wn=!1,bo(ne.afterResize)&&_&&ne.afterResize.call(bn,v.innerWidth,v.innerHeight),bo(ne.afterReBuild)&&!_&&ne.afterReBuild.call(bn),wo(bn,"afterRebuild")}}function be(){return Fn(cn,S)}function we(v){var _=be();v?_||(re(!1,"internal"),ae(!1,"internal"),oo(Gn(B)),lo(cn,S),bo(ne.afterResponsive)&&ne.afterResponsive.call(bn,v),Jt("responsiveSlides","toSections"),wo(bn,"afterResponsive",v),ne.scrollOverflow&&An.createScrollBarForAll()):_&&(re(ii.autoScrolling,"internal"),ae(ii.autoScrolling,"internal"),ro(Gn(B)),ao(cn,S),bo(ne.afterResponsive)&&ne.afterResponsive.call(bn,v),Jt("responsiveSlides","toSlides"),wo(bn,"afterResponsive",v))}function ye(v){var _=v.target;_&&vo(_,B+" a")?function(v){So(v);var _=no(vo(this,B+" li"));Ze(Gn(L)[_])}.call(_,v):yo(_,".fp-tooltip")?function(){wo(qn(this),"click")}.call(_):yo(_,J)?function(){var v=vo(this,L);Fn(this,"fp-prev")?xn.m.left&&me(v):xn.m.right&&ge(v)}.call(_,v):yo(_,Q)||null!=vo(_,Q)?function(v){So(v);var _=Gn(W,vo(this,L))[0];wt(_,Gn(U,_)[no(vo(this,"li"))])}.call(_,v):vo(_,ne.menu+" [data-menuanchor]")&&function(v){!Gn(ne.menu)[0]||!ne.lockAnchors&&ne.anchors.length||(So(v),he(this.getAttribute("data-menuanchor")))}.call(_,v)}function Ee(v,b){_["fp_"+v]=b,_.addEventListener(v,xe,!0)}function xe(v){var b=v.type,T=!1,S=ne.scrollOverflow,w="mouseleave"===b?v.toElement||v.relatedTarget:v.target;if(w==_||!w)return ue(!0),void(S&&ne.scrollOverflowHandler.setIscroll(w,!0));"touchend"===b&&(ai=!1,setTimeout((function(){ai=!0}),800)),("mouseenter"!==b||ai)&&(ne.normalScrollElements.split(",").forEach((function(v){if(!T){var _=yo(w,v),b=vo(w,v);(_||b)&&(un.shared.isNormalScrollElement||(ue(!1),S&&ne.scrollOverflowHandler.setIscroll(w,!1)),un.shared.isNormalScrollElement=!0,T=!0)}})),!T&&un.shared.isNormalScrollElement&&(ue(!0),S&&ne.scrollOverflowHandler.setIscroll(w,!0),un.shared.isNormalScrollElement=!1))}function Le(){var v=_n(),_=Qn();Tn===v&&Sn===_||(Tn=v,Sn=_,Se(!0))}function Ae(_){var b=["NTY3YnVuZGxlNzg5","NTU1S2V5Nzc3"],T=ot(b[0]),S=ot(b[1]),w=void 0!==ne[T+S],E="fp_"+_+"Extension";oi[_]=w?ne[T+S]:ne[_+S],un[_]=void 0!==v[E]?new v[E]:null,un[_]&&un[_].c(_)}function Me(v,b,T){var S=100*T,w=100/T,E=_.createElement("div");E.className=H,so(b,E);var C,k,P=_.createElement("div");P.className=q,so(b,P),Jn(Gn(G,v),{"width":S+"%"}),1<T&&(ne.controlArrows&&(C=v,k=[xo('<div class="fp-controlArrow fp-prev"></div>'),xo('<div class="fp-controlArrow fp-next"></div>')],po(Gn(W,C)[0],k),"#fff"!==ne.controlArrowColor&&(Jn(Gn(ee,C),{"border-color":"transparent transparent transparent "+ne.controlArrowColor}),Jn(Gn(Z,C),{"border-color":"transparent "+ne.controlArrowColor+" transparent transparent"})),ne.loopHorizontal||oo(Gn(Z,C))),ne.slidesNavigation&&function(v,_){co(xo('<div class="'+X+'"><ul></ul></div>'),v);var b=Gn(K,v)[0];lo(b,"fp-"+ne.slidesNavPosition);for(var T=0;T<_;T++)co(xo('<li><a href="#"><span class="fp-sr-only">'+ke(T,"Slide",Gn(U,v)[T])+"</span><span></span></a></li>"),Gn("ul",b)[0]);Jn(b,{"margin-left":"-"+b.innerWidth/2+"px"}),lo(Gn("a",Gn("li",b)[0]),x)}(v,T)),b.forEach((function(v){Jn(v,{"width":w+"%"}),ne.verticalCentered&&zt(v)}));var I=Gn(V,v)[0];null!=I&&(0!==no(Gn(D),L)||0===no(Gn(D),L)&&0!==no(I))?(Xt(I,"internal"),lo(I,"fp-initial")):lo(b[0],x)}function Te(v){return ne.offsetSections&&un.offsetSections?Math.round(un.offsetSections.getWindowHeight(v)):_n()}function Oe(v,_){_||null!=Gn(D)[0]||lo(v,x),mn=Gn(D)[0],Jn(v,{"height":Te(v)+"px"}),ne.paddingTop&&Jn(v,{"padding-top":ne.paddingTop}),ne.paddingBottom&&Jn(v,{"padding-bottom":ne.paddingBottom}),void 0!==ne.sectionsColor[_]&&Jn(v,{"background-color":ne.sectionsColor[_]}),void 0!==ne.anchors[_]&&v.setAttribute("data-anchor",ne.anchors[_])}function ke(v,_,b){var T="Section"===_?ne.anchors[v]:b.getAttribute("data-anchor");return ne.navigationTooltips[v]||T||_+" "+(v+1)}function Ce(){var v,_,b=Gn(D)[0];lo(b,I),Ke(b),Je(),qe(b),ne.scrollOverflow&&ne.scrollOverflowHandler.afterLoad(),_=Nt((v=ft()).section),v.section&&_&&(void 0===_||no(_)!==no(mn))||!bo(ne.afterLoad)||Xe("afterLoad",{"activeSection":b,"element":b,"direction":null,"anchorLink":b.getAttribute("data-anchor"),"sectionIndex":no(b,L)}),bo(ne.afterRender)&&Xe("afterRender"),wo(bn,"afterRender")}function He(){var v;if(wo(bn,"onScroll"),!wn&&(!ne.autoScrolling||ne.scrollBar||Qt("dragAndMove"))&&!$t()){var _=Qt("dragAndMove")?Math.abs(un.dragAndMove.getCurrentScroll()):go(),b=0,T=_+_n()/2,S=(Qt("dragAndMove")?un.dragAndMove.getDocumentHeight():cn.offsetHeight-_n())===_,w=Gn(L);if(S)b=w.length-1;else if(_)for(var E=0;E<w.length;++E)w[E].offsetTop<=T&&(b=E);else b=0;if(!Fn(v=w[b],x)){ui=!0;var C,k,P=Gn(D)[0],I=no(P,L)+1,O=Ct(v),N=v.getAttribute("data-anchor"),R=no(v,L)+1,B=Gn(V,v)[0],j={"activeSection":P,"sectionIndex":R-1,"anchorLink":N,"element":v,"leavingSection":I,"direction":O};B&&(k=B.getAttribute("data-anchor"),C=no(B)),Cn&&(lo(v,x),ao(mo(v),x),Jt("parallax","afterLoad"),bo(ne.onLeave)&&Xe("onLeave",j),bo(ne.afterLoad)&&Xe("afterLoad",j),Qt("resetSliders")&&un.resetSliders.apply({"localIsResizing":wn,"leavingSection":I}),tt(P),Ke(v),qe(v),kt(N,R-1),ne.anchors.length&&(dn=N),Pt(C,k,N)),clearTimeout(Mn),Mn=setTimeout((function(){ui=!1}),100)}ne.fitToSection&&(clearTimeout(Dn),Dn=setTimeout((function(){ne.fitToSection&&Gn(D)[0].offsetHeight<=Tn&&ze()}),ne.fitToSectionDelay))}}function ze(){Cn&&(wn=!0,Ze(Gn(D)[0]),wn=!1)}function Re(v){if(xn.m[v]){var _="down"===v?ve:de;if(Qt("scrollHorizontally")&&(_=un.scrollHorizontally.getScrollSection(v,_)),ne.scrollOverflow){var b=ne.scrollOverflowHandler.scrollable(Gn(D)[0]),T="down"===v?"bottom":"top";if(null!=b){if(!ne.scrollOverflowHandler.isScrolled(T,b))return!0;_()}else _()}else _()}}function Ie(v){ne.autoScrolling&&Be(v)&&xn.m.up&&So(v)}function Ne(_){var b=vo(_.target,L)||Gn(D)[0];if(Be(_)){ne.autoScrolling&&So(_);var T=Zt(_);pi=T.y,fi=T.x,Gn(W,b).length&&Math.abs(hi-fi)>Math.abs(di-pi)?!gn&&Math.abs(hi-fi)>Qn()/100*ne.touchSensitivity&&(fi<hi?xn.m.right&&ge(b):xn.m.left&&me(b)):ne.autoScrolling&&Cn&&Math.abs(di-pi)>v.innerHeight/100*ne.touchSensitivity&&(pi<di?Re("down"):di<pi&&Re("up"))}}function Be(v){return void 0===v.pointerType||"mouse"!=v.pointerType}function je(v){if(ne.fitToSection&&(ei=!1),Be(v)){var _=Zt(v);di=_.y,hi=_.x}}function Pe(v,_){for(var b=0,T=v.slice(Math.max(v.length-_,1)),S=0;S<T.length;S++)b+=T[S];return Math.ceil(b/_)}function Ye(_){var b=(new Date).getTime(),T=Fn(Gn(".fp-completely")[0],"fp-normal-scroll");if(!xn.m.down&&!xn.m.up)return So(_),!1;if(ne.autoScrolling&&!pn&&!T){var S=(_=_||v.event).wheelDelta||-_.deltaY||-_.detail,w=Math.max(-1,Math.min(1,S)),E=void 0!==_.wheelDeltaX||void 0!==_.deltaX,C=Math.abs(_.wheelDeltaX)<Math.abs(_.wheelDelta)||Math.abs(_.deltaX)<Math.abs(_.deltaY)||!E;149<kn.length&&kn.shift(),kn.push(Math.abs(S)),ne.scrollBar&&So(_);var k=b-mi;if(mi=b,200<k&&(kn=[]),Cn&&!Kt()){var x=Pe(kn,10);Pe(kn,70)<=x&&C&&Re(w<0?"down":"up")}return!1}ne.fitToSection&&(ei=!1)}function We(v,_){var b=null==_?Gn(D)[0]:_,T=Gn(W,b)[0];if(!(null==T||Kt()||gn||Gn(U,T).length<2)){var S=Gn(V,T)[0],w=null;if(null==(w="left"===v?Kn(S,U):$n(S,U))){if(!ne.loopHorizontal)return;var E=mo(S);w="left"===v?E[E.length-1]:E[0]}gn=!un.test.isTesting,wt(T,w,v)}}function De(){for(var v=Gn(V),_=0;_<v.length;_++)Xt(v[_],"internal")}function Ve(v){var _=v.offsetHeight,b=v.offsetTop,T=b,S=Qt("dragAndMove")&&un.dragAndMove.isGrabbing?un.dragAndMove.isScrollingDown():gi<b,w=T-Tn+_,E=ne.bigSectionsDestination;return Tn<_?(S||E)&&"bottom"!==E||(T=w):(S||wn&&null==eo(v))&&(T=w),ne.offsetSections&&un.offsetSections&&(T=un.offsetSections.getSectionPosition(S,T,v)),gi=T}function Ze(_,b,S){if(null!=_){var w,E,C={"element":_,"callback":b,"isMovementUp":S,"dtop":Ve(_),"yMovement":Ct(_),"anchorLink":_.getAttribute("data-anchor"),"sectionIndex":no(_,L),"activeSlide":Gn(V,_)[0],"activeSection":Gn(D)[0],"leavingSection":no(Gn(D),L)+1,"localIsResizing":wn};if(!(C.activeSection==_&&!wn||ne.scrollBar&&go()===C.dtop&&!Fn(_,"fp-auto-height"))){if(null!=C.activeSlide&&(w=C.activeSlide.getAttribute("data-anchor"),E=no(C.activeSlide)),!C.localIsResizing){var k=C.yMovement;if(void 0!==S&&(k=S?"up":"down"),C.direction=k,void 0!==v.fp_dropEffectExtension&&un.dropEffect.onLeave(C),bo(ne.onLeave)&&!1===Xe("onLeave",C))return}var P;Jt("parallax","apply",C),Jt("cards","apply",C),Jt("dropEffect","apply",C),ne.autoScrolling&&ne.continuousVertical&&void 0!==C.isMovementUp&&(!C.isMovementUp&&"up"==C.yMovement||C.isMovementUp&&"down"==C.yMovement)&&((I=C).isMovementUp?ho(Gn(D)[0],Ao(I.activeSection,L)):po(Gn(D)[0],Mo(I.activeSection,L).reverse()),Gt(Gn(D)[0].offsetTop),De(),I.wrapAroundElements=I.activeSection,I.dtop=I.element.offsetTop,I.yMovement=Ct(I.element),I.leavingSection=no(I.activeSection,L)+1,I.sectionIndex=no(I.element,L),wo(Gn(T)[0],"onContinuousVertical",I),C=I),Qt("scrollOverflowReset")&&un.scrollOverflowReset.setPrevious(C.activeSection),C.localIsResizing||tt(C.activeSection),ne.scrollOverflow&&ne.scrollOverflowHandler.beforeLeave(),Qt("dropEffect")&&ne.dropEffect||(lo(_,x),ao(mo(_),x)),Ke(_),ne.scrollOverflow&&ne.scrollOverflowHandler.onLeave(),Cn=un.test.isTesting,Pt(E,w,C.anchorLink,C.sectionIndex),function(v){var _=ne.scrollingSpeed<700,b=_?700:ne.scrollingSpeed;if(ne.css3&&ne.autoScrolling&&!ne.scrollBar)It("translate3d(0px, -"+Math.round(v.dtop)+"px, 0px)",!0),ne.scrollingSpeed?(clearTimeout(On),On=setTimeout((function(){_e(v),Cn=!_}),ne.scrollingSpeed)):_e(v);else{var T=Fe(v.dtop);un.test.top=-v.dtop+"px",Jn(an,{"scroll-behavior":"unset"}),tn(T.element,T.options,ne.scrollingSpeed,(function(){ne.scrollBar?setTimeout((function(){_e(v)}),30):(_e(v),Cn=!_)}))}_&&(clearTimeout(ni),ni=setTimeout((function(){Cn=!0}),b))}(C),dn=C.anchorLink,kt(C.anchorLink,null==(P=C).wrapAroundElements?P.sectionIndex:P.isMovementUp?Gn(L).length-1:0)}}var I}function Xe(v,_){var b,T,S,w,E=(T=v,S=_,(w=ne.v2compatible?{"afterRender":function(){return[bn]},"onLeave":function(){return[S.activeSection,S.leavingSection,S.sectionIndex+1,S.direction]},"afterLoad":function(){return[S.element,S.anchorLink,S.sectionIndex+1]},"afterSlideLoad":function(){return[S.destiny,S.anchorLink,S.sectionIndex+1,S.slideAnchor,S.slideIndex]},"onSlideLeave":function(){return[S.prevSlide,S.anchorLink,S.sectionIndex+1,S.prevSlideIndex,S.direction,S.slideIndex]}}:{"afterRender":function(){return{"section":Ge(Gn(D)[0]),"slide":Ue(Gn(V,Gn(D)[0])[0])}},"onLeave":function(){return{"origin":Ge(S.activeSection),"destination":Ge(S.element),"direction":S.direction}},"afterLoad":function(){return w.onLeave()},"afterSlideLoad":function(){return{"section":Ge(S.section),"origin":Ue(S.prevSlide),"destination":Ue(S.destiny),"direction":S.direction}},"onSlideLeave":function(){return w.afterSlideLoad()}})[T]());if(ne.v2compatible){if(!1===ne[v].apply(E[0],E.slice(1)))return!1}else if(wo(bn,v,E),!1===ne[v].apply(E[Object.keys(E)[0]],(b=E,Object.keys(b).map((function(v){return b[v]})))))return!1;return!0}function Ge(v){return v?new rn(v):null}function Ue(v){return v?new ln(v):null}function Fe(_){var b={};return ne.autoScrolling&&!ne.scrollBar?(b.options=-_,b.element=Gn(T)[0]):(b.options=_,b.element=v),b}function _e(v){var _;null!=(_=v).wrapAroundElements&&(_.isMovementUp?ho(Gn(L)[0],_.wrapAroundElements):po(Gn(L)[Gn(L).length-1],_.wrapAroundElements),Gt(Gn(D)[0].offsetTop),De(),_.sectionIndex=no(_.element,L),_.leavingSection=no(_.activeSection,L)+1),bo(ne.afterLoad)&&!v.localIsResizing&&Xe("afterLoad",v),ne.scrollOverflow&&ne.scrollOverflowHandler.afterLoad(),Jt("parallax","afterLoad"),Jt("dropEffect","afterLoad"),Jt("scrollOverflowReset","reset"),Qt("resetSliders")&&un.resetSliders.apply(v),v.localIsResizing||qe(v.element),lo(v.element,I),ao(mo(v.element),I),Je(),Cn=!0,bo(v.callback)&&v.callback()}function Qe(v,_){v.setAttribute(_,v.getAttribute("data-"+_)),v.removeAttribute("data-"+_)}function Je(){var v=Gn(".fp-auto-height")[0]||be()&&Gn(".fp-auto-height-responsive")[0];ne.lazyLoading&&v&&Gn(L+":not("+P+")").forEach((function(v){var _,b,T;b=(_=v.getBoundingClientRect()).top,T=_.bottom,(b+2<Tn&&0<b||2<T&&T<Tn)&&Ke(v)}))}function Ke(v){ne.lazyLoading&&Gn("img[data-src], img[data-srcset], source[data-src], source[data-srcset], video[data-src], audio[data-src], iframe[data-src]",nt(v)).forEach((function(_){if(["src","srcset"].forEach((function(b){var T=_.getAttribute("data-"+b);null!=T&&T&&(Qe(_,b),_.addEventListener("load",(function(){$e(v)})))})),yo(_,"source")){var b=vo(_,"video, audio");b&&(b.load(),b.onloadeddata=function(){$e(v)})}}))}function $e(v){ne.scrollOverflow&&(clearTimeout(ti),ti=setTimeout((function(){Fn(cn,S)||An.createScrollBar(v)}),200))}function qe(v){var _=nt(v);Gn("video, audio",_).forEach((function(v){v.hasAttribute("data-autoplay")&&"function"==typeof v.play&&v.play()})),Gn('iframe[src*="youtube.com/embed/"]',_).forEach((function(v){v.hasAttribute("data-autoplay")&&et(v),v.onload=function(){v.hasAttribute("data-autoplay")&&et(v)}}))}function et(v){v.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function tt(v){var _=nt(v);Gn("video, audio",_).forEach((function(v){v.hasAttribute("data-keepplaying")||"function"!=typeof v.pause||v.pause()})),Gn('iframe[src*="youtube.com/embed/"]',_).forEach((function(v){/youtube\.com\/embed\//.test(v.getAttribute("src"))&&!v.hasAttribute("data-keepplaying")&&v.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}function nt(v){var _=Gn(V,v);return _.length&&(v=_[0]),v}function ot(v){var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(v){var b,T,S,w,E,C,k="",x=0;for(v=v.replace(/[^A-Za-z0-9+/=]/g,"");x<v.length;)b=_.indexOf(v.charAt(x++))<<2|(w=_.indexOf(v.charAt(x++)))>>4,T=(15&w)<<4|(E=_.indexOf(v.charAt(x++)))>>2,S=(3&E)<<6|(C=_.indexOf(v.charAt(x++))),k+=String.fromCharCode(b),64!=E&&(k+=String.fromCharCode(T)),64!=C&&(k+=String.fromCharCode(S));return function(v){for(var _,b="",T=0,S=0,w=0;T<v.length;)(S=v.charCodeAt(T))<128?(b+=String.fromCharCode(S),T++):191<S&&S<224?(w=v.charCodeAt(T+1),b+=String.fromCharCode((31&S)<<6|63&w),T+=2):(w=v.charCodeAt(T+1),_=v.charCodeAt(T+2),b+=String.fromCharCode((15&S)<<12|(63&w)<<6|63&_),T+=3);return b}(k)}function r(v){return v.slice(3).slice(0,-3)}return function(v){var _=v.split("_");if(1<_.length){var b=_[1];return v.replace(r(_[1]),"").split("_")[0]+"_"+o(b.slice(3).slice(0,-3))}return r(v)}(o(v))}function it(_){_.forEach((function(_){if(_.removedNodes[0]&&_.removedNodes[0].isEqualNode(li)){clearTimeout(ci);var b=ot("bDIwc2V0VGltZW91dDAzbA==");ci=v[b](lt,900)}}))}function lt(){Hn=!1}function at(b){if(li=_.createElement("div"),si=ot("MTIzPGRpdj48YSBocmVmPSJodHRwOi8vYWx2YXJvdHJpZ28uY29tL2Z1bGxQYWdlL2V4dGVuc2lvbnMvIiBzdHlsZT0iY29sb3I6ICNmZmYgIWltcG9ydGFudDsgdGV4dC1kZWNvcmF0aW9uOm5vbmUgIWltcG9ydGFudDsiPlVubGljZW5zZWQgZnVsbFBhZ2UuanMgRXh0ZW5zaW9uPC9hPjwvZGl2PjEyMw=="),Wn||(si=si.replace("extensions/","").replace("Extension","")),li.innerHTML=si,li=li.firstChild,"MutationObserver"in v&&new MutationObserver(it).observe(_.body,{"childList":!0,"subtree":!1}),(!Wn||Qt(b)&&un[b])&&(!function rt(v){var b=void 0!==oi[v]&&oi[v].length,T=[],S=!1;return io(oi[v])?T=oi[v]:T.push(oi[v]),T.forEach((function(T){var w=function(){if(_.domain.length){for(var v=_.domain.replace(/^(www\.)/,"").split(".");2<v.length;)v.shift();return v.join(".").replace(/(^\.*)|(\.*$)/g,"")}return""}(),E=["MTM0bG9jYWxob3N0MjM0","MTM0MC4xMjM0","MTM0anNoZWxsLm5ldDIzNA==","UDdDQU5ZNlNN","NTY3YnVuZGxlNzg5","NTU1S2V5Nzc3"],C=ot(E[0]),k=ot(E[1]),x=ot(E[2]),P=ot(E[3]),I=ot(E[4]),O=ot(E[5]),L=void 0!==ne[I+O];b=b||L;var D=[C,k,x].indexOf(w)<0&&0!==w.length;if(!b&&!L&&D)return!1;var N=b?ot(T):"",R=1<(N=N.split("_")).length&&-1<N[1].indexOf(v,N[1].length-v.length),B=1<N.length&&-1<N[1].toLowerCase().indexOf(I),j=N[0].indexOf(w,N[0].length-w.length)<0,U=R||B;S=S||!(j&&D&&P!=N[0])&&U||!D})),S}(b)||!Wn)){ct();var T=ot("MzQ1c2V0SW50ZXJ2YWwxMjM=");v[T](ct,2e3)}}function ct(){li&&(Hn||(Math.random()<.5?To(cn,li):co(li,cn),Hn=!0),li.setAttribute("style",ot("MTIzei1pbmRleDo5OTk5OTk5O3Bvc2l0aW9uOmZpeGVkO3RvcDoyMHB4O2JvdHRvbTphdXRvO2xlZnQ6MjBweDtyaWdodDphdXRvO2JhY2tncm91bmQ6cmVkO3BhZGRpbmc6N3B4IDE1cHg7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6YXJpYWw7Y29sb3I6I2ZmZjtkaXNwbGF5OmlubGluZS1ibG9jazt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO29wYWNpdHk6MTtoZWlnaHQ6YXV0bzt3aWR0aDphdXRvO3pvb206MTttYXJnaW46YXV0bztib3JkZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7Y2xpcC1wYXRoOm5vbmU7MTIz").replace(/;/g,ot("MTIzICFpbXBvcnRhbnQ7MzQ1"))))}function st(){var v=ft(),_=v.section,b=v.slide;_&&(ne.animateAnchor?Bt(_,b):pe(_,b))}function ut(v){if(!ui&&!ne.lockAnchors){var _=ft(),b=_.section,T=_.slide,S=void 0===dn,w=void 0===dn&&void 0===T&&!gn;b&&b.length&&(b&&b!==dn&&!S||w&&!Kt()||!gn&&hn!=T&&!Kt())&&Bt(b,T)}}function ft(){var _,b,T=v.location.hash;if(T.length){var S=T.replace("#","").split("/"),w=-1<T.indexOf("#/");_=w?"/"+S[1]:decodeURIComponent(S[0]);var E=w?S[2]:S[1];E&&E.length&&(b=decodeURIComponent(E))}return{"section":_,"slide":b}}function dt(v){clearTimeout(Nn);var b=_.activeElement,T=v.keyCode;9===T?function(v){var b,T,S,w,E,C,k=v.shiftKey,x=_.activeElement,P=gt(nt(Gn(D)[0]));function f(v){return So(v),P[0]?P[0].focus():null}b=v,S=(T=gt(_)).indexOf(_.activeElement),E=Ue(vo(w=T[b.shiftKey?S-1:S+1],U)),C=Ge(vo(w,L)),(E||C)&&(x?null==vo(x,D+","+D+" "+V)&&(x=f(v)):f(v),(!k&&x==P[P.length-1]||k&&x==P[0])&&So(v))}(v):yo(b,"textarea")||yo(b,"input")||yo(b,"select")||"true"===b.getAttribute("contentEditable")||""===b.getAttribute("contentEditable")||!ne.keyboardScrolling||!ne.autoScrolling||(-1<[40,38,32,33,34].indexOf(T)&&So(v),pn=v.ctrlKey,Nn=setTimeout((function(){!function(v){var b=v.shiftKey,T=_.activeElement,S=yo(T,"video")||yo(T,"audio");if(Cn||!([37,39].indexOf(v.keyCode)<0))switch(v.keyCode){case 38:case 33:xn.k.up&&de();break;case 32:if(b&&xn.k.up&&!S){de();break}case 40:case 34:xn.k.down&&(32===v.keyCode&&S||ve());break;case 36:xn.k.up&&he(1);break;case 35:xn.k.down&&he(Gn(L).length);break;case 37:xn.k.left&&me();break;case 39:xn.k.right&&ge()}}(v)}),150))}function vt(v){En&&(pn=v.ctrlKey)}function pt(v){2==v.which&&(vi=v.pageY,bn.addEventListener("mousemove",bt))}function ht(v){2==v.which&&bn.removeEventListener("mousemove",bt)}function gt(v){return[].slice.call(Gn(zn,v)).filter((function(v){return"-1"!==v.getAttribute("tabindex")&&null!==v.offsetParent}))}function bt(v){ne.autoScrolling&&(Cn&&(v.pageY<vi&&xn.m.up?de():v.pageY>vi&&xn.m.down&&ve()),vi=v.pageY)}function wt(v,_,b){var T=vo(v,L),S={"slides":v,"destiny":_,"direction":b,"destinyPos":{"left":_.offsetLeft},"slideIndex":no(_),"section":T,"sectionIndex":no(T,L),"anchorLink":T.getAttribute("data-anchor"),"slidesNav":Gn(K,T)[0],"slideAnchor":Wt(_),"prevSlide":Gn(V,T)[0],"prevSlideIndex":no(Gn(V,T)[0]),"localIsResizing":wn};S.xMovement=Ht(S.prevSlideIndex,S.slideIndex),S.direction=S.direction?S.direction:S.xMovement,S.localIsResizing||(Cn=!1),Jt("parallax","applyHorizontal",S),Jt("cards","apply",S),Jt("dropEffect","apply",S),ne.onSlideLeave&&!S.localIsResizing&&"none"!==S.xMovement&&bo(ne.onSlideLeave)&&!1===Xe("onSlideLeave",S)?gn=!1:(Qt("dropEffect")&&ne.dropEffect||(lo(_,x),ao(mo(_),x)),S.localIsResizing||(tt(S.prevSlide),Ke(_)),yt(S),Fn(T,x)&&!S.localIsResizing&&Pt(S.slideIndex,S.slideAnchor,S.anchorLink,S.sectionIndex),un.continuousHorizontal&&un.continuousHorizontal.apply(S),$t()?Et(S):xt(v,S,!0),ne.interlockedSlides&&un.interlockedSlides&&(Qt("continuousHorizontal")&&void 0!==b&&b!==S.xMovement||un.interlockedSlides.apply(S)))}function yt(v){!ne.loopHorizontal&&ne.controlArrows&&(Eo(Gn(Z,v.section),0!==v.slideIndex),Eo(Gn(ee,v.section),null!=eo(v.destiny)))}function Et(v){var _,b;un.continuousHorizontal&&un.continuousHorizontal.afterSlideLoads(v),_=v.slidesNav,b=v.slideIndex,ne.slidesNavigation&&null!=_&&(ao(Gn(P,_),x),lo(Gn("a",Gn("li",_)[b]),x)),v.localIsResizing||(Jt("parallax","afterSlideLoads"),Jt("scrollOverflowReset","setPrevious",v.prevSlide),Jt("scrollOverflowReset","reset"),bo(ne.afterSlideLoad)&&Xe("afterSlideLoad",v),Cn=!0,qe(v.destiny)),gn=!1,Qt("interlockedSlides")&&un.interlockedSlides.apply(v)}function xt(v,_,b){var T=_.destinyPos;if(ne.css3){var S="translate3d(-"+Math.round(T.left)+"px, 0px, 0px)";un.test.translate3dH[_.sectionIndex]=S,Qt("dragAndMove")&&void 0!==_.isInterlockedSlide||Tt(Gn(G,v)),Jn(Gn(G,v),Ut(S)),Ln=setTimeout((function(){b&&Et(_)}),ne.scrollingSpeed)}else un.test.left[_.sectionIndex]=Math.round(T.left),tn(v,Math.round(T.left),ne.scrollingSpeed,(function(){b&&Et(_)}))}function Lt(){clearTimeout(Pn),Pn=setTimeout((function(){for(var v=0;v<4;v++)In=setTimeout(At,200*v)}),200)}function At(){if(wn=!0,wo(bn,"onResize"),Mt(),vn){var v=_.activeElement;if(!yo(v,"textarea")&&!yo(v,"input")&&!yo(v,"select")){var b=_n();Math.abs(b-yi)>20*Math.max(yi,b)/100&&(Se(!0),yi=b)}}else Le();wn=!1}function Mt(){var _=ne.responsive||ne.responsiveWidth,b=ne.responsiveHeight,T=_&&v.innerWidth<_,S=b&&v.innerHeight<b;_&&b?we(T||S):_?we(T):b&&we(S)}function Tt(v){var _="all "+ne.scrollingSpeed+"ms "+ne.easingcss3;return ao(v,w),Jn(v,{"-webkit-transition":_,"transition":_})}function Ot(v){return lo(v,w)}function kt(v,_){var b,T,S,w;b=v,Gn(ne.menu).forEach((function(v){ne.menu&&null!=v&&(ao(Gn(P,v),x),lo(Gn('[data-menuanchor="'+b+'"]',v),x))})),T=v,S=_,w=Gn(B)[0],ne.navigation&&null!=w&&"none"!==w.style.display&&(ao(Gn(P,Gn(B)[0]),x),lo(T?Gn('a[href="#'+T+'"]',Gn(B)[0]):Gn("a",Gn("li",Gn(B)[0])[S]),x))}function Ct(v){var _=no(Gn(D)[0],L),b=no(v,L);return _==b?"none":b<_?"up":"down"}function Ht(v,_){return v==_?"none":_<v?"left":"right"}function zt(v){if(!Fn(v,Y)){var b=_.createElement("div");b.className=N,b.style.height=Rt(v)+"px",lo(v,Y),uo(v,b)}}function Rt(v){var _=Te(v);if(ne.paddingTop||ne.paddingBottom){var b=v;Fn(b,O)||(b=vo(v,L)),_-=parseInt(getComputedStyle(b)["padding-top"])+parseInt(getComputedStyle(b)["padding-bottom"])}return _}function It(v,_){_?Tt(bn):Ot(bn),clearTimeout(Bn),Jn(bn,Ut(v)),un.test.translate3d=v,Bn=setTimeout((function(){ao(bn,w)}),10)}function Nt(v){var _=Gn(L+'[data-anchor="'+v+'"]',bn)[0];if(!_){var b=void 0!==v?v-1:0;_=Gn(L)[b]}return _}function Bt(v,_){var b=Nt(v);if(null!=b){var T,S,w,E=(null==(w=Gn(U+'[data-anchor="'+(T=_)+'"]',S=b)[0])&&(T=void 0!==T?T:0,w=Gn(U,S)[T]),w);Wt(b)===dn||Fn(b,x)?jt(E):Ze(b,(function(){jt(E)}))}}function jt(v){null!=v&&wt(vo(v,W),v)}function Pt(v,_,b,T){var S="";ne.anchors.length&&!ne.lockAnchors&&(v?(null!=b&&(S=b),null==_&&(_=v),Yt(S+"/"+(hn=_))):(null!=v&&(hn=_),Yt(b))),Dt()}function Yt(_){if(ne.recordHistory)location.hash=_;else if(vn||yn)v.history.replaceState(void 0,void 0,"#"+_);else{var b=v.location.href.split("#")[0];v.location.replace(b+"#"+_)}}function Wt(v){if(!v)return null;var _=v.getAttribute("data-anchor"),b=no(v);return null==_&&(_=b),_}function Dt(){var v=Gn(D)[0],_=Gn(V,v)[0],b=Wt(v),T=Wt(_),S=String(b);_&&(S=S+"-"+T),S=S.replace("/","-").replace("#","");var w=new RegExp("\\b\\s?"+k+"-[^\\s]+\\b","g");cn.className=cn.className.replace(w,""),lo(cn,k+"-"+S)}function Vt(){return v.PointerEvent?{"down":"pointerdown","move":"pointermove"}:{"down":"MSPointerDown","move":"MSPointerMove"}}function Zt(v){var _=[];return _.y=void 0!==v.pageY&&(v.pageY||v.pageX)?v.pageY:v.touches[0].pageY,_.x=void 0!==v.pageX&&(v.pageY||v.pageX)?v.pageX:v.touches[0].pageX,yn&&Be(v)&&ne.scrollBar&&void 0!==v.touches&&(_.y=v.touches[0].pageY,_.x=v.touches[0].pageX),_}function Xt(v,_){le(0,"internal"),void 0!==_&&(wn=!0),wt(vo(v,W),v),void 0!==_&&(wn=!1),le(ii.scrollingSpeed,"internal")}function Gt(v){var _=Math.round(v);if(ne.css3&&ne.autoScrolling&&!ne.scrollBar)It("translate3d(0px, -"+_+"px, 0px)",!1);else if(ne.autoScrolling&&!ne.scrollBar)Jn(bn,{"top":-_+"px"}),un.test.top=-_+"px";else{var b=Fe(_);nn(b.element,b.options)}}function Ut(v){return{"-webkit-transform":v,"-moz-transform":v,"-ms-transform":v,"transform":v}}function Ft(v,_,b){"all"!==_?xn[b][_]=v:Object.keys(xn[b]).forEach((function(_){xn[b][_]=v}))}function _t(v){return Jn(v,{"-webkit-transition":"none","transition":"none"})}function Qt(v){return null!==ne[v]&&"[object Array]"===Object.prototype.toString.call(ne[v])?ne[v].length&&un[v]:ne[v]&&un[v]}function Jt(v,_,b){if(Qt(v))return un[v][_](b)}function Kt(){return Qt("dragAndMove")&&un.dragAndMove.isAnimating}function $t(){return Qt("dragAndMove")&&un.dragAndMove.isGrabbing}function qt(v,_,b){ne[v]=_,"internal"!==b&&(ii[v]=_)}function en(){var v=ne.licenseKey,_="font-size: 15px;background:yellow;";oe?v&&v.length<20&&(console.warn("%c This website was made using fullPage.js slider. More info on the following website:",_),console.warn("%c https://alvarotrigo.com/fullPage/",_)):(Xn("error","Fullpage.js version 3 has changed its license to GPLv3 and it requires a `licenseKey` option. Read about it here:"),Xn("error","https://github.com/alvarotrigo/fullPage.js#options")),Fn(sn,C)?Xn("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(ne.continuousVertical&&(ne.loopTop||ne.loopBottom)&&(ne.continuousVertical=!1,Xn("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),!ne.scrollOverflow||!ne.scrollBar&&ne.autoScrolling||Xn("warn","Options scrollBar:true and autoScrolling:false are mutually exclusive with scrollOverflow:true. Sections with scrollOverflow might not work well in Firefox"),!ne.continuousVertical||!ne.scrollBar&&ne.autoScrolling||(ne.continuousVertical=!1,Xn("warn","Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),ne.scrollOverflow&&null==ne.scrollOverflowHandler&&(ne.scrollOverflow=!1,Xn("error","The option `scrollOverflow:true` requires the file `scrolloverflow.min.js`. Please include it before fullPage.js.")),ne.anchors.forEach((function(v){var _=[].slice.call(Gn("[name]")).filter((function(_){return _.getAttribute("name")&&_.getAttribute("name").toLowerCase()==v.toLowerCase()})),b=[].slice.call(Gn("[id]")).filter((function(_){return _.getAttribute("id")&&_.getAttribute("id").toLowerCase()==v.toLowerCase()}));if(b.length||_.length){Xn("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).");var T=b.length?"id":"name";(b.length||_.length)&&Xn("error",'"'+v+'" is is being used by another element `'+T+"` property")}})))}function tn(_,b,T,S){var w,E=(w=_).self!=v&&Fn(w,H)?w.scrollLeft:!ne.autoScrolling||ne.scrollBar?go():w.offsetTop,C=b-E,k=0;ei=!0;var c=function(){if(ei){var w=b;k+=20,T&&(w=v.fp_easings[ne.easing](k,E,C,T)),nn(_,w),k<T?setTimeout(c,20):void 0!==S&&S()}else k<T&&S()};c()}function nn(_,b){!ne.autoScrolling||ne.scrollBar||_.self!=v&&Fn(_,H)?_.self!=v&&Fn(_,H)?_.scrollLeft=b:_.scrollTo(0,b):_.style.top=b+"px"}function on(v,_){this.anchor=v.getAttribute("data-anchor"),this.item=v,this.index=no(v,_),this.isLast=this.index===v.parentElement.querySelectorAll(_).length-1,this.isFirst=!this.index}function rn(v){on.call(this,v,L)}function ln(v){on.call(this,v,U)}en()}}(w,E),S.fullpage}.call(_,b,_,v))||(v.exports=T),window.jQuery&&window.fullpage&&function(v,_){"use strict";v&&_?v.fn.fullpage=function(b){b=v.extend({},b,{"$":v}),new _(this[0],b)}:window.fp_utils.showError("error","jQuery is required to use the jQuery fullpage adapter!")}(window.jQuery,window.fullpage)},function(v,_){v.exports=function(v){var _="undefined"!=typeof window&&window.location;if(!_)throw new Error("fixUrls requires window.location");if(!v||"string"!=typeof v)return v;var b=_.protocol+"//"+_.host,T=b+_.pathname.replace(/\/[^\/]*$/,"/");return v.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(v,_){var S,w=_.trim().replace(/^"(.*)"$/,(function(v,_){return _})).replace(/^'(.*)'$/,(function(v,_){return _}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(w)?v:(S=0===w.indexOf("//")?w:0===w.indexOf("/")?b+w:T+w.replace(/^\.\//,""),"url("+JSON.stringify(S)+")")}))}},function(v,_,b){var T,S,w={},E=(T=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===S&&(S=T.apply(this,arguments)),S}),getTarget=function(v){return document.querySelector(v)},C=function(v){var _={};return function(v){if("function"==typeof v)return v();if(void 0===_[v]){var b=getTarget.call(this,v);if(window.HTMLIFrameElement&&b instanceof window.HTMLIFrameElement)try{b=b.contentDocument.head}catch(v){b=null}_[v]=b}return _[v]}}(),k=null,x=0,P=[],I=b(53);function addStylesToDom(v,_){for(var b=0;b<v.length;b++){var T=v[b],S=w[T.id];if(S){S.refs++;for(var E=0;E<S.parts.length;E++)S.parts[E](T.parts[E]);for(;E<T.parts.length;E++)S.parts.push(addStyle(T.parts[E],_))}else{var C=[];for(E=0;E<T.parts.length;E++)C.push(addStyle(T.parts[E],_));w[T.id]={"id":T.id,"refs":1,"parts":C}}}}function listToStyles(v,_){for(var b=[],T={},S=0;S<v.length;S++){var w=v[S],E=_.base?w[0]+_.base:w[0],C={"css":w[1],"media":w[2],"sourceMap":w[3]};T[E]?T[E].parts.push(C):b.push(T[E]={"id":E,"parts":[C]})}return b}function insertStyleElement(v,_){var b=C(v.insertInto);if(!b)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=P[P.length-1];if("top"===v.insertAt)T?T.nextSibling?b.insertBefore(_,T.nextSibling):b.appendChild(_):b.insertBefore(_,b.firstChild),P.push(_);else if("bottom"===v.insertAt)b.appendChild(_);else{if("object"!=typeof v.insertAt||!v.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var S=C(v.insertInto+" "+v.insertAt.before);b.insertBefore(_,S)}}function removeStyleElement(v){if(null===v.parentNode)return!1;v.parentNode.removeChild(v);var _=P.indexOf(v);_>=0&&P.splice(_,1)}function createStyleElement(v){var _=document.createElement("style");return void 0===v.attrs.type&&(v.attrs.type="text/css"),addAttrs(_,v.attrs),insertStyleElement(v,_),_}function addAttrs(v,_){Object.keys(_).forEach((function(b){v.setAttribute(b,_[b])}))}function addStyle(v,_){var b,T,S,w;if(_.transform&&v.css){if(!(w=_.transform(v.css)))return function(){};v.css=w}if(_.singleton){var E=x++;b=k||(k=createStyleElement(_)),T=applyToSingletonTag.bind(null,b,E,!1),S=applyToSingletonTag.bind(null,b,E,!0)}else v.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(b=function createLinkElement(v){var _=document.createElement("link");return void 0===v.attrs.type&&(v.attrs.type="text/css"),v.attrs.rel="stylesheet",addAttrs(_,v.attrs),insertStyleElement(v,_),_}(_),T=updateLink.bind(null,b,_),S=function(){removeStyleElement(b),b.href&&URL.revokeObjectURL(b.href)}):(b=createStyleElement(_),T=applyToTag.bind(null,b),S=function(){removeStyleElement(b)});return T(v),function updateStyle(_){if(_){if(_.css===v.css&&_.media===v.media&&_.sourceMap===v.sourceMap)return;T(v=_)}else S()}}v.exports=function(v,_){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(_=_||{}).attrs="object"==typeof _.attrs?_.attrs:{},_.singleton||"boolean"==typeof _.singleton||(_.singleton=E()),_.insertInto||(_.insertInto="head"),_.insertAt||(_.insertAt="bottom");var b=listToStyles(v,_);return addStylesToDom(b,_),function update(v){for(var T=[],S=0;S<b.length;S++){var E=b[S];(C=w[E.id]).refs--,T.push(C)}v&&addStylesToDom(listToStyles(v,_),_);for(S=0;S<T.length;S++){var C;if(0===(C=T[S]).refs){for(var k=0;k<C.parts.length;k++)C.parts[k]();delete w[C.id]}}}};var O,L=(O=[],function(v,_){return O[v]=_,O.filter(Boolean).join("\n")});function applyToSingletonTag(v,_,b,T){var S=b?"":T.css;if(v.styleSheet)v.styleSheet.cssText=L(_,S);else{var w=document.createTextNode(S),E=v.childNodes;E[_]&&v.removeChild(E[_]),E.length?v.insertBefore(w,E[_]):v.appendChild(w)}}function applyToTag(v,_){var b=_.css,T=_.media;if(T&&v.setAttribute("media",T),v.styleSheet)v.styleSheet.cssText=b;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(b))}}function updateLink(v,_,b){var T=b.css,S=b.sourceMap,w=void 0===_.convertToAbsoluteUrls&&S;(_.convertToAbsoluteUrls||w)&&(T=I(T)),S&&(T+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(S))))+" */");var E=new Blob([T],{"type":"text/css"}),C=v.href;v.href=URL.createObjectURL(E),C&&URL.revokeObjectURL(C)}},function(v,_){v.exports=function(v){var _=[];return _.toString=function toString(){return this.map((function(_){var b=function cssWithMappingToString(v,_){var b=v[1]||"",T=v[3];if(!T)return b;if(_&&"function"==typeof btoa){var S=function toComment(v){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */"}(T),w=T.sources.map((function(v){return"/*# sourceURL="+T.sourceRoot+v+" */"}));return[b].concat(w).concat([S]).join("\n")}return[b].join("\n")}(_,v);return _[2]?"@media "+_[2]+"{"+b+"}":b})).join("")},_.i=function(v,b){"string"==typeof v&&(v=[[null,v,""]]);for(var T={},S=0;S<this.length;S++){var w=this[S][0];"number"==typeof w&&(T[w]=!0)}for(S=0;S<v.length;S++){var E=v[S];"number"==typeof E[0]&&T[E[0]]||(b&&!E[2]?E[2]=b:b&&(E[2]="("+E[2]+") and ("+b+")"),_.push(E))}},_}},function(v,_,b){(v.exports=b(55)(!1)).push([v.i,"/*!\r\n * fullPage 3.1.0\r\n * https://github.com/alvarotrigo/fullPage.js\r\n *\r\n * @license GPLv3 for open source use only\r\n * or Fullpage Commercial License for commercial use\r\n * http://alvarotrigo.com/fullPage/pricing/\r\n *\r\n * Copyright (C) 2018 http://alvarotrigo.com/fullPage - A project by Alvaro Trigo\r\n */.fp-enabled body,html.fp-enabled{margin:0;padding:0;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fp-section{position:relative;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.fp-slide{float:left}.fp-slide,.fp-slidesContainer{height:100%;display:block}.fp-slides{z-index:1;height:100%;overflow:hidden;position:relative;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.fp-section.fp-table,.fp-slide.fp-table{display:table;table-layout:fixed;width:100%}.fp-tableCell{display:table-cell;vertical-align:middle;width:100%;height:100%}.fp-slidesContainer{float:left;position:relative}.fp-controlArrow{-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none;position:absolute;z-index:4;top:50%;cursor:pointer;width:0;height:0;border-style:solid;margin-top:-38px;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}.fp-controlArrow.fp-prev{left:15px;width:0;border-width:38.5px 34px 38.5px 0;border-color:transparent #fff transparent transparent}.fp-controlArrow.fp-next{right:15px;border-width:38.5px 0 38.5px 34px;border-color:transparent transparent transparent #fff}.fp-scrollable{position:relative}.fp-scrollable,.fp-scroller{overflow:hidden}.iScrollIndicator{border:0!important}.fp-notransition{-webkit-transition:none!important;transition:none!important}#fp-nav{position:fixed;z-index:100;top:50%;opacity:1;transform:translateY(-50%);-ms-transform:translateY(-50%);-webkit-transform:translate3d(0,-50%,0)}#fp-nav.fp-right{right:17px}#fp-nav.fp-left{left:17px}.fp-slidesNav{position:absolute;z-index:4;opacity:1;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);left:0!important;right:0;margin:0 auto!important}.fp-slidesNav.fp-bottom{bottom:17px}.fp-slidesNav.fp-top{top:17px}#fp-nav ul,.fp-slidesNav ul{margin:0;padding:0}#fp-nav ul li,.fp-slidesNav ul li{display:block;width:14px;height:13px;margin:7px;position:relative}.fp-slidesNav ul li{display:inline-block}#fp-nav ul li a,.fp-slidesNav ul li a{display:block;position:relative;z-index:1;width:100%;height:100%;cursor:pointer;text-decoration:none}#fp-nav ul li:hover a.active span,#fp-nav ul li a.active span,.fp-slidesNav ul li:hover a.active span,.fp-slidesNav ul li a.active span{height:12px;width:12px;margin:-6px 0 0 -6px;border-radius:100%}#fp-nav ul li a span,.fp-slidesNav ul li a span{border-radius:50%;position:absolute;z-index:1;height:4px;width:4px;border:0;background:#333;left:50%;top:50%;margin:-2px 0 0 -2px;-webkit-transition:all .1s ease-in-out;-moz-transition:all .1s ease-in-out;-o-transition:all .1s ease-in-out;transition:all .1s ease-in-out}#fp-nav ul li:hover a span,.fp-slidesNav ul li:hover a span{width:10px;height:10px;margin:-5px 0 0 -5px}#fp-nav ul li .fp-tooltip{position:absolute;top:-2px;color:#fff;font-size:14px;font-family:arial,helvetica,sans-serif;white-space:nowrap;max-width:220px;overflow:hidden;display:block;opacity:0;width:0;cursor:pointer}#fp-nav.fp-show-active a.active+.fp-tooltip,#fp-nav ul li:hover .fp-tooltip{-webkit-transition:opacity .2s ease-in;transition:opacity .2s ease-in;width:auto;opacity:1}#fp-nav ul li .fp-tooltip.fp-right{right:20px}#fp-nav ul li .fp-tooltip.fp-left{left:20px}.fp-auto-height.fp-section,.fp-auto-height .fp-slide,.fp-auto-height .fp-tableCell,.fp-responsive .fp-auto-height-responsive.fp-section,.fp-responsive .fp-auto-height-responsive .fp-slide,.fp-responsive .fp-auto-height-responsive .fp-tableCell{height:auto!important}.fp-sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}",""])},function(v,_,b){var T=b(56);"string"==typeof T&&(T=[[v.i,T,""]]);var S={"hmr":!0,"transform":void 0,"insertInto":void 0};b(54)(T,S);T.locals&&(v.exports=T.locals)},function(v,_,b){var T=b(5),S=b(34),w=b(0)("species");v.exports=function(v){var _;return S(v)&&("function"!=typeof(_=v.constructor)||_!==Array&&!S(_.prototype)||(_=void 0),T(_)&&null===(_=_[w])&&(_=void 0)),void 0===_?Array:_}},function(v,_,b){var T=b(58);v.exports=function(v,_){return new(T(v))(_)}},function(v,_,b){var T=b(41),S=b(39),w=b(21),E=b(37),C=b(59);v.exports=function(v,_){var b=1==v,k=2==v,x=3==v,P=4==v,I=6==v,O=5==v||I,L=_||C;return function(_,C,D){for(var N,R,B=w(_),j=S(B),U=T(C,D,3),V=E(j.length),H=0,W=b?L(_,V):k?L(_,0):void 0;V>H;H++)if((O||H in j)&&(R=U(N=j[H],H,B),v))if(b)W[H]=R;else if(R)switch(v){case 3:return!0;case 5:return N;case 6:return H;case 2:W.push(N)}else if(P)return!1;return I?-1:x||P?P:W}}},function(v,_,b){"use strict";var T=b(8),S=b(60)(5),w=!0;"find"in[]&&Array(1).find((function(){w=!1})),T(T.P+T.F*w,"Array",{"find":function find(v){return S(this,v,arguments.length>1?arguments[1]:void 0)}}),b(23)("find")},function(v,_,b){var T=b(0)("match");v.exports=function(v){var _=/./;try{"/./"[v](_)}catch(b){try{return _[T]=!1,!"/./"[v](_)}catch(v){}}return!0}},function(v,_,b){var T=b(5),S=b(27),w=b(0)("match");v.exports=function(v){var _;return T(v)&&(void 0!==(_=v[w])?!!_:"RegExp"==S(v))}},function(v,_,b){var T=b(63),S=b(17);v.exports=function(v,_,b){if(T(_))throw TypeError("String#"+b+" doesn't accept regex!");return String(S(v))}},function(v,_,b){"use strict";var T=b(8),S=b(64);T(T.P+T.F*b(62)("includes"),"String",{"includes":function includes(v){return!!~S(this,v,"includes").indexOf(v,arguments.length>1?arguments[1]:void 0)}})},function(v,_,b){"use strict";var T=b(8),S=b(38)(!0);T(T.P,"Array",{"includes":function includes(v){return S(this,v,arguments.length>1?arguments[1]:void 0)}}),b(23)("includes")},function(v,_,b){var T=b(8),S=b(13),w=b(9);v.exports=function(v,_){var b=(S.Object||{})[v]||Object[v],E={};E[v]=_(b),T(T.S+T.F*w((function(){b(1)})),"Object",E)}},function(v,_,b){var T=b(21),S=b(12);b(67)("keys",(function(){return function keys(v){return S(T(v))}}))},function(v,_,b){var T=b(4),S=b(21),w=b(26)("IE_PROTO"),E=Object.prototype;v.exports=Object.getPrototypeOf||function(v){return v=S(v),T(v,w)?v[w]:"function"==typeof v.constructor&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?E:null}},function(v,_,b){"use strict";var T=b(33),S=b(18),w=b(28),E={};b(3)(E,b(0)("iterator"),(function(){return this})),v.exports=function(v,_,b){v.prototype=T(E,{"next":S(1,b)}),w(v,_+" Iterator")}},function(v,_,b){"use strict";var T=b(16),S=b(8),w=b(15),E=b(3),C=b(22),k=b(70),x=b(28),P=b(69),I=b(0)("iterator"),O=!([].keys&&"next"in[].keys()),returnThis=function(){return this};v.exports=function(v,_,b,L,D,N,R){k(b,_,L);var B,j,U,getMethod=function(v){if(!O&&v in q)return q[v];switch(v){case"keys":return function keys(){return new b(this,v)};case"values":return function values(){return new b(this,v)}}return function entries(){return new b(this,v)}},V=_+" Iterator",H="values"==D,W=!1,q=v.prototype,G=q[I]||q["@@iterator"]||D&&q[D],Y=G||getMethod(D),X=D?H?getMethod("entries"):Y:void 0,K="Array"==_&&q.entries||G;if(K&&(U=P(K.call(new v)))!==Object.prototype&&U.next&&(x(U,V,!0),T||"function"==typeof U[I]||E(U,I,returnThis)),H&&G&&"values"!==G.name&&(W=!0,Y=function values(){return G.call(this)}),T&&!R||!O&&!W&&q[I]||E(q,I,Y),C[_]=Y,C[V]=returnThis,D)if(B={"values":H?Y:getMethod("values"),"keys":N?Y:getMethod("keys"),"entries":X},R)for(j in B)j in q||w(q,j,B[j]);else S(S.P+S.F*(O||W),_,B);return B}},function(v,_){v.exports=function(v,_){return{"value":_,"done":!!v}}},function(v,_,b){for(var T=b(31),S=b(12),w=b(15),E=b(1),C=b(3),k=b(22),x=b(0),P=x("iterator"),I=x("toStringTag"),O=k.Array,L={"CSSRuleList":!0,"CSSStyleDeclaration":!1,"CSSValueList":!1,"ClientRectList":!1,"DOMRectList":!1,"DOMStringList":!1,"DOMTokenList":!0,"DataTransferItemList":!1,"FileList":!1,"HTMLAllCollection":!1,"HTMLCollection":!1,"HTMLFormElement":!1,"HTMLSelectElement":!1,"MediaList":!0,"MimeTypeArray":!1,"NamedNodeMap":!1,"NodeList":!0,"PaintRequestList":!1,"Plugin":!1,"PluginArray":!1,"SVGLengthList":!1,"SVGNumberList":!1,"SVGPathSegList":!1,"SVGPointList":!1,"SVGStringList":!1,"SVGTransformList":!1,"SourceBufferList":!1,"StyleSheetList":!0,"TextTrackCueList":!1,"TextTrackList":!1,"TouchList":!1},D=S(L),N=0;N<D.length;N++){var R,B=D[N],j=L[B],U=E[B],V=U&&U.prototype;if(V&&(V[P]||C(V,P,O),V[I]||C(V,I,B),k[B]=O,j))for(R in T)V[R]||w(V,R,T[R],!0)}},function(v,_,b){var T=b(24),S=b(18),w=b(7),E=b(30),C=b(4),k=b(47),x=Object.getOwnPropertyDescriptor;_.f=b(10)?x:function getOwnPropertyDescriptor(v,_){if(v=w(v),_=E(_,!0),k)try{return x(v,_)}catch(v){}if(C(v,_))return S(!T.f.call(v,_),v[_])}},function(v,_,b){var T=b(7),S=b(32).f,w={}.toString,E="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];v.exports.f=function getOwnPropertyNames(v){return E&&"[object Window]"==w.call(v)?function(v){try{return S(v)}catch(v){return E.slice()}}(v):S(T(v))}},function(v,_,b){var T=b(1).document;v.exports=T&&T.documentElement},function(v,_,b){var T=b(11),S=b(19),w=b(12);v.exports=b(10)?Object.defineProperties:function defineProperties(v,_){S(v);for(var b,E=w(_),C=E.length,k=0;C>k;)T.f(v,b=E[k++],_[b]);return v}},function(v,_,b){var T=b(36),S=Math.max,w=Math.min;v.exports=function(v,_){return(v=T(v))<0?S(v+_,0):w(v,_)}},function(v,_,b){var T=b(12),S=b(35),w=b(24);v.exports=function(v){var _=T(v),b=S.f;if(b)for(var E,C=b(v),k=w.f,x=0;C.length>x;)k.call(v,E=C[x++])&&_.push(E);return _}},function(v,_,b){var T=b(14)("meta"),S=b(5),w=b(4),E=b(11).f,C=0,k=Object.isExtensible||function(){return!0},x=!b(9)((function(){return k(Object.preventExtensions({}))})),setMeta=function(v){E(v,T,{"value":{"i":"O"+ ++C,"w":{}}})},P=v.exports={"KEY":T,"NEED":!1,"fastKey":function(v,_){if(!S(v))return"symbol"==typeof v?v:("string"==typeof v?"S":"P")+v;if(!w(v,T)){if(!k(v))return"F";if(!_)return"E";setMeta(v)}return v[T].i},"getWeak":function(v,_){if(!w(v,T)){if(!k(v))return!0;if(!_)return!1;setMeta(v)}return v[T].w},"onFreeze":function(v){return x&&P.NEED&&k(v)&&!w(v,T)&&setMeta(v),v}}},function(v,_){v.exports=function(v){if("function"!=typeof v)throw TypeError(v+" is not a function!");return v}},function(v,_,b){"use strict";b.r(_);b(45),b(42),b(73),b(31),b(68),b(66),b(65),b(61);var T,S=b(2),w=b.n(S),E=(b(57),b(20)),C=b(6);function _typeof(v){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(v)}function _objectSpread(v){for(var _=1;_<arguments.length;_++){var b=null!=arguments[_]?arguments[_]:{},T=Object.keys(b);"function"==typeof Object.getOwnPropertySymbols&&(T=T.concat(Object.getOwnPropertySymbols(b).filter((function(v){return Object.getOwnPropertyDescriptor(b,v).enumerable})))),T.forEach((function(_){_defineProperty(v,_,b[_])}))}return v}function _defineProperty(v,_,b){return _ in v?Object.defineProperty(v,_,{"value":b,"enumerable":!0,"configurable":!0,"writable":!0}):v[_]=b,v}function _defineProperties(v,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}function _possibleConstructorReturn(v,_){return!_||"object"!==_typeof(_)&&"function"!=typeof _?function _assertThisInitialized(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v):_}function _getPrototypeOf(v){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(v){return v.__proto__||Object.getPrototypeOf(v)})(v)}function _setPrototypeOf(v,_){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(v,_){return v.__proto__=_,v})(v,_)}var k=["afterLoad","afterRender","afterResize","afterResponsive","afterSlideLoad","onLeave","onSlideLeave"],x=function(v){function ReactFullpage(v){var _;!function _classCallCheck(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,ReactFullpage);var S=(_=_possibleConstructorReturn(this,_getPrototypeOf(ReactFullpage).call(this,v))).props,w=S.render,C=S.pluginWrapper;if(!function isFunc(v){return"function"==typeof v}(w))throw new Error("must provide render prop to <ReactFullpage />");return _.log=Object(E.a)(_.props.debug,"ReactFullpage"),_.log("Building component"),_.log("Importing vendor files"),_.importVendors(),C&&(_.log("Calling plugin wrapper"),C()),_.log("Requiring fullpage.js"),T=b(52),_.state={"initialized":!1,"sectionCount":0,"slideCount":0},_}return function _inherits(v,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{"constructor":{"value":v,"writable":!0,"configurable":!0}}),_&&_setPrototypeOf(v,_)}(ReactFullpage,v),function _createClass(v,_,b){return _&&_defineProperties(v.prototype,_),b&&_defineProperties(v,b),v}(ReactFullpage,[{"key":"componentDidMount","value":function componentDidMount(){var v=this.buildOptions();this.log("React Lifecycle: componentDidMount()"),T&&(this.init(v),this.markInitialized())}},{"key":"componentDidUpdate","value":function componentDidUpdate(v){this.log("React Lifecycle: componentDidUpdate()");var _=this.getSectionCount(),b=this.getSlideCount(),T=this.state,S=T.sectionCount,w=T.slideCount;if(!function isEqualArray(v,_){return v.length===_.length&&null==v.find((function(v){return!_.includes(v)}))}(v.sectionsColor,this.props.sectionsColor))return this.log("rebuilding due to a change in fullpage.js props"),void this.reRender();S===_&&w===b||(this.log("rebuilding due to a change in fullpage.js sections/slides"),this.reRender())}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.destroy()}},{"key":"getSectionCount","value":function getSectionCount(){var v=this.props.sectionSelector,_=void 0===v?C.a:v;return document.querySelectorAll(_).length}},{"key":"getSlideCount","value":function getSlideCount(){var v=this.props.slideSelector,_=void 0===v?C.b:v;return document.querySelectorAll(_).length}},{"key":"importVendors","value":function importVendors(){var v=this.props,_=v.scrollOverflow,T=v.easing;_&&b(51),T&&b(50)}},{"key":"init","value":function init(v){this.log("Reinitializing fullpage with options",v),new T(C.c,v),this.fullpageApi=window.fullpage_api,this.fpUtils=window.fp_utils,this.fpEasings=window.fp_easings}},{"key":"destroy","value":function destroy(){this.log("Destroying fullpage instance"),this.fullpageApi.destroy("all")}},{"key":"reRender","value":function reRender(){this.destroy(),this.init(this.buildOptions())}},{"key":"markInitialized","value":function markInitialized(){this.log("Marking initialized"),this.setState({"initialized":!0,"sectionCount":this.getSectionCount(),"slideCount":this.getSlideCount()})}},{"key":"buildOptions","value":function buildOptions(){var v=this,_=k.filter((function filterCb(_){return!!Object.keys(v.props).find((function(v){return v===_}))})).reduce((function(_,b){return _objectSpread({},_,_defineProperty({},b,(function(){for(var _=arguments.length,T=new Array(_),S=0;S<_;S++)T[S]=arguments[S];return v.update.apply(v,[b].concat(T))})))}),{}),b=_objectSpread({},this.props,_);return this.log("Building fullpage.js options: ",b),b}},{"key":"update","value":function update(v){for(var _,b=arguments.length,T=new Array(b>1?b-1:0),S=1;S<b;S++)T[S-1]=arguments[S];this.log("Event trigger: ",v);var w=_objectSpread({},this.state,{"sectionCount":this.getSectionCount(),"slideCount":this.getSlideCount()}),E=function makeState(_){return _objectSpread({},w,_,{"lastEvent":v})},C=function fromArgs(v){return v.reduce((function(v,_,b){var S=T[b];return v[_]=S,v}),{})};switch(v){case"afterLoad":w=E(C(["origin","destination","direction"]));break;case"afterResize":w=E(C([""]));break;case"afterResponsive":w=E(C(["isResponsive"]));break;case"afterSlideLoad":w=E(C(["section","origin","destination","direction"]));break;case"onLeave":w=E(C(["origin","destination","direction"]));break;case"onSlideLeave":w=E(C(["section","origin","slideIndex","destination","direction"]))}var k=(_=this.props)[v].apply(_,T);return this.log("Called callback: Returning => ",k),this.log("Updating State => ",w),this.setState(w),k}},{"key":"render","value":function render(){return this.log("<== Rendering ==>"),w.a.createElement("div",{"id":C.d},this.props.render(this))}}]),ReactFullpage}(w.a.Component);x.defaultProps={"sectionsColor":[]},_.default=x},function(v,_,b){"use strict";var T=b(3),S=b(15),w=b(9),E=b(17),C=b(0);v.exports=function(v,_,b){var k=C(v),x=b(E,k,""[v]),P=x[0],I=x[1];w((function(){var _={};return _[k]=function(){return 7},7!=""[v](_)}))&&(S(String.prototype,v,P),T(RegExp.prototype,k,2==_?function(v,_){return I.call(v,this,_)}:function(v){return I.call(v,this)}))}},function(v,_,b){b(83)("match",1,(function(v,_,b){return[function match(b){"use strict";var T=v(this),S=null==b?void 0:b[_];return void 0!==S?S.call(b,T):new RegExp(b)[_](String(T))},b]}))}])},function(v,_,b){},function(v,_,b){},,function(v,_){v.exports=function SafeParseTuple(v,_){var b,T=null;try{b=JSON.parse(v,_)}catch(v){T=v}return[T,b]}},function(v,_){function keyCode(v){if(v&&"object"==typeof v){var _=v.which||v.keyCode||v.charCode;_&&(v=_)}if("number"==typeof v)return w[v];var S,E=String(v);return(S=b[E.toLowerCase()])?S:(S=T[E.toLowerCase()])||(1===E.length?E.charCodeAt(0):void 0)}keyCode.isEventKey=function isEventKey(v,_){if(v&&"object"==typeof v){var S=v.which||v.keyCode||v.charCode;if(null==S)return!1;if("string"==typeof _){var w;if(w=b[_.toLowerCase()])return w===S;if(w=T[_.toLowerCase()])return w===S}else if("number"==typeof _)return _===S;return!1}};var b=(_=v.exports=keyCode).code=_.codes={"backspace":8,"tab":9,"enter":13,"shift":16,"ctrl":17,"alt":18,"pause/break":19,"caps lock":20,"esc":27,"space":32,"page up":33,"page down":34,"end":35,"home":36,"left":37,"up":38,"right":39,"down":40,"insert":45,"delete":46,"command":91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},T=_.aliases={"windows":91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,"ctl":17,"control":17,"option":18,"pause":19,"break":19,"caps":20,"return":13,"escape":27,"spc":32,"spacebar":32,"pgup":33,"pgdn":34,"ins":45,"del":46,"cmd":91};for(S=97;S<123;S++)b[String.fromCharCode(S)]=S-32;for(var S=48;S<58;S++)b[S-48]=S;for(S=1;S<13;S++)b["f"+S]=S+111;for(S=0;S<10;S++)b["numpad "+S]=S+96;var w=_.names=_.title={};for(S in b)w[b[S]]=S;for(var E in T)b[E]=T[E]},function(v,_,b){"use strict";var T=b(123),S=b(125),w=b(151);function initParams(v,_,b){var T=v;return w(_)?(b=_,"string"==typeof v&&(T={"uri":v})):T=S({},_,{"uri":v}),T.callback=b,T}function createXHR(v,_,b){return _createXHR(_=initParams(v,_,b))}function _createXHR(v){if(void 0===v.callback)throw new Error("callback argument missing");var _=!1,b=function cbOnce(b,T,S){_||(_=!0,v.callback(b,T,S))};function getBody(){var v=void 0;if(v=w.response?w.response:w.responseText||function getXml(v){try{if("document"===v.responseType)return v.responseXML;var _=v.responseXML&&"parsererror"===v.responseXML.documentElement.nodeName;if(""===v.responseType&&!_)return v.responseXML}catch(v){}return null}(w),O)try{v=JSON.parse(v)}catch(v){}return v}function errorFunc(v){return clearTimeout(E),v instanceof Error||(v=new Error(""+(v||"Unknown XMLHttpRequest Error"))),v.statusCode=0,b(v,L)}function loadFunc(){if(!S){var _;clearTimeout(E),_=v.useXDR&&void 0===w.status?200:1223===w.status?204:w.status;var T=L,x=null;return 0!==_?(T={"body":getBody(),"statusCode":_,"method":k,"headers":{},"url":C,"rawRequest":w},w.getAllResponseHeaders&&(T.headers=function(v){var _={};return v?(v.trim().split("\n").forEach((function(v){var b=v.indexOf(":"),T=v.slice(0,b).trim().toLowerCase(),S=v.slice(b+1).trim();void 0===_[T]?_[T]=S:Array.isArray(_[T])?_[T].push(S):_[T]=[_[T],S]})),_):_}(w.getAllResponseHeaders()))):x=new Error("Internal XMLHttpRequest Error"),b(x,T,T.body)}}var T,S,w=v.xhr||null;w||(w=v.cors||v.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var E,C=w.url=v.uri||v.url,k=w.method=v.method||"GET",x=v.body||v.data,P=w.headers=v.headers||{},I=!!v.sync,O=!1,L={"body":void 0,"headers":{},"statusCode":0,"method":k,"url":C,"rawRequest":w};if("json"in v&&!1!==v.json&&(O=!0,P.accept||P.Accept||(P.Accept="application/json"),"GET"!==k&&"HEAD"!==k&&(P["content-type"]||P["Content-Type"]||(P["Content-Type"]="application/json"),x=JSON.stringify(!0===v.json?x:v.json))),w.onreadystatechange=function readystatechange(){4===w.readyState&&setTimeout(loadFunc,0)},w.onload=loadFunc,w.onerror=errorFunc,w.onprogress=function(){},w.onabort=function(){S=!0},w.ontimeout=errorFunc,w.open(k,C,!I,v.username,v.password),I||(w.withCredentials=!!v.withCredentials),!I&&v.timeout>0&&(E=setTimeout((function(){if(!S){S=!0,w.abort("timeout");var v=new Error("XMLHttpRequest timeout");v.code="ETIMEDOUT",errorFunc(v)}}),v.timeout)),w.setRequestHeader)for(T in P)P.hasOwnProperty(T)&&w.setRequestHeader(T,P[T]);else if(v.headers&&!function isEmpty(v){for(var _ in v)if(v.hasOwnProperty(_))return!1;return!0}(v.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in v&&(w.responseType=v.responseType),"beforeSend"in v&&"function"==typeof v.beforeSend&&v.beforeSend(w),w.send(x||null),w}v.exports=createXHR,v.exports.default=createXHR,createXHR.XMLHttpRequest=T.XMLHttpRequest||function noop(){},createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:T.XDomainRequest,function forEachArray(v,_){for(var b=0;b<v.length;b++)_(v[b])}(["get","put","post","patch","head","delete"],(function(v){createXHR["delete"===v?"del":v]=function(_,b,T){return(b=initParams(_,b,T)).method=v.toUpperCase(),_createXHR(b)}}))},function(v,_){v.exports=function isFunction(v){if(!v)return!1;var _=b.call(v);return"[object Function]"===_||"function"==typeof v&&"[object RegExp]"!==_||"undefined"!=typeof window&&(v===window.setTimeout||v===window.alert||v===window.confirm||v===window.prompt)};var b=Object.prototype.toString},function(v,_,b){var T=b(123),S=v.exports={"WebVTT":b(153),"VTTCue":b(154),"VTTRegion":b(155)};T.vttjs=S,T.WebVTT=S.WebVTT;var w=S.VTTCue,E=S.VTTRegion,C=T.VTTCue,k=T.VTTRegion;S.shim=function(){T.VTTCue=w,T.VTTRegion=E},S.restore=function(){T.VTTCue=C,T.VTTRegion=k},T.VTTCue||S.shim()},function(v,_,b){var T=b(130),S=Object.create||function(){function F(){}return function(v){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=v,new F}}();function ParsingError(v,_){this.name="ParsingError",this.code=v.code,this.message=_||v.message}function parseTimeStamp(v){function computeSeconds(v,_,b,T){return 3600*(0|v)+60*(0|_)+(0|b)+(0|T)/1e3}var _=v.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return _?_[3]?computeSeconds(_[1],_[2],_[3].replace(":",""),_[4]):_[1]>59?computeSeconds(_[1],_[2],0,_[4]):computeSeconds(0,_[1],_[2],_[4]):null}function Settings(){this.values=S(null)}function parseOptions(v,_,b,T){var S=T?v.split(T):[v];for(var w in S)if("string"==typeof S[w]){var E=S[w].split(b);if(2===E.length)_(E[0],E[1])}}function parseCue(v,_,b){var T=v;function consumeTimeStamp(){var _=parseTimeStamp(v);if(null===_)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+T);return v=v.replace(/^[^\sa-zA-Z-]+/,""),_}function skipWhitespace(){v=v.replace(/^\s+/,"")}if(skipWhitespace(),_.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==v.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+T);v=v.substr(3),skipWhitespace(),_.endTime=consumeTimeStamp(),skipWhitespace(),function consumeCueSettings(v,_){var T=new Settings;parseOptions(v,(function(v,_){switch(v){case"region":for(var S=b.length-1;S>=0;S--)if(b[S].id===_){T.set(v,b[S].region);break}break;case"vertical":T.alt(v,_,["rl","lr"]);break;case"line":var w=_.split(","),E=w[0];T.integer(v,E),T.percent(v,E)&&T.set("snapToLines",!1),T.alt(v,E,["auto"]),2===w.length&&T.alt("lineAlign",w[1],["start","center","end"]);break;case"position":w=_.split(","),T.percent(v,w[0]),2===w.length&&T.alt("positionAlign",w[1],["start","center","end"]);break;case"size":T.percent(v,_);break;case"align":T.alt(v,_,["start","center","end","left","right"])}}),/:/,/\s/),_.region=T.get("region",null),_.vertical=T.get("vertical","");try{_.line=T.get("line","auto")}catch(v){}_.lineAlign=T.get("lineAlign","start"),_.snapToLines=T.get("snapToLines",!0),_.size=T.get("size",100);try{_.align=T.get("align","center")}catch(v){_.align=T.get("align","middle")}try{_.position=T.get("position","auto")}catch(v){_.position=T.get("position",{"start":0,"left":0,"center":50,"middle":50,"end":100,"right":100},_.align)}_.positionAlign=T.get("positionAlign",{"start":"start","left":"start","center":"center","middle":"center","end":"end","right":"end"},_.align)}(v,_)}ParsingError.prototype=S(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={"BadSignature":{"code":0,"message":"Malformed WebVTT signature."},"BadTimeStamp":{"code":1,"message":"Malformed time stamp."}},Settings.prototype={"set":function(v,_){this.get(v)||""===_||(this.values[v]=_)},"get":function(v,_,b){return b?this.has(v)?this.values[v]:_[b]:this.has(v)?this.values[v]:_},"has":function(v){return v in this.values},"alt":function(v,_,b){for(var T=0;T<b.length;++T)if(_===b[T]){this.set(v,_);break}},"integer":function(v,_){/^-?\d+$/.test(_)&&this.set(v,parseInt(_,10))},"percent":function(v,_){return!!(_.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(_=parseFloat(_))>=0&&_<=100)&&(this.set(v,_),!0)}};var w=T.createElement("textarea"),E={"c":"span","i":"i","b":"b","u":"u","ruby":"ruby","rt":"rt","v":"span","lang":"span"},C={"white":"rgba(255,255,255,1)","lime":"rgba(0,255,0,1)","cyan":"rgba(0,255,255,1)","red":"rgba(255,0,0,1)","yellow":"rgba(255,255,0,1)","magenta":"rgba(255,0,255,1)","blue":"rgba(0,0,255,1)","black":"rgba(0,0,0,1)"},k={"v":"title","lang":"lang"},x={"rt":"ruby"};function parseContent(v,_){function nextToken(){if(!_)return null;var v=_.match(/^([^<]*)(<[^>]*>?)?/);return function consume(v){return _=_.substr(v.length),v}(v[1]?v[1]:v[2])}function shouldAdd(v,_){return!x[_.localName]||x[_.localName]===v.localName}function createElement(_,b){var T=E[_];if(!T)return null;var S=v.document.createElement(T),w=k[_];return w&&b&&(S[w]=b.trim()),S}for(var b,T,S=v.document.createElement("div"),P=S,I=[];null!==(b=nextToken());)if("<"!==b[0])P.appendChild(v.document.createTextNode((T=b,w.innerHTML=T,T=w.textContent,w.textContent="",T)));else{if("/"===b[1]){I.length&&I[I.length-1]===b.substr(2).replace(">","")&&(I.pop(),P=P.parentNode);continue}var O,L=parseTimeStamp(b.substr(1,b.length-2));if(L){O=v.document.createProcessingInstruction("timestamp",L),P.appendChild(O);continue}var D=b.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!D)continue;if(!(O=createElement(D[1],D[3])))continue;if(!shouldAdd(P,O))continue;if(D[2]){var N=D[2].split(".");N.forEach((function(v){var _=/^bg_/.test(v),b=_?v.slice(3):v;if(C.hasOwnProperty(b)){var T=_?"background-color":"color",S=C[b];O.style[T]=S}})),O.className=N.join(" ")}I.push(D[1]),P.appendChild(O),P=O}return S}var P=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function isStrongRTLChar(v){for(var _=0;_<P.length;_++){var b=P[_];if(v>=b[0]&&v<=b[1])return!0}return!1}function determineBidi(v){var _=[],b="";if(!v||!v.childNodes)return"ltr";function pushNodes(v,_){for(var b=_.childNodes.length-1;b>=0;b--)v.push(_.childNodes[b])}function nextTextNode(v){if(!v||!v.length)return null;var _=v.pop(),b=_.textContent||_.innerText;if(b){var T=b.match(/^.*(\n|\r)/);return T?(v.length=0,T[0]):b}return"ruby"===_.tagName?nextTextNode(v):_.childNodes?(pushNodes(v,_),nextTextNode(v)):void 0}for(pushNodes(_,v);b=nextTextNode(_);)for(var T=0;T<b.length;T++)if(isStrongRTLChar(b.charCodeAt(T)))return"rtl";return"ltr"}function StyleBox(){}function CueStyleBox(v,_,b){StyleBox.call(this),this.cue=_,this.cueDiv=parseContent(v,_.text);var T={"color":"rgba(255, 255, 255, 1)","backgroundColor":"rgba(0, 0, 0, 0.8)","position":"relative","left":0,"right":0,"top":0,"bottom":0,"display":"inline","writingMode":""===_.vertical?"horizontal-tb":"lr"===_.vertical?"vertical-lr":"vertical-rl","unicodeBidi":"plaintext"};this.applyStyles(T,this.cueDiv),this.div=v.document.createElement("div"),T={"direction":determineBidi(this.cueDiv),"writingMode":""===_.vertical?"horizontal-tb":"lr"===_.vertical?"vertical-lr":"vertical-rl","unicodeBidi":"plaintext","textAlign":"middle"===_.align?"center":_.align,"font":b.font,"whiteSpace":"pre-line","position":"absolute"},this.applyStyles(T),this.div.appendChild(this.cueDiv);var S=0;switch(_.positionAlign){case"start":S=_.position;break;case"center":S=_.position-_.size/2;break;case"end":S=_.position-_.size}""===_.vertical?this.applyStyles({"left":this.formatStyle(S,"%"),"width":this.formatStyle(_.size,"%")}):this.applyStyles({"top":this.formatStyle(S,"%"),"height":this.formatStyle(_.size,"%")}),this.move=function(v){this.applyStyles({"top":this.formatStyle(v.top,"px"),"bottom":this.formatStyle(v.bottom,"px"),"left":this.formatStyle(v.left,"px"),"right":this.formatStyle(v.right,"px"),"height":this.formatStyle(v.height,"px"),"width":this.formatStyle(v.width,"px")})}}function BoxPosition(v){var _,b,T,S;if(v.div){b=v.div.offsetHeight,T=v.div.offsetWidth,S=v.div.offsetTop;var w=(w=v.div.childNodes)&&(w=w[0])&&w.getClientRects&&w.getClientRects();v=v.div.getBoundingClientRect(),_=w?Math.max(w[0]&&w[0].height||0,v.height/w.length):0}this.left=v.left,this.right=v.right,this.top=v.top||S,this.height=v.height||b,this.bottom=v.bottom||S+(v.height||b),this.width=v.width||T,this.lineHeight=void 0!==_?_:v.lineHeight}function moveBoxToLinePosition(v,_,b,T){var S=new BoxPosition(_),w=_.cue,E=function computeLinePos(v){if("number"==typeof v.line&&(v.snapToLines||v.line>=0&&v.line<=100))return v.line;if(!v.track||!v.track.textTrackList||!v.track.textTrackList.mediaElement)return-1;for(var _=v.track,b=_.textTrackList,T=0,S=0;S<b.length&&b[S]!==_;S++)"showing"===b[S].mode&&T++;return-1*++T}(w),C=[];if(w.snapToLines){var k;switch(w.vertical){case"":C=["+y","-y"],k="height";break;case"rl":C=["+x","-x"],k="width";break;case"lr":C=["-x","+x"],k="width"}var x=S.lineHeight,P=x*Math.round(E),I=b[k]+x,O=C[0];Math.abs(P)>I&&(P=P<0?-1:1,P*=Math.ceil(I/x)*x),E<0&&(P+=""===w.vertical?b.height:b.width,C=C.reverse()),S.move(O,P)}else{var L=S.lineHeight/b.height*100;switch(w.lineAlign){case"center":E-=L/2;break;case"end":E-=L}switch(w.vertical){case"":_.applyStyles({"top":_.formatStyle(E,"%")});break;case"rl":_.applyStyles({"left":_.formatStyle(E,"%")});break;case"lr":_.applyStyles({"right":_.formatStyle(E,"%")})}C=["+y","-x","+x","-y"],S=new BoxPosition(_)}var D=function findBestPosition(v,_){for(var S,w=new BoxPosition(v),E=1,C=0;C<_.length;C++){for(;v.overlapsOppositeAxis(b,_[C])||v.within(b)&&v.overlapsAny(T);)v.move(_[C]);if(v.within(b))return v;var k=v.intersectPercentage(b);E>k&&(S=new BoxPosition(v),E=k),v=new BoxPosition(w)}return S||w}(S,C);_.move(D.toCSSCompatValues(b))}function WebVTT(){}StyleBox.prototype.applyStyles=function(v,_){for(var b in _=_||this.div,v)v.hasOwnProperty(b)&&(_.style[b]=v[b])},StyleBox.prototype.formatStyle=function(v,_){return 0===v?0:v+_},CueStyleBox.prototype=S(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(v,_){switch(_=void 0!==_?_:this.lineHeight,v){case"+x":this.left+=_,this.right+=_;break;case"-x":this.left-=_,this.right-=_;break;case"+y":this.top+=_,this.bottom+=_;break;case"-y":this.top-=_,this.bottom-=_}},BoxPosition.prototype.overlaps=function(v){return this.left<v.right&&this.right>v.left&&this.top<v.bottom&&this.bottom>v.top},BoxPosition.prototype.overlapsAny=function(v){for(var _=0;_<v.length;_++)if(this.overlaps(v[_]))return!0;return!1},BoxPosition.prototype.within=function(v){return this.top>=v.top&&this.bottom<=v.bottom&&this.left>=v.left&&this.right<=v.right},BoxPosition.prototype.overlapsOppositeAxis=function(v,_){switch(_){case"+x":return this.left<v.left;case"-x":return this.right>v.right;case"+y":return this.top<v.top;case"-y":return this.bottom>v.bottom}},BoxPosition.prototype.intersectPercentage=function(v){return Math.max(0,Math.min(this.right,v.right)-Math.max(this.left,v.left))*Math.max(0,Math.min(this.bottom,v.bottom)-Math.max(this.top,v.top))/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(v){return{"top":this.top-v.top,"bottom":v.bottom-this.bottom,"left":this.left-v.left,"right":v.right-this.right,"height":this.height,"width":this.width}},BoxPosition.getSimpleBoxPosition=function(v){var _=v.div?v.div.offsetHeight:v.tagName?v.offsetHeight:0,b=v.div?v.div.offsetWidth:v.tagName?v.offsetWidth:0,T=v.div?v.div.offsetTop:v.tagName?v.offsetTop:0;return{"left":(v=v.div?v.div.getBoundingClientRect():v.tagName?v.getBoundingClientRect():v).left,"right":v.right,"top":v.top||T,"height":v.height||_,"bottom":v.bottom||T+(v.height||_),"width":v.width||b}},WebVTT.StringDecoder=function(){return{"decode":function(v){if(!v)return"";if("string"!=typeof v)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(v))}}},WebVTT.convertCueToDOMTree=function(v,_){return v&&_?parseContent(v,_):null};WebVTT.processCues=function(v,_,b){if(!v||!_||!b)return null;for(;b.firstChild;)b.removeChild(b.firstChild);var T=v.document.createElement("div");if(T.style.position="absolute",T.style.left="0",T.style.right="0",T.style.top="0",T.style.bottom="0",T.style.margin="1.5%",b.appendChild(T),function shouldCompute(v){for(var _=0;_<v.length;_++)if(v[_].hasBeenReset||!v[_].displayState)return!0;return!1}(_)){var S=[],w=BoxPosition.getSimpleBoxPosition(T),E={"font":Math.round(.05*w.height*100)/100+"px sans-serif"};!function(){for(var b,C,k=0;k<_.length;k++)C=_[k],b=new CueStyleBox(v,C,E),T.appendChild(b.div),moveBoxToLinePosition(0,b,w,S),C.displayState=b.div,S.push(BoxPosition.getSimpleBoxPosition(b))}()}else for(var C=0;C<_.length;C++)T.appendChild(_[C].displayState)},WebVTT.Parser=function(v,_,b){b||(b=_,_={}),_||(_={}),this.window=v,this.vttjs=_,this.state="INITIAL",this.buffer="",this.decoder=b||new TextDecoder("utf8"),this.regionList=[]},WebVTT.Parser.prototype={"reportOrThrowError":function(v){if(!(v instanceof ParsingError))throw v;this.onparsingerror&&this.onparsingerror(v)},"parse":function(v){var _=this;function collectNextLine(){for(var v=_.buffer,b=0;b<v.length&&"\r"!==v[b]&&"\n"!==v[b];)++b;var T=v.substr(0,b);return"\r"===v[b]&&++b,"\n"===v[b]&&++b,_.buffer=v.substr(b),T}function parseHeader(v){v.match(/X-TIMESTAMP-MAP/)?parseOptions(v,(function(v,b){switch(v){case"X-TIMESTAMP-MAP":!function parseTimestampMap(v){var b=new Settings;parseOptions(v,(function(v,_){switch(v){case"MPEGT":b.integer(v+"S",_);break;case"LOCA":b.set(v+"L",parseTimeStamp(_))}}),/[^\d]:/,/,/),_.ontimestampmap&&_.ontimestampmap({"MPEGTS":b.get("MPEGTS"),"LOCAL":b.get("LOCAL")})}(b)}}),/=/):parseOptions(v,(function(v,b){switch(v){case"Region":!function parseRegion(v){var b=new Settings;if(parseOptions(v,(function(v,_){switch(v){case"id":b.set(v,_);break;case"width":b.percent(v,_);break;case"lines":b.integer(v,_);break;case"regionanchor":case"viewportanchor":var T=_.split(",");if(2!==T.length)break;var S=new Settings;if(S.percent("x",T[0]),S.percent("y",T[1]),!S.has("x")||!S.has("y"))break;b.set(v+"X",S.get("x")),b.set(v+"Y",S.get("y"));break;case"scroll":b.alt(v,_,["up"])}}),/=/,/\s/),b.has("id")){var T=new(_.vttjs.VTTRegion||_.window.VTTRegion);T.width=b.get("width",100),T.lines=b.get("lines",3),T.regionAnchorX=b.get("regionanchorX",0),T.regionAnchorY=b.get("regionanchorY",100),T.viewportAnchorX=b.get("viewportanchorX",0),T.viewportAnchorY=b.get("viewportanchorY",100),T.scroll=b.get("scroll",""),_.onregion&&_.onregion(T),_.regionList.push({"id":b.get("id"),"region":T})}}(b)}}),/:/)}v&&(_.buffer+=_.decoder.decode(v,{"stream":!0}));try{var b;if("INITIAL"===_.state){if(!/\r\n|\n/.test(_.buffer))return this;var T=(b=collectNextLine()).match(/^WEBVTT([ \t].*)?$/);if(!T||!T[0])throw new ParsingError(ParsingError.Errors.BadSignature);_.state="HEADER"}for(var S=!1;_.buffer;){if(!/\r\n|\n/.test(_.buffer))return this;switch(S?S=!1:b=collectNextLine(),_.state){case"HEADER":/:/.test(b)?parseHeader(b):b||(_.state="ID");continue;case"NOTE":b||(_.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(b)){_.state="NOTE";break}if(!b)continue;_.cue=new(_.vttjs.VTTCue||_.window.VTTCue)(0,0,"");try{_.cue.align="center"}catch(v){_.cue.align="middle"}if(_.state="CUE",-1===b.indexOf("--\x3e")){_.cue.id=b;continue}case"CUE":try{parseCue(b,_.cue,_.regionList)}catch(v){_.reportOrThrowError(v),_.cue=null,_.state="BADCUE";continue}_.state="CUETEXT";continue;case"CUETEXT":var w=-1!==b.indexOf("--\x3e");if(!b||w&&(S=!0)){_.oncue&&_.oncue(_.cue),_.cue=null,_.state="ID";continue}_.cue.text&&(_.cue.text+="\n"),_.cue.text+=b.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":b||(_.state="ID");continue}}}catch(v){_.reportOrThrowError(v),"CUETEXT"===_.state&&_.cue&&_.oncue&&_.oncue(_.cue),_.cue=null,_.state="INITIAL"===_.state?"BADWEBVTT":"BADCUE"}return this},"flush":function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(v){this.reportOrThrowError(v)}return this.onflush&&this.onflush(),this}},v.exports=WebVTT},function(v,_){var b={"":1,"lr":1,"rl":1},T={"start":1,"center":1,"end":1,"left":1,"right":1,"auto":1,"line-left":1,"line-right":1};function findAlignSetting(v){return"string"==typeof v&&(!!T[v.toLowerCase()]&&v.toLowerCase())}function VTTCue(v,_,T){this.hasBeenReset=!1;var S="",w=!1,E=v,C=_,k=T,x=null,P="",I=!0,O="auto",L="start",D="auto",N="auto",R=100,B="center";Object.defineProperties(this,{"id":{"enumerable":!0,"get":function(){return S},"set":function(v){S=""+v}},"pauseOnExit":{"enumerable":!0,"get":function(){return w},"set":function(v){w=!!v}},"startTime":{"enumerable":!0,"get":function(){return E},"set":function(v){if("number"!=typeof v)throw new TypeError("Start time must be set to a number.");E=v,this.hasBeenReset=!0}},"endTime":{"enumerable":!0,"get":function(){return C},"set":function(v){if("number"!=typeof v)throw new TypeError("End time must be set to a number.");C=v,this.hasBeenReset=!0}},"text":{"enumerable":!0,"get":function(){return k},"set":function(v){k=""+v,this.hasBeenReset=!0}},"region":{"enumerable":!0,"get":function(){return x},"set":function(v){x=v,this.hasBeenReset=!0}},"vertical":{"enumerable":!0,"get":function(){return P},"set":function(v){var _=function findDirectionSetting(v){return"string"==typeof v&&(!!b[v.toLowerCase()]&&v.toLowerCase())}(v);if(!1===_)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");P=_,this.hasBeenReset=!0}},"snapToLines":{"enumerable":!0,"get":function(){return I},"set":function(v){I=!!v,this.hasBeenReset=!0}},"line":{"enumerable":!0,"get":function(){return O},"set":function(v){if("number"!=typeof v&&"auto"!==v)throw new SyntaxError("Line: an invalid number or illegal string was specified.");O=v,this.hasBeenReset=!0}},"lineAlign":{"enumerable":!0,"get":function(){return L},"set":function(v){var _=findAlignSetting(v);_?(L=_,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},"position":{"enumerable":!0,"get":function(){return D},"set":function(v){if(v<0||v>100)throw new Error("Position must be between 0 and 100.");D=v,this.hasBeenReset=!0}},"positionAlign":{"enumerable":!0,"get":function(){return N},"set":function(v){var _=findAlignSetting(v);_?(N=_,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},"size":{"enumerable":!0,"get":function(){return R},"set":function(v){if(v<0||v>100)throw new Error("Size must be between 0 and 100.");R=v,this.hasBeenReset=!0}},"align":{"enumerable":!0,"get":function(){return B},"set":function(v){var _=findAlignSetting(v);if(!_)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");B=_,this.hasBeenReset=!0}}}),this.displayState=void 0}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},v.exports=VTTCue},function(v,_){var b={"":!0,"up":!0};function isValidPercentValue(v){return"number"==typeof v&&v>=0&&v<=100}v.exports=function VTTRegion(){var v=100,_=3,T=0,S=100,w=0,E=100,C="";Object.defineProperties(this,{"width":{"enumerable":!0,"get":function(){return v},"set":function(_){if(!isValidPercentValue(_))throw new Error("Width must be between 0 and 100.");v=_}},"lines":{"enumerable":!0,"get":function(){return _},"set":function(v){if("number"!=typeof v)throw new TypeError("Lines must be set to a number.");_=v}},"regionAnchorY":{"enumerable":!0,"get":function(){return S},"set":function(v){if(!isValidPercentValue(v))throw new Error("RegionAnchorX must be between 0 and 100.");S=v}},"regionAnchorX":{"enumerable":!0,"get":function(){return T},"set":function(v){if(!isValidPercentValue(v))throw new Error("RegionAnchorY must be between 0 and 100.");T=v}},"viewportAnchorY":{"enumerable":!0,"get":function(){return E},"set":function(v){if(!isValidPercentValue(v))throw new Error("ViewportAnchorY must be between 0 and 100.");E=v}},"viewportAnchorX":{"enumerable":!0,"get":function(){return w},"set":function(v){if(!isValidPercentValue(v))throw new Error("ViewportAnchorX must be between 0 and 100.");w=v}},"scroll":{"enumerable":!0,"get":function(){return C},"set":function(v){var _=function findScrollSetting(v){return"string"==typeof v&&(!!b[v.toLowerCase()]&&v.toLowerCase())}(v);!1===_?console.warn("Scroll: an invalid or illegal string was specified."):C=_}}})}},function(v,_,b){var T=b(127),S=b(157);function _construct(_,b,w){return S()?(v.exports=_construct=Reflect.construct,v.exports.default=v.exports,v.exports.__esModule=!0):(v.exports=_construct=function _construct(v,_,b){var S=[null];S.push.apply(S,_);var w=new(Function.bind.apply(v,S));return b&&T(w,b.prototype),w},v.exports.default=v.exports,v.exports.__esModule=!0),_construct.apply(null,arguments)}v.exports=_construct,v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(v){return!1}},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){var T,S,w,E,C;T=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,S=/^([^\/?#]*)(.*)$/,w=/(?:\/|^)\.(?=\/)/g,E=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,C={"buildAbsoluteURL":function(v,_,b){if(b=b||{},v=v.trim(),!(_=_.trim())){if(!b.alwaysNormalize)return v;var T=C.parseURL(v);if(!T)throw new Error("Error trying to parse base URL.");return T.path=C.normalizePath(T.path),C.buildURLFromParts(T)}var w=C.parseURL(_);if(!w)throw new Error("Error trying to parse relative URL.");if(w.scheme)return b.alwaysNormalize?(w.path=C.normalizePath(w.path),C.buildURLFromParts(w)):_;var E=C.parseURL(v);if(!E)throw new Error("Error trying to parse base URL.");if(!E.netLoc&&E.path&&"/"!==E.path[0]){var k=S.exec(E.path);E.netLoc=k[1],E.path=k[2]}E.netLoc&&!E.path&&(E.path="/");var x={"scheme":E.scheme,"netLoc":w.netLoc,"path":null,"params":w.params,"query":w.query,"fragment":w.fragment};if(!w.netLoc&&(x.netLoc=E.netLoc,"/"!==w.path[0]))if(w.path){var P=E.path,I=P.substring(0,P.lastIndexOf("/")+1)+w.path;x.path=C.normalizePath(I)}else x.path=E.path,w.params||(x.params=E.params,w.query||(x.query=E.query));return null===x.path&&(x.path=b.alwaysNormalize?C.normalizePath(w.path):w.path),C.buildURLFromParts(x)},"parseURL":function(v){var _=T.exec(v);return _?{"scheme":_[1]||"","netLoc":_[2]||"","path":_[3]||"","params":_[4]||"","query":_[5]||"","fragment":_[6]||""}:null},"normalizePath":function(v){for(v=v.split("").reverse().join("").replace(w,"");v.length!==(v=v.replace(E,"")).length;);return v.split("").reverse().join("")},"buildURLFromParts":function(v){return v.scheme+v.netLoc+v.path+v.params+v.query+v.fragment}},v.exports=C},function(v,_,b){"use strict";var T=function(){function Stream(){this.listeners={}}var v=Stream.prototype;return v.on=function on(v,_){this.listeners[v]||(this.listeners[v]=[]),this.listeners[v].push(_)},v.off=function off(v,_){if(!this.listeners[v])return!1;var b=this.listeners[v].indexOf(_);return this.listeners[v]=this.listeners[v].slice(0),this.listeners[v].splice(b,1),b>-1},v.trigger=function trigger(v){var _=this.listeners[v];if(_)if(2===arguments.length)for(var b=_.length,T=0;T<b;++T)_[T].call(this,arguments[1]);else for(var S=Array.prototype.slice.call(arguments,1),w=_.length,E=0;E<w;++E)_[E].apply(this,S)},v.dispose=function dispose(){this.listeners={}},v.pipe=function pipe(v){this.on("data",(function(_){v.push(_)}))},Stream}();v.exports=T},function(v,_,b){"use strict";(function(v){var T=b(31),S=b(161),w=b(162);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(v,_){if(kMaxLength()<_)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(v=new Uint8Array(_)).__proto__=Buffer.prototype:(null===v&&(v=new Buffer(_)),v.length=_),v}function Buffer(v,_,b){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(v,_,b);if("number"==typeof v){if("string"==typeof _)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,v)}return from(this,v,_,b)}function from(v,_,b,T){if("number"==typeof _)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&_ instanceof ArrayBuffer?function fromArrayBuffer(v,_,b,T){if(_.byteLength,b<0||_.byteLength<b)throw new RangeError("'offset' is out of bounds");if(_.byteLength<b+(T||0))throw new RangeError("'length' is out of bounds");_=void 0===b&&void 0===T?new Uint8Array(_):void 0===T?new Uint8Array(_,b):new Uint8Array(_,b,T);Buffer.TYPED_ARRAY_SUPPORT?(v=_).__proto__=Buffer.prototype:v=fromArrayLike(v,_);return v}(v,_,b,T):"string"==typeof _?function fromString(v,_,b){"string"==typeof b&&""!==b||(b="utf8");if(!Buffer.isEncoding(b))throw new TypeError('"encoding" must be a valid string encoding');var T=0|byteLength(_,b),S=(v=createBuffer(v,T)).write(_,b);S!==T&&(v=v.slice(0,S));return v}(v,_,b):function fromObject(v,_){if(Buffer.isBuffer(_)){var b=0|checked(_.length);return 0===(v=createBuffer(v,b)).length||_.copy(v,0,0,b),v}if(_){if("undefined"!=typeof ArrayBuffer&&_.buffer instanceof ArrayBuffer||"length"in _)return"number"!=typeof _.length||function isnan(v){return v!=v}(_.length)?createBuffer(v,0):fromArrayLike(v,_);if("Buffer"===_.type&&w(_.data))return fromArrayLike(v,_.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(v,_)}function assertSize(v){if("number"!=typeof v)throw new TypeError('"size" argument must be a number');if(v<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(v,_){if(assertSize(_),v=createBuffer(v,_<0?0:0|checked(_)),!Buffer.TYPED_ARRAY_SUPPORT)for(var b=0;b<_;++b)v[b]=0;return v}function fromArrayLike(v,_){var b=_.length<0?0:0|checked(_.length);v=createBuffer(v,b);for(var T=0;T<b;T+=1)v[T]=255&_[T];return v}function checked(v){if(v>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|v}function byteLength(v,_){if(Buffer.isBuffer(v))return v.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(v)||v instanceof ArrayBuffer))return v.byteLength;"string"!=typeof v&&(v=""+v);var b=v.length;if(0===b)return 0;for(var T=!1;;)switch(_){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":case void 0:return utf8ToBytes(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return base64ToBytes(v).length;default:if(T)return utf8ToBytes(v).length;_=(""+_).toLowerCase(),T=!0}}function slowToString(v,_,b){var T=!1;if((void 0===_||_<0)&&(_=0),_>this.length)return"";if((void 0===b||b>this.length)&&(b=this.length),b<=0)return"";if((b>>>=0)<=(_>>>=0))return"";for(v||(v="utf8");;)switch(v){case"hex":return hexSlice(this,_,b);case"utf8":case"utf-8":return utf8Slice(this,_,b);case"ascii":return asciiSlice(this,_,b);case"latin1":case"binary":return latin1Slice(this,_,b);case"base64":return base64Slice(this,_,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,_,b);default:if(T)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),T=!0}}function swap(v,_,b){var T=v[_];v[_]=v[b],v[b]=T}function bidirectionalIndexOf(v,_,b,T,S){if(0===v.length)return-1;if("string"==typeof b?(T=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,isNaN(b)&&(b=S?0:v.length-1),b<0&&(b=v.length+b),b>=v.length){if(S)return-1;b=v.length-1}else if(b<0){if(!S)return-1;b=0}if("string"==typeof _&&(_=Buffer.from(_,T)),Buffer.isBuffer(_))return 0===_.length?-1:arrayIndexOf(v,_,b,T,S);if("number"==typeof _)return _&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?S?Uint8Array.prototype.indexOf.call(v,_,b):Uint8Array.prototype.lastIndexOf.call(v,_,b):arrayIndexOf(v,[_],b,T,S);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(v,_,b,T,S){var w,E=1,C=v.length,k=_.length;if(void 0!==T&&("ucs2"===(T=String(T).toLowerCase())||"ucs-2"===T||"utf16le"===T||"utf-16le"===T)){if(v.length<2||_.length<2)return-1;E=2,C/=2,k/=2,b/=2}function read(v,_){return 1===E?v[_]:v.readUInt16BE(_*E)}if(S){var x=-1;for(w=b;w<C;w++)if(read(v,w)===read(_,-1===x?0:w-x)){if(-1===x&&(x=w),w-x+1===k)return x*E}else-1!==x&&(w-=w-x),x=-1}else for(b+k>C&&(b=C-k),w=b;w>=0;w--){for(var P=!0,I=0;I<k;I++)if(read(v,w+I)!==read(_,I)){P=!1;break}if(P)return w}return-1}function hexWrite(v,_,b,T){b=Number(b)||0;var S=v.length-b;T?(T=Number(T))>S&&(T=S):T=S;var w=_.length;if(w%2!=0)throw new TypeError("Invalid hex string");T>w/2&&(T=w/2);for(var E=0;E<T;++E){var C=parseInt(_.substr(2*E,2),16);if(isNaN(C))return E;v[b+E]=C}return E}function utf8Write(v,_,b,T){return blitBuffer(utf8ToBytes(_,v.length-b),v,b,T)}function asciiWrite(v,_,b,T){return blitBuffer(function asciiToBytes(v){for(var _=[],b=0;b<v.length;++b)_.push(255&v.charCodeAt(b));return _}(_),v,b,T)}function latin1Write(v,_,b,T){return asciiWrite(v,_,b,T)}function base64Write(v,_,b,T){return blitBuffer(base64ToBytes(_),v,b,T)}function ucs2Write(v,_,b,T){return blitBuffer(function utf16leToBytes(v,_){for(var b,T,S,w=[],E=0;E<v.length&&!((_-=2)<0);++E)b=v.charCodeAt(E),T=b>>8,S=b%256,w.push(S),w.push(T);return w}(_,v.length-b),v,b,T)}function base64Slice(v,_,b){return 0===_&&b===v.length?T.fromByteArray(v):T.fromByteArray(v.slice(_,b))}function utf8Slice(v,_,b){b=Math.min(v.length,b);for(var T=[],S=_;S<b;){var w,E,C,k,x=v[S],P=null,I=x>239?4:x>223?3:x>191?2:1;if(S+I<=b)switch(I){case 1:x<128&&(P=x);break;case 2:128==(192&(w=v[S+1]))&&(k=(31&x)<<6|63&w)>127&&(P=k);break;case 3:w=v[S+1],E=v[S+2],128==(192&w)&&128==(192&E)&&(k=(15&x)<<12|(63&w)<<6|63&E)>2047&&(k<55296||k>57343)&&(P=k);break;case 4:w=v[S+1],E=v[S+2],C=v[S+3],128==(192&w)&&128==(192&E)&&128==(192&C)&&(k=(15&x)<<18|(63&w)<<12|(63&E)<<6|63&C)>65535&&k<1114112&&(P=k)}null===P?(P=65533,I=1):P>65535&&(P-=65536,T.push(P>>>10&1023|55296),P=56320|1023&P),T.push(P),S+=I}return function decodeCodePointsArray(v){var _=v.length;if(_<=4096)return String.fromCharCode.apply(String,v);var b="",T=0;for(;T<_;)b+=String.fromCharCode.apply(String,v.slice(T,T+=4096));return b}(T)}_.Buffer=Buffer,_.SlowBuffer=function SlowBuffer(v){+v!=v&&(v=0);return Buffer.alloc(+v)},_.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==v.TYPED_ARRAY_SUPPORT?v.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var v=new Uint8Array(1);return v.__proto__={"__proto__":Uint8Array.prototype,"foo":function(){return 42}},42===v.foo()&&"function"==typeof v.subarray&&0===v.subarray(1,1).byteLength}catch(v){return!1}}(),_.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(v){return v.__proto__=Buffer.prototype,v},Buffer.from=function(v,_,b){return from(null,v,_,b)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{"value":null,"configurable":!0})),Buffer.alloc=function(v,_,b){return function alloc(v,_,b,T){return assertSize(_),_<=0?createBuffer(v,_):void 0!==b?"string"==typeof T?createBuffer(v,_).fill(b,T):createBuffer(v,_).fill(b):createBuffer(v,_)}(null,v,_,b)},Buffer.allocUnsafe=function(v){return allocUnsafe(null,v)},Buffer.allocUnsafeSlow=function(v){return allocUnsafe(null,v)},Buffer.isBuffer=function isBuffer(v){return!(null==v||!v._isBuffer)},Buffer.compare=function compare(v,_){if(!Buffer.isBuffer(v)||!Buffer.isBuffer(_))throw new TypeError("Arguments must be Buffers");if(v===_)return 0;for(var b=v.length,T=_.length,S=0,w=Math.min(b,T);S<w;++S)if(v[S]!==_[S]){b=v[S],T=_[S];break}return b<T?-1:T<b?1:0},Buffer.isEncoding=function isEncoding(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(v,_){if(!w(v))throw new TypeError('"list" argument must be an Array of Buffers');if(0===v.length)return Buffer.alloc(0);var b;if(void 0===_)for(_=0,b=0;b<v.length;++b)_+=v[b].length;var T=Buffer.allocUnsafe(_),S=0;for(b=0;b<v.length;++b){var E=v[b];if(!Buffer.isBuffer(E))throw new TypeError('"list" argument must be an Array of Buffers');E.copy(T,S),S+=E.length}return T},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var v=this.length;if(v%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<v;_+=2)swap(this,_,_+1);return this},Buffer.prototype.swap32=function swap32(){var v=this.length;if(v%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<v;_+=4)swap(this,_,_+3),swap(this,_+1,_+2);return this},Buffer.prototype.swap64=function swap64(){var v=this.length;if(v%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<v;_+=8)swap(this,_,_+7),swap(this,_+1,_+6),swap(this,_+2,_+5),swap(this,_+3,_+4);return this},Buffer.prototype.toString=function toString(){var v=0|this.length;return 0===v?"":0===arguments.length?utf8Slice(this,0,v):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(v){if(!Buffer.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v||0===Buffer.compare(this,v)},Buffer.prototype.inspect=function inspect(){var v="",b=_.INSPECT_MAX_BYTES;return this.length>0&&(v=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(v+=" ... ")),"<Buffer "+v+">"},Buffer.prototype.compare=function compare(v,_,b,T,S){if(!Buffer.isBuffer(v))throw new TypeError("Argument must be a Buffer");if(void 0===_&&(_=0),void 0===b&&(b=v?v.length:0),void 0===T&&(T=0),void 0===S&&(S=this.length),_<0||b>v.length||T<0||S>this.length)throw new RangeError("out of range index");if(T>=S&&_>=b)return 0;if(T>=S)return-1;if(_>=b)return 1;if(this===v)return 0;for(var w=(S>>>=0)-(T>>>=0),E=(b>>>=0)-(_>>>=0),C=Math.min(w,E),k=this.slice(T,S),x=v.slice(_,b),P=0;P<C;++P)if(k[P]!==x[P]){w=k[P],E=x[P];break}return w<E?-1:E<w?1:0},Buffer.prototype.includes=function includes(v,_,b){return-1!==this.indexOf(v,_,b)},Buffer.prototype.indexOf=function indexOf(v,_,b){return bidirectionalIndexOf(this,v,_,b,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(v,_,b){return bidirectionalIndexOf(this,v,_,b,!1)},Buffer.prototype.write=function write(v,_,b,T){if(void 0===_)T="utf8",b=this.length,_=0;else if(void 0===b&&"string"==typeof _)T=_,b=this.length,_=0;else{if(!isFinite(_))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_|=0,isFinite(b)?(b|=0,void 0===T&&(T="utf8")):(T=b,b=void 0)}var S=this.length-_;if((void 0===b||b>S)&&(b=S),v.length>0&&(b<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");for(var w=!1;;)switch(T){case"hex":return hexWrite(this,v,_,b);case"utf8":case"utf-8":return utf8Write(this,v,_,b);case"ascii":return asciiWrite(this,v,_,b);case"latin1":case"binary":return latin1Write(this,v,_,b);case"base64":return base64Write(this,v,_,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,v,_,b);default:if(w)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),w=!0}},Buffer.prototype.toJSON=function toJSON(){return{"type":"Buffer","data":Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(v,_,b){var T="";b=Math.min(v.length,b);for(var S=_;S<b;++S)T+=String.fromCharCode(127&v[S]);return T}function latin1Slice(v,_,b){var T="";b=Math.min(v.length,b);for(var S=_;S<b;++S)T+=String.fromCharCode(v[S]);return T}function hexSlice(v,_,b){var T=v.length;(!_||_<0)&&(_=0),(!b||b<0||b>T)&&(b=T);for(var S="",w=_;w<b;++w)S+=toHex(v[w]);return S}function utf16leSlice(v,_,b){for(var T=v.slice(_,b),S="",w=0;w<T.length;w+=2)S+=String.fromCharCode(T[w]+256*T[w+1]);return S}function checkOffset(v,_,b){if(v%1!=0||v<0)throw new RangeError("offset is not uint");if(v+_>b)throw new RangeError("Trying to access beyond buffer length")}function checkInt(v,_,b,T,S,w){if(!Buffer.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>S||_<w)throw new RangeError('"value" argument is out of bounds');if(b+T>v.length)throw new RangeError("Index out of range")}function objectWriteUInt16(v,_,b,T){_<0&&(_=65535+_+1);for(var S=0,w=Math.min(v.length-b,2);S<w;++S)v[b+S]=(_&255<<8*(T?S:1-S))>>>8*(T?S:1-S)}function objectWriteUInt32(v,_,b,T){_<0&&(_=4294967295+_+1);for(var S=0,w=Math.min(v.length-b,4);S<w;++S)v[b+S]=_>>>8*(T?S:3-S)&255}function checkIEEE754(v,_,b,T,S,w){if(b+T>v.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function writeFloat(v,_,b,T,w){return w||checkIEEE754(v,0,b,4),S.write(v,_,b,T,23,4),b+4}function writeDouble(v,_,b,T,w){return w||checkIEEE754(v,0,b,8),S.write(v,_,b,T,52,8),b+8}Buffer.prototype.slice=function slice(v,_){var b,T=this.length;if((v=~~v)<0?(v+=T)<0&&(v=0):v>T&&(v=T),(_=void 0===_?T:~~_)<0?(_+=T)<0&&(_=0):_>T&&(_=T),_<v&&(_=v),Buffer.TYPED_ARRAY_SUPPORT)(b=this.subarray(v,_)).__proto__=Buffer.prototype;else{var S=_-v;b=new Buffer(S,void 0);for(var w=0;w<S;++w)b[w]=this[w+v]}return b},Buffer.prototype.readUIntLE=function readUIntLE(v,_,b){v|=0,_|=0,b||checkOffset(v,_,this.length);for(var T=this[v],S=1,w=0;++w<_&&(S*=256);)T+=this[v+w]*S;return T},Buffer.prototype.readUIntBE=function readUIntBE(v,_,b){v|=0,_|=0,b||checkOffset(v,_,this.length);for(var T=this[v+--_],S=1;_>0&&(S*=256);)T+=this[v+--_]*S;return T},Buffer.prototype.readUInt8=function readUInt8(v,_){return _||checkOffset(v,1,this.length),this[v]},Buffer.prototype.readUInt16LE=function readUInt16LE(v,_){return _||checkOffset(v,2,this.length),this[v]|this[v+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(v,_){return _||checkOffset(v,2,this.length),this[v]<<8|this[v+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(v,_){return _||checkOffset(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+16777216*this[v+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(v,_){return _||checkOffset(v,4,this.length),16777216*this[v]+(this[v+1]<<16|this[v+2]<<8|this[v+3])},Buffer.prototype.readIntLE=function readIntLE(v,_,b){v|=0,_|=0,b||checkOffset(v,_,this.length);for(var T=this[v],S=1,w=0;++w<_&&(S*=256);)T+=this[v+w]*S;return T>=(S*=128)&&(T-=Math.pow(2,8*_)),T},Buffer.prototype.readIntBE=function readIntBE(v,_,b){v|=0,_|=0,b||checkOffset(v,_,this.length);for(var T=_,S=1,w=this[v+--T];T>0&&(S*=256);)w+=this[v+--T]*S;return w>=(S*=128)&&(w-=Math.pow(2,8*_)),w},Buffer.prototype.readInt8=function readInt8(v,_){return _||checkOffset(v,1,this.length),128&this[v]?-1*(255-this[v]+1):this[v]},Buffer.prototype.readInt16LE=function readInt16LE(v,_){_||checkOffset(v,2,this.length);var b=this[v]|this[v+1]<<8;return 32768&b?4294901760|b:b},Buffer.prototype.readInt16BE=function readInt16BE(v,_){_||checkOffset(v,2,this.length);var b=this[v+1]|this[v]<<8;return 32768&b?4294901760|b:b},Buffer.prototype.readInt32LE=function readInt32LE(v,_){return _||checkOffset(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(v,_){return _||checkOffset(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},Buffer.prototype.readFloatLE=function readFloatLE(v,_){return _||checkOffset(v,4,this.length),S.read(this,v,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(v,_){return _||checkOffset(v,4,this.length),S.read(this,v,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(v,_){return _||checkOffset(v,8,this.length),S.read(this,v,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(v,_){return _||checkOffset(v,8,this.length),S.read(this,v,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(v,_,b,T){(v=+v,_|=0,b|=0,T)||checkInt(this,v,_,b,Math.pow(2,8*b)-1,0);var S=1,w=0;for(this[_]=255&v;++w<b&&(S*=256);)this[_+w]=v/S&255;return _+b},Buffer.prototype.writeUIntBE=function writeUIntBE(v,_,b,T){(v=+v,_|=0,b|=0,T)||checkInt(this,v,_,b,Math.pow(2,8*b)-1,0);var S=b-1,w=1;for(this[_+S]=255&v;--S>=0&&(w*=256);)this[_+S]=v/w&255;return _+b},Buffer.prototype.writeUInt8=function writeUInt8(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(v=Math.floor(v)),this[_]=255&v,_+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[_]=255&v,this[_+1]=v>>>8):objectWriteUInt16(this,v,_,!0),_+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[_]=v>>>8,this[_+1]=255&v):objectWriteUInt16(this,v,_,!1),_+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[_+3]=v>>>24,this[_+2]=v>>>16,this[_+1]=v>>>8,this[_]=255&v):objectWriteUInt32(this,v,_,!0),_+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=255&v):objectWriteUInt32(this,v,_,!1),_+4},Buffer.prototype.writeIntLE=function writeIntLE(v,_,b,T){if(v=+v,_|=0,!T){var S=Math.pow(2,8*b-1);checkInt(this,v,_,b,S-1,-S)}var w=0,E=1,C=0;for(this[_]=255&v;++w<b&&(E*=256);)v<0&&0===C&&0!==this[_+w-1]&&(C=1),this[_+w]=(v/E>>0)-C&255;return _+b},Buffer.prototype.writeIntBE=function writeIntBE(v,_,b,T){if(v=+v,_|=0,!T){var S=Math.pow(2,8*b-1);checkInt(this,v,_,b,S-1,-S)}var w=b-1,E=1,C=0;for(this[_+w]=255&v;--w>=0&&(E*=256);)v<0&&0===C&&0!==this[_+w+1]&&(C=1),this[_+w]=(v/E>>0)-C&255;return _+b},Buffer.prototype.writeInt8=function writeInt8(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(v=Math.floor(v)),v<0&&(v=255+v+1),this[_]=255&v,_+1},Buffer.prototype.writeInt16LE=function writeInt16LE(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[_]=255&v,this[_+1]=v>>>8):objectWriteUInt16(this,v,_,!0),_+2},Buffer.prototype.writeInt16BE=function writeInt16BE(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[_]=v>>>8,this[_+1]=255&v):objectWriteUInt16(this,v,_,!1),_+2},Buffer.prototype.writeInt32LE=function writeInt32LE(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[_]=255&v,this[_+1]=v>>>8,this[_+2]=v>>>16,this[_+3]=v>>>24):objectWriteUInt32(this,v,_,!0),_+4},Buffer.prototype.writeInt32BE=function writeInt32BE(v,_,b){return v=+v,_|=0,b||checkInt(this,v,_,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),Buffer.TYPED_ARRAY_SUPPORT?(this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=255&v):objectWriteUInt32(this,v,_,!1),_+4},Buffer.prototype.writeFloatLE=function writeFloatLE(v,_,b){return writeFloat(this,v,_,!0,b)},Buffer.prototype.writeFloatBE=function writeFloatBE(v,_,b){return writeFloat(this,v,_,!1,b)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(v,_,b){return writeDouble(this,v,_,!0,b)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(v,_,b){return writeDouble(this,v,_,!1,b)},Buffer.prototype.copy=function copy(v,_,b,T){if(b||(b=0),T||0===T||(T=this.length),_>=v.length&&(_=v.length),_||(_=0),T>0&&T<b&&(T=b),T===b)return 0;if(0===v.length||0===this.length)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("sourceStart out of bounds");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),v.length-_<T-b&&(T=v.length-_+b);var S,w=T-b;if(this===v&&b<_&&_<T)for(S=w-1;S>=0;--S)v[S+_]=this[S+b];else if(w<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(S=0;S<w;++S)v[S+_]=this[S+b];else Uint8Array.prototype.set.call(v,this.subarray(b,b+w),_);return w},Buffer.prototype.fill=function fill(v,_,b,T){if("string"==typeof v){if("string"==typeof _?(T=_,_=0,b=this.length):"string"==typeof b&&(T=b,b=this.length),1===v.length){var S=v.charCodeAt(0);S<256&&(v=S)}if(void 0!==T&&"string"!=typeof T)throw new TypeError("encoding must be a string");if("string"==typeof T&&!Buffer.isEncoding(T))throw new TypeError("Unknown encoding: "+T)}else"number"==typeof v&&(v&=255);if(_<0||this.length<_||this.length<b)throw new RangeError("Out of range index");if(b<=_)return this;var w;if(_>>>=0,b=void 0===b?this.length:b>>>0,v||(v=0),"number"==typeof v)for(w=_;w<b;++w)this[w]=v;else{var E=Buffer.isBuffer(v)?v:utf8ToBytes(new Buffer(v,T).toString()),C=E.length;for(w=0;w<b-_;++w)this[w+_]=E[w%C]}return this};var E=/[^+\/0-9A-Za-z-_]/g;function toHex(v){return v<16?"0"+v.toString(16):v.toString(16)}function utf8ToBytes(v,_){var b;_=_||1/0;for(var T=v.length,S=null,w=[],E=0;E<T;++E){if((b=v.charCodeAt(E))>55295&&b<57344){if(!S){if(b>56319){(_-=3)>-1&&w.push(239,191,189);continue}if(E+1===T){(_-=3)>-1&&w.push(239,191,189);continue}S=b;continue}if(b<56320){(_-=3)>-1&&w.push(239,191,189),S=b;continue}b=65536+(S-55296<<10|b-56320)}else S&&(_-=3)>-1&&w.push(239,191,189);if(S=null,b<128){if((_-=1)<0)break;w.push(b)}else if(b<2048){if((_-=2)<0)break;w.push(b>>6|192,63&b|128)}else if(b<65536){if((_-=3)<0)break;w.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;w.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return w}function base64ToBytes(v){return T.toByteArray(function base64clean(v){if((v=function stringtrim(v){return v.trim?v.trim():v.replace(/^\s+|\s+$/g,"")}(v).replace(E,"")).length<2)return"";for(;v.length%4!=0;)v+="=";return v}(v))}function blitBuffer(v,_,b,T){for(var S=0;S<T&&!(S+b>=_.length||S>=v.length);++S)_[S+b]=v[S];return S}}).call(this,b(21))},function(v,_){_.read=function(v,_,b,T,S){var w,E,C=8*S-T-1,k=(1<<C)-1,x=k>>1,P=-7,I=b?S-1:0,O=b?-1:1,L=v[_+I];for(I+=O,w=L&(1<<-P)-1,L>>=-P,P+=C;P>0;w=256*w+v[_+I],I+=O,P-=8);for(E=w&(1<<-P)-1,w>>=-P,P+=T;P>0;E=256*E+v[_+I],I+=O,P-=8);if(0===w)w=1-x;else{if(w===k)return E?NaN:1/0*(L?-1:1);E+=Math.pow(2,T),w-=x}return(L?-1:1)*E*Math.pow(2,w-T)},_.write=function(v,_,b,T,S,w){var E,C,k,x=8*w-S-1,P=(1<<x)-1,I=P>>1,O=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,L=T?0:w-1,D=T?1:-1,N=_<0||0===_&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(C=isNaN(_)?1:0,E=P):(E=Math.floor(Math.log(_)/Math.LN2),_*(k=Math.pow(2,-E))<1&&(E--,k*=2),(_+=E+I>=1?O/k:O*Math.pow(2,1-I))*k>=2&&(E++,k/=2),E+I>=P?(C=0,E=P):E+I>=1?(C=(_*k-1)*Math.pow(2,S),E+=I):(C=_*Math.pow(2,I-1)*Math.pow(2,S),E=0));S>=8;v[b+L]=255&C,L+=D,C/=256,S-=8);for(E=E<<S|C,x+=S;x>0;v[b+L]=255&E,L+=D,E/=256,x-=8);v[b+L-D]|=128*N}},function(v,_){var b={}.toString;v.exports=Array.isArray||function(v){return"[object Array]"==b.call(v)}},function(v,_,b){"use strict";Object.defineProperty(_,"__esModule",{"value":!0});var T=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,S=/^application\/dash\+xml/i;_.simpleTypeFromSourceType=function simpleTypeFromSourceType(v){return T.test(v)?"hls":S.test(v)?"dash":"application/vnd.videojs.vhs+json"===v?"vhs-json":null}},function(v,_,b){function DOMParser(v){this.options=v||{"locator":{}}}function DOMHandler(){this.cdata=!1}function position(v,_){_.lineNumber=v.lineNumber,_.columnNumber=v.columnNumber}function _locator(v){if(v)return"\n@"+(v.systemId||"")+"#[line:"+v.lineNumber+",col:"+v.columnNumber+"]"}function _toString(v,_,b){return"string"==typeof v?v.substr(_,b):v.length>=_+b||_?new java.lang.String(v,_,b)+"":v}function appendElement(v,_){v.currentElement?v.currentElement.appendChild(_):v.doc.appendChild(_)}DOMParser.prototype.parseFromString=function(v,_){var b=this.options,S=new T,w=b.domBuilder||new DOMHandler,E=b.errorHandler,C=b.locator,k=b.xmlns||{},x={"lt":"<","gt":">","amp":"&","quot":'"',"apos":"'"};return C&&w.setDocumentLocator(C),S.errorHandler=function buildErrorHandler(v,_,b){if(!v){if(_ instanceof DOMHandler)return _;v=_}var T={},S=v instanceof Function;function build(_){var w=v[_];!w&&S&&(w=2==v.length?function(b){v(_,b)}:v),T[_]=w&&function(v){w("[xmldom "+_+"]\t"+v+_locator(b))}||function(){}}return b=b||{},build("warning"),build("error"),build("fatalError"),T}(E,w,C),S.domBuilder=b.domBuilder||w,/\/x?html?$/.test(_)&&(x.nbsp=" ",x.copy="©",k[""]="http://www.w3.org/1999/xhtml"),k.xml=k.xml||"http://www.w3.org/XML/1998/namespace",v?S.parse(v,k,x):S.errorHandler.error("invalid doc source"),w.doc},DOMHandler.prototype={"startDocument":function(){this.doc=(new S).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},"startElement":function(v,_,b,T){var S=this.doc,w=S.createElementNS(v,b||_),E=T.length;appendElement(this,w),this.currentElement=w,this.locator&&position(this.locator,w);for(var C=0;C<E;C++){v=T.getURI(C);var k=T.getValue(C),x=(b=T.getQName(C),S.createAttributeNS(v,b));this.locator&&position(T.getLocator(C),x),x.value=x.nodeValue=k,w.setAttributeNode(x)}},"endElement":function(v,_,b){var T=this.currentElement;T.tagName;this.currentElement=T.parentNode},"startPrefixMapping":function(v,_){},"endPrefixMapping":function(v){},"processingInstruction":function(v,_){var b=this.doc.createProcessingInstruction(v,_);this.locator&&position(this.locator,b),appendElement(this,b)},"ignorableWhitespace":function(v,_,b){},"characters":function(v,_,b){if(v=_toString.apply(this,arguments)){if(this.cdata)var T=this.doc.createCDATASection(v);else T=this.doc.createTextNode(v);this.currentElement?this.currentElement.appendChild(T):/^\s*$/.test(v)&&this.doc.appendChild(T),this.locator&&position(this.locator,T)}},"skippedEntity":function(v){},"endDocument":function(){this.doc.normalize()},"setDocumentLocator":function(v){(this.locator=v)&&(v.lineNumber=0)},"comment":function(v,_,b){v=_toString.apply(this,arguments);var T=this.doc.createComment(v);this.locator&&position(this.locator,T),appendElement(this,T)},"startCDATA":function(){this.cdata=!0},"endCDATA":function(){this.cdata=!1},"startDTD":function(v,_,b){var T=this.doc.implementation;if(T&&T.createDocumentType){var S=T.createDocumentType(v,_,b);this.locator&&position(this.locator,S),appendElement(this,S)}},"warning":function(v){console.warn("[xmldom warning]\t"+v,_locator(this.locator))},"error":function(v){console.error("[xmldom error]\t"+v,_locator(this.locator))},"fatalError":function(v){throw console.error("[xmldom fatalError]\t"+v,_locator(this.locator)),v}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(v){DOMHandler.prototype[v]=function(){return null}}));var T=b(165).XMLReader,S=_.DOMImplementation=b(137).DOMImplementation;_.XMLSerializer=b(137).XMLSerializer,_.DOMParser=DOMParser},function(v,_){var b=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=new RegExp("[\\-\\.0-9"+b.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),S=new RegExp("^"+b.source+T.source+"*(?::"+b.source+T.source+"*)?$");function XMLReader(){}function copyLocator(v,_){return _.lineNumber=v.lineNumber,_.columnNumber=v.columnNumber,_}function parseElementStartPart(v,_,b,T,S,w){for(var E,C=++_,k=0;;){var x=v.charAt(C);switch(x){case"=":if(1===k)E=v.slice(_,C),k=3;else{if(2!==k)throw new Error("attribute equal must after attrName");k=3}break;case"'":case'"':if(3===k||1===k){if(1===k&&(w.warning('attribute value must after "="'),E=v.slice(_,C)),_=C+1,!((C=v.indexOf(x,_))>0))throw new Error("attribute value no end '"+x+"' match");P=v.slice(_,C).replace(/&#?\w+;/g,S),b.add(E,P,_-1),k=5}else{if(4!=k)throw new Error('attribute value must after "="');P=v.slice(_,C).replace(/&#?\w+;/g,S),b.add(E,P,_),w.warning('attribute "'+E+'" missed start quot('+x+")!!"),_=C+1,k=5}break;case"/":switch(k){case 0:b.setTagName(v.slice(_,C));case 5:case 6:case 7:k=7,b.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return w.error("unexpected end of input"),0==k&&b.setTagName(v.slice(_,C)),C;case">":switch(k){case 0:b.setTagName(v.slice(_,C));case 5:case 6:case 7:break;case 4:case 1:"/"===(P=v.slice(_,C)).slice(-1)&&(b.closed=!0,P=P.slice(0,-1));case 2:2===k&&(P=E),4==k?(w.warning('attribute "'+P+'" missed quot(")!!'),b.add(E,P.replace(/&#?\w+;/g,S),_)):("http://www.w3.org/1999/xhtml"===T[""]&&P.match(/^(?:disabled|checked|selected)$/i)||w.warning('attribute "'+P+'" missed value!! "'+P+'" instead!!'),b.add(P,P,_));break;case 3:throw new Error("attribute value missed!!")}return C;case"":x=" ";default:if(x<=" ")switch(k){case 0:b.setTagName(v.slice(_,C)),k=6;break;case 1:E=v.slice(_,C),k=2;break;case 4:var P=v.slice(_,C).replace(/&#?\w+;/g,S);w.warning('attribute "'+P+'" missed quot(")!!'),b.add(E,P,_);case 5:k=6}else switch(k){case 2:b.tagName;"http://www.w3.org/1999/xhtml"===T[""]&&E.match(/^(?:disabled|checked|selected)$/i)||w.warning('attribute "'+E+'" missed value!! "'+E+'" instead2!!'),b.add(E,E,_),_=C,k=1;break;case 5:w.warning('attribute space is required"'+E+'"!!');case 6:k=1,_=C;break;case 3:k=4,_=C;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}C++}}function appendElement(v,_,b){for(var T=v.tagName,S=null,w=v.length;w--;){var E=v[w],C=E.qName,k=E.value;if((O=C.indexOf(":"))>0)var x=E.prefix=C.slice(0,O),P=C.slice(O+1),I="xmlns"===x&&P;else P=C,x=null,I="xmlns"===C&&"";E.localName=P,!1!==I&&(null==S&&(S={},_copy(b,b={})),b[I]=S[I]=k,E.uri="http://www.w3.org/2000/xmlns/",_.startPrefixMapping(I,k))}for(w=v.length;w--;){(x=(E=v[w]).prefix)&&("xml"===x&&(E.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==x&&(E.uri=b[x||""]))}var O;(O=T.indexOf(":"))>0?(x=v.prefix=T.slice(0,O),P=v.localName=T.slice(O+1)):(x=null,P=v.localName=T);var L=v.uri=b[x||""];if(_.startElement(L,P,T,v),!v.closed)return v.currentNSMap=b,v.localNSMap=S,!0;if(_.endElement(L,P,T),S)for(x in S)_.endPrefixMapping(x)}function parseHtmlSpecialContent(v,_,b,T,S){if(/^(?:script|textarea)$/i.test(b)){var w=v.indexOf("</"+b+">",_),E=v.substring(_+1,w);if(/[&<]/.test(E))return/^script$/i.test(b)?(S.characters(E,0,E.length),w):(E=E.replace(/&#?\w+;/g,T),S.characters(E,0,E.length),w)}return _+1}function fixSelfClosed(v,_,b,T){var S=T[b];return null==S&&((S=v.lastIndexOf("</"+b+">"))<_&&(S=v.lastIndexOf("</"+b)),T[b]=S),S<_}function _copy(v,_){for(var b in v)_[b]=v[b]}function parseDCC(v,_,b,T){switch(v.charAt(_+2)){case"-":return"-"===v.charAt(_+3)?(S=v.indexOf("--\x3e",_+4))>_?(b.comment(v,_+4,S-_-4),S+3):(T.error("Unclosed comment"),-1):-1;default:if("CDATA["==v.substr(_+3,6)){var S=v.indexOf("]]>",_+9);return b.startCDATA(),b.characters(v,_+9,S-_-9),b.endCDATA(),S+3}var w=function split(v,_){var b,T=[],S=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;S.lastIndex=_,S.exec(v);for(;b=S.exec(v);)if(T.push(b),b[1])return T}(v,_),E=w.length;if(E>1&&/!doctype/i.test(w[0][0])){var C=w[1][0],k=E>3&&/^public$/i.test(w[2][0])&&w[3][0],x=E>4&&w[4][0],P=w[E-1];return b.startDTD(C,k&&k.replace(/^(['"])(.*?)\1$/,"$2"),x&&x.replace(/^(['"])(.*?)\1$/,"$2")),b.endDTD(),P.index+P[0].length}}return-1}function parseInstruction(v,_,b){var T=v.indexOf("?>",_);if(T){var S=v.substring(_,T).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(S){S[0].length;return b.processingInstruction(S[1],S[2]),T+2}return-1}return-1}function ElementAttributes(v){}function _set_proto_(v,_){return v.__proto__=_,v}XMLReader.prototype={"parse":function(v,_,b){var T=this.domBuilder;T.startDocument(),_copy(_,_={}),function parse(v,_,b,T,S){function entityReplacer(v){var _=v.slice(1,-1);return _ in b?b[_]:"#"===_.charAt(0)?function fixedFromCharCode(v){if(v>65535){var _=55296+((v-=65536)>>10),b=56320+(1023&v);return String.fromCharCode(_,b)}return String.fromCharCode(v)}(parseInt(_.substr(1).replace("x","0x"))):(S.error("entity not found:"+v),v)}function appendText(_){if(_>I){var b=v.substring(I,_).replace(/&#?\w+;/g,entityReplacer);k&&position(I),T.characters(b,0,_-I),I=_}}function position(_,b){for(;_>=E&&(b=C.exec(v));)w=b.index,E=w+b[0].length,k.lineNumber++;k.columnNumber=_-w+1}var w=0,E=0,C=/.*(?:\r\n?|\n)|.*$/g,k=T.locator,x=[{"currentNSMap":_}],P={},I=0;for(;;){try{var O=v.indexOf("<",I);if(O<0){if(!v.substr(I).match(/^\s*$/)){var L=T.doc,D=L.createTextNode(v.substr(I));L.appendChild(D),T.currentElement=D}return}switch(O>I&&appendText(O),v.charAt(O+1)){case"/":var N=v.indexOf(">",O+3),R=v.substring(O+2,N),B=x.pop();N<0?(R=v.substring(O+2).replace(/[\s<].*/,""),S.error("end tag name: "+R+" is not complete:"+B.tagName),N=O+1+R.length):R.match(/\s</)&&(R=R.replace(/[\s<].*/,""),S.error("end tag name: "+R+" maybe not complete"),N=O+1+R.length);var j=B.localNSMap,U=B.tagName==R;if(U||B.tagName&&B.tagName.toLowerCase()==R.toLowerCase()){if(T.endElement(B.uri,B.localName,R),j)for(var V in j)T.endPrefixMapping(V);U||S.fatalError("end tag name: "+R+" is not match the current start tagName:"+B.tagName)}else x.push(B);N++;break;case"?":k&&position(O),N=parseInstruction(v,O,T);break;case"!":k&&position(O),N=parseDCC(v,O,T,S);break;default:k&&position(O);var H=new ElementAttributes,W=x[x.length-1].currentNSMap,q=(N=parseElementStartPart(v,O,H,W,entityReplacer,S),H.length);if(!H.closed&&fixSelfClosed(v,N,H.tagName,P)&&(H.closed=!0,b.nbsp||S.warning("unclosed xml attribute")),k&&q){for(var G=copyLocator(k,{}),Y=0;Y<q;Y++){var X=H[Y];position(X.offset),X.locator=copyLocator(k,{})}T.locator=G,appendElement(H,T,W)&&x.push(H),T.locator=k}else appendElement(H,T,W)&&x.push(H);"http://www.w3.org/1999/xhtml"!==H.uri||H.closed?N++:N=parseHtmlSpecialContent(v,N,H.tagName,entityReplacer,T)}}catch(v){S.error("element parse error: "+v),N=-1}N>I?I=N:appendText(Math.max(O,I)+1)}}(v,_,b,T,this.errorHandler),T.endDocument()}},ElementAttributes.prototype={"setTagName":function(v){if(!S.test(v))throw new Error("invalid tagName:"+v);this.tagName=v},"add":function(v,_,b){if(!S.test(v))throw new Error("invalid attribute:"+v);this[this.length++]={"qName":v,"value":_,"offset":b}},"length":0,"getLocalName":function(v){return this[v].localName},"getLocator":function(v){return this[v].locator},"getQName":function(v){return this[v].qName},"getURI":function(v){return this[v].uri},"getValue":function(v){return this[v].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(v,_){function p(){}for(_ in p.prototype=_,p=new p,v)p[_]=v[_];return p}),_.XMLReader=XMLReader},function(v,_){var b=Math.pow(2,32);v.exports=function(v){var _=new DataView(v.buffer,v.byteOffset,v.byteLength),T={"version":v[0],"flags":new Uint8Array(v.subarray(1,4)),"references":[],"referenceId":_.getUint32(4),"timescale":_.getUint32(8)},S=12;0===T.version?(T.earliestPresentationTime=_.getUint32(S),T.firstOffset=_.getUint32(S+4),S+=8):(T.earliestPresentationTime=_.getUint32(S)*b+_.getUint32(S+4),T.firstOffset=_.getUint32(S+8)*b+_.getUint32(S+12),S+=16),S+=2;var w=_.getUint16(S);for(S+=2;w>0;S+=12,w--)T.references.push({"referenceType":(128&v[S])>>>7,"referencedSize":2147483647&_.getUint32(S),"subsegmentDuration":_.getUint32(S+4),"startsWithSap":!!(128&v[S+8]),"sapType":(112&v[S+8])>>>4,"sapDeltaTime":268435455&_.getUint32(S+8)});return T}},function(v,_,b){"use strict";Object.defineProperty(_,"__esModule",{"value":!0});var T=function toUint8(v){return v instanceof Uint8Array?v:new Uint8Array(v&&v.buffer||v,v&&v.byteOffset||0,v&&v.byteLength||0)},S=function bytesToString(v){if(!v)return"";v=Array.prototype.slice.call(v);var _=String.fromCharCode.apply(null,T(v));try{return decodeURIComponent(escape(_))}catch(v){}return _},w=function id3Size(v,_){void 0===_&&(_=0);var b=(v=T(v))[_+6]<<21|v[_+7]<<14|v[_+8]<<7|v[_+9];return(16&v[_+5])>>4?b+20:b+10},E=function getId3Offset(v,_){return void 0===_&&(_=0),(v=T(v)).length-_<10||"ID3"!==S(v.subarray(_,_+3))?_:getId3Offset(v,_+=w(v,_))},C={"aac":function aac(v){var _=E(v);return v.length>=_+2&&255==(255&v[_])&&224==(224&v[_+1])&&16==(22&v[_+1])},"mp3":function mp3(v){var _=E(v);return v.length>=_+2&&255==(255&v[_])&&224==(224&v[_+1])&&2==(6&v[_+1])},"webm":function webm(v){return v.length>=4&&26==(255&v[0])&&69==(255&v[1])&&223==(255&v[2])&&163==(255&v[3])},"mp4":function mp4(v){return v.length>=8&&/^(f|s)typ$/.test(S(v.subarray(4,8)))&&!/^ftyp3g$/.test(S(v.subarray(4,10)))},"3gp":function gp(v){return v.length>=10&&/^ftyp3g$/.test(S(v.subarray(4,10)))},"ts":function ts(v){if(v.length<189&&v.length>=1)return 71===v[0];for(var _=0;_+188<v.length&&_<188;){if(71===v[_]&&71===v[_+188])return!0;_+=1}return!1},"flac":function flac(v){return v.length>=4&&/^fLaC$/.test(S(v.subarray(0,4)))},"ogg":function ogg(v){return v.length>=4&&/^OggS$/.test(S(v.subarray(0,4)))}},k=Object.keys(C).filter((function(v){return"ts"!==v})).concat("ts");k.forEach((function(v){var _=C[v];C[v]=function(v){return _(T(v))}}));_.detectContainerForBytes=function detectContainerForBytes(v){v=T(v);for(var _=0;_<k.length;_++){var b=k[_];if(C[b](v))return b}return""},_.getId3Offset=E,_.id3Size=w,_.isLikely=C,_.isLikelyFmp4MediaSegment=function isLikelyFmp4MediaSegment(v){v=T(v);for(var _=0;_<v.length;){var b=(v[_]<<24|v[_+1]<<16|v[_+2]<<8|v[_+3])>>>0;if("moof"===S(v.subarray(_+4,_+8)))return!0;0===b||b+_>v.length?_=v.length:_+=b}return!1}},function(v,_,b){"use strict";Object.defineProperty(_,"__esModule",{"value":!0});var T=function toUint8(v){return v instanceof Uint8Array?v:new Uint8Array(v&&v.buffer||v,v&&v.byteOffset||0,v&&v.byteLength||0)};_.bytesToString=function bytesToString(v){if(!v)return"";v=Array.prototype.slice.call(v);var _=String.fromCharCode.apply(null,T(v));try{return decodeURIComponent(escape(_))}catch(v){}return _},_.concatTypedArrays=function concatTypedArrays(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];var S=_.reduce((function(v,_){return v+=_&&(_.byteLength||_.length)||0}),0),w=new Uint8Array(S),E=0;return _.forEach((function(v){v=T(v),w.set(v,E),E+=v.byteLength})),w},_.isTypedArray=function isTypedArray(v){return ArrayBuffer.isView(v)},_.stringToBytes=function stringToBytes(v,_){void 0===_&&(_=!1);return"string"!=typeof v&&v&&"function"==typeof v.toString&&(v=v.toString()),"string"!=typeof v?[]:(_||(v=unescape(encodeURIComponent(v))),v.split("").map((function(v){return 255&v.charCodeAt(0)})))},_.toUint8=T},function(v,_,b){"use strict";var T=b(138),S=b(170).handleRollover,w={};w.ts=b(172),w.aac=b(173);var E=b(139).ONE_SECOND_IN_TS,parseAudioPes_=function(v,_,b){for(var T,S,E,C,k=0,x=188,P=!1;x<=v.byteLength;)if(71!==v[k]||71!==v[x]&&x!==v.byteLength)k++,x++;else{switch(T=v.subarray(k,x),w.ts.parseType(T,_.pid)){case"pes":S=w.ts.parsePesType(T,_.table),E=w.ts.parsePayloadUnitStartIndicator(T),"audio"===S&&E&&(C=w.ts.parsePesTime(T))&&(C.type="audio",b.audio.push(C),P=!0)}if(P)break;k+=188,x+=188}for(k=(x=v.byteLength)-188,P=!1;k>=0;)if(71!==v[k]||71!==v[x]&&x!==v.byteLength)k--,x--;else{switch(T=v.subarray(k,x),w.ts.parseType(T,_.pid)){case"pes":S=w.ts.parsePesType(T,_.table),E=w.ts.parsePayloadUnitStartIndicator(T),"audio"===S&&E&&(C=w.ts.parsePesTime(T))&&(C.type="audio",b.audio.push(C),P=!0)}if(P)break;k-=188,x-=188}},parseVideoPes_=function(v,_,b){for(var T,S,E,C,k,x,P,I=0,O=188,L=!1,D={"data":[],"size":0};O<v.byteLength;)if(71!==v[I]||71!==v[O])I++,O++;else{switch(T=v.subarray(I,O),w.ts.parseType(T,_.pid)){case"pes":if(S=w.ts.parsePesType(T,_.table),E=w.ts.parsePayloadUnitStartIndicator(T),"video"===S&&(E&&!L&&(C=w.ts.parsePesTime(T))&&(C.type="video",b.video.push(C),L=!0),!b.firstKeyFrame)){if(E&&0!==D.size){for(k=new Uint8Array(D.size),x=0;D.data.length;)P=D.data.shift(),k.set(P,x),x+=P.byteLength;if(w.ts.videoPacketContainsKeyFrame(k)){var N=w.ts.parsePesTime(k);N?(b.firstKeyFrame=N,b.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}D.size=0}D.data.push(T),D.size+=T.byteLength}}if(L&&b.firstKeyFrame)break;I+=188,O+=188}for(I=(O=v.byteLength)-188,L=!1;I>=0;)if(71!==v[I]||71!==v[O])I--,O--;else{switch(T=v.subarray(I,O),w.ts.parseType(T,_.pid)){case"pes":S=w.ts.parsePesType(T,_.table),E=w.ts.parsePayloadUnitStartIndicator(T),"video"===S&&E&&(C=w.ts.parsePesTime(T))&&(C.type="video",b.video.push(C),L=!0)}if(L)break;I-=188,O-=188}},inspectTs_=function(v){var _={"pid":null,"table":null},b={};for(var S in function(v,_){for(var b,T=0,S=188;S<v.byteLength;)if(71!==v[T]||71!==v[S])T++,S++;else{switch(b=v.subarray(T,S),w.ts.parseType(b,_.pid)){case"pat":_.pid||(_.pid=w.ts.parsePat(b));break;case"pmt":_.table||(_.table=w.ts.parsePmt(b))}if(_.pid&&_.table)return;T+=188,S+=188}}(v,_),_.table){if(_.table.hasOwnProperty(S))switch(_.table[S]){case T.H264_STREAM_TYPE:b.video=[],parseVideoPes_(v,_,b),0===b.video.length&&delete b.video;break;case T.ADTS_STREAM_TYPE:b.audio=[],parseAudioPes_(v,_,b),0===b.audio.length&&delete b.audio}}return b};v.exports={"inspect":function(v,_){var b;return(b=w.aac.isLikelyAacData(v)?function(v){for(var _,b=!1,T=0,S=null,C=null,k=0,x=0;v.length-x>=3;){switch(w.aac.parseType(v,x)){case"timed-metadata":if(v.length-x<10){b=!0;break}if((k=w.aac.parseId3TagSize(v,x))>v.length){b=!0;break}null===C&&(_=v.subarray(x,x+k),C=w.aac.parseAacTimestamp(_)),x+=k;break;case"audio":if(v.length-x<7){b=!0;break}if((k=w.aac.parseAdtsSize(v,x))>v.length){b=!0;break}null===S&&(_=v.subarray(x,x+k),S=w.aac.parseSampleRate(_)),T++,x+=k;break;default:x++}if(b)return null}if(null===S||null===C)return null;var P=E/S;return{"audio":[{"type":"audio","dts":C,"pts":C},{"type":"audio","dts":C+1024*T*P,"pts":C+1024*T*P}]}}(v):inspectTs_(v))&&(b.audio||b.video)?(function(v,_){if(v.audio&&v.audio.length){var b=_;void 0===b&&(b=v.audio[0].dts),v.audio.forEach((function(v){v.dts=S(v.dts,b),v.pts=S(v.pts,b),v.dtsTime=v.dts/E,v.ptsTime=v.pts/E}))}if(v.video&&v.video.length){var T=_;if(void 0===T&&(T=v.video[0].dts),v.video.forEach((function(v){v.dts=S(v.dts,T),v.pts=S(v.pts,T),v.dtsTime=v.dts/E,v.ptsTime=v.pts/E})),v.firstKeyFrame){var w=v.firstKeyFrame;w.dts=S(w.dts,T),w.pts=S(w.pts,T),w.dtsTime=w.dts/E,w.ptsTime=w.dts/E}}}(b,_),b):null},"parseAudioPes_":parseAudioPes_}},function(v,_,b){"use strict";var T=b(171),handleRollover=function(v,_){var b=1;for(v>_&&(b=-1);Math.abs(_-v)>4294967296;)v+=8589934592*b;return v},TimestampRolloverStream=function(v){var _,b;TimestampRolloverStream.prototype.init.call(this),this.type_=v||"shared",this.push=function(v){"shared"!==this.type_&&v.type!==this.type_||(void 0===b&&(b=v.dts),v.dts=handleRollover(v.dts,b),v.pts=handleRollover(v.pts,b),_=v.dts,this.trigger("data",v))},this.flush=function(){b=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){b=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};TimestampRolloverStream.prototype=new T,v.exports={"TimestampRolloverStream":TimestampRolloverStream,"handleRollover":handleRollover}},function(v,_,b){"use strict";var Stream=function(){this.init=function(){var v={};this.on=function(_,b){v[_]||(v[_]=[]),v[_]=v[_].concat(b)},this.off=function(_,b){var T;return!!v[_]&&(T=v[_].indexOf(b),v[_]=v[_].slice(),v[_].splice(T,1),T>-1)},this.trigger=function(_){var b,T,S,w;if(b=v[_])if(2===arguments.length)for(S=b.length,T=0;T<S;++T)b[T].call(this,arguments[1]);else{for(w=[],T=arguments.length,T=1;T<arguments.length;++T)w.push(arguments[T]);for(S=b.length,T=0;T<S;++T)b[T].apply(this,w)}},this.dispose=function(){v={}}}};Stream.prototype.pipe=function(v){return this.on("data",(function(_){v.push(_)})),this.on("done",(function(_){v.flush(_)})),this.on("partialdone",(function(_){v.partialFlush(_)})),this.on("endedtimeline",(function(_){v.endTimeline(_)})),this.on("reset",(function(_){v.reset(_)})),v},Stream.prototype.push=function(v){this.trigger("data",v)},Stream.prototype.flush=function(v){this.trigger("done",v)},Stream.prototype.partialFlush=function(v){this.trigger("partialdone",v)},Stream.prototype.endTimeline=function(v){this.trigger("endedtimeline",v)},Stream.prototype.reset=function(v){this.trigger("reset",v)},v.exports=Stream},function(v,_,b){"use strict";var T=b(138),parsePid=function(v){var _=31&v[1];return _<<=8,_|=v[2]},parsePayloadUnitStartIndicator=function(v){return!!(64&v[1])},parseAdaptionField=function(v){var _=0;return(48&v[3])>>>4>1&&(_+=v[4]+1),_},parseNalUnitType=function(v){switch(v){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};v.exports={"parseType":function(v,_){var b=parsePid(v);return 0===b?"pat":b===_?"pmt":_?"pes":null},"parsePat":function(v){var _=parsePayloadUnitStartIndicator(v),b=4+parseAdaptionField(v);return _&&(b+=v[b]+1),(31&v[b+10])<<8|v[b+11]},"parsePmt":function(v){var _={},b=parsePayloadUnitStartIndicator(v),T=4+parseAdaptionField(v);if(b&&(T+=v[T]+1),1&v[T+5]){var S;S=3+((15&v[T+1])<<8|v[T+2])-4;for(var w=12+((15&v[T+10])<<8|v[T+11]);w<S;){var E=T+w;_[(31&v[E+1])<<8|v[E+2]]=v[E],w+=5+((15&v[E+3])<<8|v[E+4])}return _}},"parsePayloadUnitStartIndicator":parsePayloadUnitStartIndicator,"parsePesType":function(v,_){switch(_[parsePid(v)]){case T.H264_STREAM_TYPE:return"video";case T.ADTS_STREAM_TYPE:return"audio";case T.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},"parsePesTime":function(v){if(!parsePayloadUnitStartIndicator(v))return null;var _=4+parseAdaptionField(v);if(_>=v.byteLength)return null;var b,T=null;return 192&(b=v[_+7])&&((T={}).pts=(14&v[_+9])<<27|(255&v[_+10])<<20|(254&v[_+11])<<12|(255&v[_+12])<<5|(254&v[_+13])>>>3,T.pts*=4,T.pts+=(6&v[_+13])>>>1,T.dts=T.pts,64&b&&(T.dts=(14&v[_+14])<<27|(255&v[_+15])<<20|(254&v[_+16])<<12|(255&v[_+17])<<5|(254&v[_+18])>>>3,T.dts*=4,T.dts+=(6&v[_+18])>>>1)),T},"videoPacketContainsKeyFrame":function(v){for(var _=4+parseAdaptionField(v),b=v.subarray(_),T=0,S=0,w=!1;S<b.byteLength-3;S++)if(1===b[S+2]){T=S+5;break}for(;T<b.byteLength;)switch(b[T]){case 0:if(0!==b[T-1]){T+=2;break}if(0!==b[T-2]){T++;break}S+3!==T-2&&"slice_layer_without_partitioning_rbsp_idr"===parseNalUnitType(31&b[S+3])&&(w=!0);do{T++}while(1!==b[T]&&T<b.length);S=T-2,T+=3;break;case 1:if(0!==b[T-1]||0!==b[T-2]){T+=3;break}"slice_layer_without_partitioning_rbsp_idr"===parseNalUnitType(31&b[S+3])&&(w=!0),S=T-2,T+=3;break;default:T+=3}return b=b.subarray(S),T-=S,S=0,b&&b.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===parseNalUnitType(31&b[S+3])&&(w=!0),w}}},function(v,_,b){"use strict";var T=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],parseId3TagSize=function(v,_){var b=v[_+6]<<21|v[_+7]<<14|v[_+8]<<7|v[_+9];return b=b>=0?b:0,(16&v[_+5])>>4?b+20:b+10},getId3Offset=function(v,_){return v.length-_<10||v[_]!=="I".charCodeAt(0)||v[_+1]!=="D".charCodeAt(0)||v[_+2]!=="3".charCodeAt(0)?_:(_+=parseId3TagSize(v,_),getId3Offset(v,_))},parseSyncSafeInteger=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]};v.exports={"isLikelyAacData":function(v){var _=getId3Offset(v,0);return v.length>=_+2&&255==(255&v[_])&&240==(240&v[_+1])&&16==(22&v[_+1])},"parseId3TagSize":parseId3TagSize,"parseAdtsSize":function(v,_){var b=(224&v[_+5])>>5,T=v[_+4]<<3;return 6144&v[_+3]|T|b},"parseType":function(v,_){return v[_]==="I".charCodeAt(0)&&v[_+1]==="D".charCodeAt(0)&&v[_+2]==="3".charCodeAt(0)?"timed-metadata":!0&v[_]&&240==(240&v[_+1])?"audio":null},"parseSampleRate":function(v){for(var _=0;_+5<v.length;){if(255===v[_]&&240==(246&v[_+1]))return T[(60&v[_+2])>>>2];_++}return null},"parseAacTimestamp":function(v){var _,b,T;_=10,64&v[5]&&(_+=4,_+=parseSyncSafeInteger(v.subarray(10,14)));do{if((b=parseSyncSafeInteger(v.subarray(_+4,_+8)))<1)return null;if("PRIV"===String.fromCharCode(v[_],v[_+1],v[_+2],v[_+3])){T=v.subarray(_+10,_+b+10);for(var S=0;S<T.byteLength;S++)if(0===T[S]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(v,_,b){var T,S="";for(T=_;T<b;T++)S+="%"+("00"+v[T].toString(16)).slice(-2);return S}(T,0,S))){var w=T.subarray(S+1),E=(1&w[3])<<30|w[4]<<22|w[5]<<14|w[6]<<6|w[7]>>>2;return E*=4,E+=3&w[7]}break}}_+=10,_+=b}while(_<v.byteLength);return null}}},function(v,_,b){"use strict";var T,S,w,E,C,k,x=b(124).toUnsigned,P=b(124).toHexString,I=b(175),O=b(140),L=b(176),D=b(177),N=b(179);T=function(v){return I(v,["moov","trak"]).reduce((function(v,_){var b,T,S,w,E;return(b=I(_,["tkhd"])[0])?(T=b[0],w=x(b[S=0===T?12:20]<<24|b[S+1]<<16|b[S+2]<<8|b[S+3]),(E=I(_,["mdia","mdhd"])[0])?(S=0===(T=E[0])?12:20,v[w]=x(E[S]<<24|E[S+1]<<16|E[S+2]<<8|E[S+3]),v):null):null}),{})},S=function(v,_){var b,T,S;return b=I(_,["moof","traf"]),T=[].concat.apply([],b.map((function(_){return I(_,["tfhd"]).map((function(b){var T,S,w;return T=x(b[4]<<24|b[5]<<16|b[6]<<8|b[7]),S=v[T]||9e4,(w="number"!=typeof(w=I(_,["tfdt"]).map((function(v){var _,b;return _=v[0],b=x(v[4]<<24|v[5]<<16|v[6]<<8|v[7]),1===_&&(b*=Math.pow(2,32),b+=x(v[8]<<24|v[9]<<16|v[10]<<8|v[11])),b}))[0])||isNaN(w)?1/0:w)/S}))}))),S=Math.min.apply(null,T),isFinite(S)?S:0},w=function(v,_){var b,T=I(_,["moof","traf"]),S=0,w=0;if(T&&T.length){var E=I(T[0],["tfhd"])[0],C=I(T[0],["trun"])[0],k=I(T[0],["tfdt"])[0];if(E)b=L(E).trackId;if(k)S=N(k).baseMediaDecodeTime;if(C){var x=D(C);x.samples&&x.samples.length&&(w=x.samples[0].compositionTimeOffset||0)}}return(S+w)/(v[b]||9e4)},E=function(v){var _=I(v,["moov","trak"]),b=[];return _.forEach((function(v){var _=I(v,["mdia","hdlr"]),T=I(v,["tkhd"]);_.forEach((function(v,_){var S,w,E=O(v.subarray(8,12)),C=T[_];"vide"===E&&(w=0===(S=new DataView(C.buffer,C.byteOffset,C.byteLength)).getUint8(0)?S.getUint32(12):S.getUint32(20),b.push(w))}))})),b},k=function(v){var _=0===v[0]?12:20;return x(v[_]<<24|v[_+1]<<16|v[_+2]<<8|v[_+3])},C=function(v){var _=I(v,["moov","trak"]),b=[];return _.forEach((function(v){var _,T,S={},w=I(v,["tkhd"])[0];w&&(T=(_=new DataView(w.buffer,w.byteOffset,w.byteLength)).getUint8(0),S.id=0===T?_.getUint32(12):_.getUint32(20));var E=I(v,["mdia","hdlr"])[0];if(E){var C=O(E.subarray(8,12));S.type="vide"===C?"video":"soun"===C?"audio":C}var x=I(v,["mdia","minf","stbl","stsd"])[0];if(x){var L=x.subarray(8);S.codec=O(L.subarray(4,8));var D,N=I(L,[S.codec])[0];N&&(/^[a-z]vc[1-9]$/i.test(S.codec)?(D=N.subarray(78),"avcC"===O(D.subarray(4,8))&&D.length>11?(S.codec+=".",S.codec+=P(D[9]),S.codec+=P(D[10]),S.codec+=P(D[11])):S.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(S.codec)?(D=N.subarray(28),"esds"===O(D.subarray(4,8))&&D.length>20&&0!==D[19]?(S.codec+="."+P(D[19]),S.codec+="."+P(D[20]>>>2&63).replace(/^0/,"")):S.codec="mp4a.40.2"):S.codec=S.codec.toLowerCase())}var R=I(v,["mdia","mdhd"])[0];R&&(S.timescale=k(R)),b.push(S)})),b},v.exports={"findBox":I,"parseType":O,"timescale":T,"startTime":S,"compositionStartTime":w,"videoTrackIds":E,"tracks":C,"getTimescaleFromMediaHeader":k}},function(v,_,b){var T=b(124).toUnsigned,S=b(140),findBox=function(v,_){var b,w,E,C,k,x=[];if(!_.length)return null;for(b=0;b<v.byteLength;)w=T(v[b]<<24|v[b+1]<<16|v[b+2]<<8|v[b+3]),E=S(v.subarray(b+4,b+8)),C=w>1?b+w:v.byteLength,E===_[0]&&(1===_.length?x.push(v.subarray(b+8,C)):(k=findBox(v.subarray(b+8,C),_.slice(1))).length&&(x=x.concat(k))),b=C;return x};v.exports=findBox},function(v,_){v.exports=function(v){var _,b=new DataView(v.buffer,v.byteOffset,v.byteLength),T={"version":v[0],"flags":new Uint8Array(v.subarray(1,4)),"trackId":b.getUint32(4)},S=1&T.flags[2],w=2&T.flags[2],E=8&T.flags[2],C=16&T.flags[2],k=32&T.flags[2],x=65536&T.flags[0],P=131072&T.flags[0];return _=8,S&&(_+=4,T.baseDataOffset=b.getUint32(12),_+=4),w&&(T.sampleDescriptionIndex=b.getUint32(_),_+=4),E&&(T.defaultSampleDuration=b.getUint32(_),_+=4),C&&(T.defaultSampleSize=b.getUint32(_),_+=4),k&&(T.defaultSampleFlags=b.getUint32(_)),x&&(T.durationIsEmpty=!0),!S&&P&&(T.baseDataOffsetIsMoof=!0),T}},function(v,_,b){var T=b(178);v.exports=function(v){var _,b={"version":v[0],"flags":new Uint8Array(v.subarray(1,4)),"samples":[]},S=new DataView(v.buffer,v.byteOffset,v.byteLength),w=1&b.flags[2],E=4&b.flags[2],C=1&b.flags[1],k=2&b.flags[1],x=4&b.flags[1],P=8&b.flags[1],I=S.getUint32(4),O=8;for(w&&(b.dataOffset=S.getInt32(O),O+=4),E&&I&&(_={"flags":T(v.subarray(O,O+4))},O+=4,C&&(_.duration=S.getUint32(O),O+=4),k&&(_.size=S.getUint32(O),O+=4),P&&(1===b.version?_.compositionTimeOffset=S.getInt32(O):_.compositionTimeOffset=S.getUint32(O),O+=4),b.samples.push(_),I--);I--;)_={},C&&(_.duration=S.getUint32(O),O+=4),k&&(_.size=S.getUint32(O),O+=4),x&&(_.flags=T(v.subarray(O,O+4)),O+=4),P&&(1===b.version?_.compositionTimeOffset=S.getInt32(O):_.compositionTimeOffset=S.getUint32(O),O+=4),b.samples.push(_);return b}},function(v,_){v.exports=function(v){return{"isLeading":(12&v[0])>>>2,"dependsOn":3&v[0],"isDependedOn":(192&v[1])>>>6,"hasRedundancy":(48&v[1])>>>4,"paddingValue":(14&v[1])>>>1,"isNonSyncSample":1&v[1],"degradationPriority":v[2]<<8|v[3]}}},function(v,_,b){var T=b(124).toUnsigned;v.exports=function(v){var _={"version":v[0],"flags":new Uint8Array(v.subarray(1,4)),"baseMediaDecodeTime":T(v[4]<<24|v[5]<<16|v[6]<<8|v[7])};return 1===_.version&&(_.baseMediaDecodeTime*=Math.pow(2,32),_.baseMediaDecodeTime+=T(v[8]<<24|v[9]<<16|v[10]<<8|v[11])),_}},function(v,_,b){"use strict";Object.defineProperty(_,"__esModule",{"value":!0});var T=function _interopDefault(v){return v&&"object"==typeof v&&"default"in v?v.default:v}(b(123)),S={"mp4":/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,"webm":/^(vp0?[89]|av0?1|opus|vorbis)/,"ogg":/^(vp0?[89]|theora|flac|opus|vorbis)/,"video":/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,"audio":/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,"text":/^(stpp.ttml.im1t)/,"muxerVideo":/^(avc0?1)/,"muxerAudio":/^(mp4a)/,"muxerText":/a^/},w=["video","audio","text"],E=["Video","Audio","Text"],C=function translateLegacyCodec(v){return v?v.replace(/avc1\.(\d+)\.(\d+)/i,(function(v,_,b){return"avc1."+("00"+Number(_).toString(16)).slice(-2)+"00"+("00"+Number(b).toString(16)).slice(-2)})):v},k=function translateLegacyCodecs(v){return v.map(C)},x=function parseCodecs(v){void 0===v&&(v="");var _=v.split(","),b={},T=[];return _.forEach((function(v){var _;v=v.trim(),w.forEach((function(T){var w=S[T].exec(v.toLowerCase());if(w&&!(w.length<=1)){_=T;var E=v.substring(0,w[1].length),C=v.replace(E,"");b[T]={"type":E,"details":C}}})),_||T.push(v)})),T.length&&(b.unknown=T),b},P=function isAudioCodec(v){return void 0===v&&(v=""),S.audio.test(v.trim().toLowerCase())},I=function isTextCodec(v){return void 0===v&&(v=""),S.text.test(v.trim().toLowerCase())},O=function getMimeForCodec(v){if(v&&"string"==typeof v){var _=v.toLowerCase().split(",").map((function(v){return C(v.trim())})),b="video";1===_.length&&P(_[0])?b="audio":1===_.length&&I(_[0])&&(b="application");var T="mp4";return _.every((function(v){return S.mp4.test(v)}))?T="mp4":_.every((function(v){return S.webm.test(v)}))?T="webm":_.every((function(v){return S.ogg.test(v)}))&&(T="ogg"),b+"/"+T+';codecs="'+v+'"'}};_.DEFAULT_AUDIO_CODEC="mp4a.40.2",_.DEFAULT_VIDEO_CODEC="avc1.4d400d",_.browserSupportsCodec=function browserSupportsCodec(v){return void 0===v&&(v=""),T.MediaSource&&T.MediaSource.isTypeSupported&&T.MediaSource.isTypeSupported(O(v))||!1},_.codecsFromDefault=function codecsFromDefault(v,_){if(!v.mediaGroups.AUDIO||!_)return null;var b=v.mediaGroups.AUDIO[_];if(!b)return null;for(var T in b){var S=b[T];if(S.default&&S.playlists)return x(S.playlists[0].attributes.CODECS)}return null},_.getMimeForCodec=O,_.isAudioCodec=P,_.isTextCodec=I,_.isVideoCodec=function isVideoCodec(v){return void 0===v&&(v=""),S.video.test(v.trim().toLowerCase())},_.mapLegacyAvcCodecs=function mapLegacyAvcCodecs(v){return v.replace(/avc1\.(\d+)\.(\d+)/i,(function(v){return k([v])[0]}))},_.muxerSupportsCodec=function muxerSupportsCodec(v){return void 0===v&&(v=""),v.toLowerCase().split(",").every((function(v){v=v.trim();for(var _=0;_<E.length;_++){if(S["muxer"+E[_]].test(v))return!0}return!1}))},_.parseCodecs=x,_.translateLegacyCodec=C,_.translateLegacyCodecs=k},function(v,_,b){},,function(v,_,b){"use strict";function _extends(){return(_extends=Object.assign||function(v){for(var _=1;_<arguments.length;_++){var b=arguments[_];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(v[T]=b[T])}return v}).apply(this,arguments)}b.d(_,"a",(function(){return _extends}))},function(v,_,b){var T;!function(){"use strict";var b={}.hasOwnProperty;function classNames(){for(var v=[],_=0;_<arguments.length;_++){var T=arguments[_];if(T){var S=typeof T;if("string"===S||"number"===S)v.push(T);else if(Array.isArray(T)){if(T.length){var w=classNames.apply(null,T);w&&v.push(w)}}else if("object"===S)if(T.toString===Object.prototype.toString)for(var E in T)b.call(T,E)&&T[E]&&v.push(E);else v.push(T.toString())}}return v.join(" ")}v.exports?(classNames.default=classNames,v.exports=classNames):void 0===(T=function(){return classNames}.apply(_,[]))||(v.exports=T)}()},function(v,_,b){},function(v,_,b){},,function(v,_,b){var T=b(189),S=b(190),w=b(142),E=b(191);v.exports=function _slicedToArray(v,_){return T(v)||S(v,_)||w(v,_)||E()},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _arrayWithHoles(v){if(Array.isArray(v))return v},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _iterableToArrayLimit(v,_){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(v)){var b=[],T=!0,S=!1,w=void 0;try{for(var E,C=v[Symbol.iterator]();!(T=(E=C.next()).done)&&(b.push(E.value),!_||b.length!==_);T=!0);}catch(v){S=!0,w=v}finally{try{T||null==C.return||C.return()}finally{if(S)throw w}}return b}},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _classCallCheck(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){function _defineProperties(v,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}v.exports=function _createClass(v,_,b){return _&&_defineProperties(v.prototype,_),b&&_defineProperties(v,b),v},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){var T=b(195),S=b(196),w=b(142),E=b(197);v.exports=function _toConsumableArray(v){return T(v)||S(v)||w(v)||E()},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){var T=b(143);v.exports=function _arrayWithoutHoles(v){if(Array.isArray(v))return T(v)},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _iterableToArray(v){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(v))return Array.from(v)},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_){v.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},v.exports.default=v.exports,v.exports.__esModule=!0},function(v,_,b){},function(v,_,b){},function(v,_,b){},function(v,_,b){},function(v,_,b){},function(v,_,b){},,,,function(v,_,b){"use strict";var T=b(123),S=b.n(T),w=b(130),E=b.n(w),C=b(125),k=b.n(C),x=b(126),P=b.n(x),I=(b(131),b(132),b(133)),O=b.n(I),L=b(148),D=b.n(L),N=b(149),R=b.n(N),B=b(150),j=b.n(B),U=b(152),V=b.n(U),H=b(156),W=b.n(H),q=b(134),G=b.n(q),Y=b(135),X=b.n(Y),K=b(159),Q=b.n(K),J=b(136),Z=b.n(J),ee=function(v){function LineStream(){var _;return(_=v.call(this)||this).buffer="",_}return O()(LineStream,v),LineStream.prototype.push=function push(v){var _;for(this.buffer+=v,_=this.buffer.indexOf("\n");_>-1;_=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,_)),this.buffer=this.buffer.substring(_+1)},LineStream}(Q.a),te=function parseAttributes(v){for(var _,b=v.split(function attributeSeparator(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')}()),T={},S=b.length;S--;)""!==b[S]&&((_=/([^=]*)=(.*)/.exec(b[S]).slice(1))[0]=_[0].replace(/^\s+|\s+$/g,""),_[1]=_[1].replace(/^\s+|\s+$/g,""),_[1]=_[1].replace(/^['"](.*)['"]$/g,"$1"),T[_[0]]=_[1]);return T},ne=function(v){function ParseStream(){var _;return(_=v.call(this)||this).customParsers=[],_.tagMappers=[],_}O()(ParseStream,v);var _=ParseStream.prototype;return _.push=function push(v){var _,b,T=this;0!==(v=v.trim()).length&&("#"===v[0]?this.tagMappers.reduce((function(_,b){var T=b(v);return T===v?_:_.concat([T])}),[v]).forEach((function(v){for(var S=0;S<T.customParsers.length;S++)if(T.customParsers[S].call(T,v))return;if(0===v.indexOf("#EXT"))if(v=v.replace("\r",""),_=/^#EXTM3U/.exec(v))T.trigger("data",{"type":"tag","tagType":"m3u"});else{if(_=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(v))return b={"type":"tag","tagType":"inf"},_[1]&&(b.duration=parseFloat(_[1])),_[2]&&(b.title=_[2]),void T.trigger("data",b);if(_=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(v))return b={"type":"tag","tagType":"targetduration"},_[1]&&(b.duration=parseInt(_[1],10)),void T.trigger("data",b);if(_=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(v))return b={"type":"tag","tagType":"totalduration"},_[1]&&(b.duration=parseInt(_[1],10)),void T.trigger("data",b);if(_=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(v))return b={"type":"tag","tagType":"version"},_[1]&&(b.version=parseInt(_[1],10)),void T.trigger("data",b);if(_=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(v))return b={"type":"tag","tagType":"media-sequence"},_[1]&&(b.number=parseInt(_[1],10)),void T.trigger("data",b);if(_=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(v))return b={"type":"tag","tagType":"discontinuity-sequence"},_[1]&&(b.number=parseInt(_[1],10)),void T.trigger("data",b);if(_=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(v))return b={"type":"tag","tagType":"playlist-type"},_[1]&&(b.playlistType=_[1]),void T.trigger("data",b);if(_=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(v))return b={"type":"tag","tagType":"byterange"},_[1]&&(b.length=parseInt(_[1],10)),_[2]&&(b.offset=parseInt(_[2],10)),void T.trigger("data",b);if(_=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(v))return b={"type":"tag","tagType":"allow-cache"},_[1]&&(b.allowed=!/NO/.test(_[1])),void T.trigger("data",b);if(_=/^#EXT-X-MAP:?(.*)$/.exec(v)){if(b={"type":"tag","tagType":"map"},_[1]){var w=te(_[1]);if(w.URI&&(b.uri=w.URI),w.BYTERANGE){var E=w.BYTERANGE.split("@"),C=E[0],k=E[1];b.byterange={},C&&(b.byterange.length=parseInt(C,10)),k&&(b.byterange.offset=parseInt(k,10))}}T.trigger("data",b)}else if(_=/^#EXT-X-STREAM-INF:?(.*)$/.exec(v)){if(b={"type":"tag","tagType":"stream-inf"},_[1]){if(b.attributes=te(_[1]),b.attributes.RESOLUTION){var x=b.attributes.RESOLUTION.split("x"),P={};x[0]&&(P.width=parseInt(x[0],10)),x[1]&&(P.height=parseInt(x[1],10)),b.attributes.RESOLUTION=P}b.attributes.BANDWIDTH&&(b.attributes.BANDWIDTH=parseInt(b.attributes.BANDWIDTH,10)),b.attributes["PROGRAM-ID"]&&(b.attributes["PROGRAM-ID"]=parseInt(b.attributes["PROGRAM-ID"],10))}T.trigger("data",b)}else{if(_=/^#EXT-X-MEDIA:?(.*)$/.exec(v))return b={"type":"tag","tagType":"media"},_[1]&&(b.attributes=te(_[1])),void T.trigger("data",b);if(_=/^#EXT-X-ENDLIST/.exec(v))T.trigger("data",{"type":"tag","tagType":"endlist"});else if(_=/^#EXT-X-DISCONTINUITY/.exec(v))T.trigger("data",{"type":"tag","tagType":"discontinuity"});else{if(_=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(v))return b={"type":"tag","tagType":"program-date-time"},_[1]&&(b.dateTimeString=_[1],b.dateTimeObject=new Date(_[1])),void T.trigger("data",b);if(_=/^#EXT-X-KEY:?(.*)$/.exec(v))return b={"type":"tag","tagType":"key"},_[1]&&(b.attributes=te(_[1]),b.attributes.IV&&("0x"===b.attributes.IV.substring(0,2).toLowerCase()&&(b.attributes.IV=b.attributes.IV.substring(2)),b.attributes.IV=b.attributes.IV.match(/.{8}/g),b.attributes.IV[0]=parseInt(b.attributes.IV[0],16),b.attributes.IV[1]=parseInt(b.attributes.IV[1],16),b.attributes.IV[2]=parseInt(b.attributes.IV[2],16),b.attributes.IV[3]=parseInt(b.attributes.IV[3],16),b.attributes.IV=new Uint32Array(b.attributes.IV))),void T.trigger("data",b);if(_=/^#EXT-X-START:?(.*)$/.exec(v))return b={"type":"tag","tagType":"start"},_[1]&&(b.attributes=te(_[1]),b.attributes["TIME-OFFSET"]=parseFloat(b.attributes["TIME-OFFSET"]),b.attributes.PRECISE=/YES/.test(b.attributes.PRECISE)),void T.trigger("data",b);if(_=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(v))return b={"type":"tag","tagType":"cue-out-cont"},_[1]?b.data=_[1]:b.data="",void T.trigger("data",b);if(_=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(v))return b={"type":"tag","tagType":"cue-out"},_[1]?b.data=_[1]:b.data="",void T.trigger("data",b);if(_=/^#EXT-X-CUE-IN:?(.*)?$/.exec(v))return b={"type":"tag","tagType":"cue-in"},_[1]?b.data=_[1]:b.data="",void T.trigger("data",b);T.trigger("data",{"type":"tag","data":v.slice(4)})}}}else T.trigger("data",{"type":"comment","text":v.slice(1)})})):this.trigger("data",{"type":"uri","uri":v}))},_.addParser=function addParser(v){var _=this,b=v.expression,T=v.customType,S=v.dataParser,w=v.segment;"function"!=typeof S&&(S=function dataParser(v){return v}),this.customParsers.push((function(v){if(b.exec(v))return _.trigger("data",{"type":"custom","data":S(v),"customType":T,"segment":w}),!0}))},_.addTagMapper=function addTagMapper(v){var _=v.expression,b=v.map;this.tagMappers.push((function mapFn(v){return _.test(v)?b(v):v}))},ParseStream}(Q.a),oe=function(v){function Parser(){var _;(_=v.call(this)||this).lineStream=new ee,_.parseStream=new ne,_.lineStream.pipe(_.parseStream);var b,T,S=P()(_),w=[],E={},C=function noop(){},x={"AUDIO":{},"VIDEO":{},"CLOSED-CAPTIONS":{},"SUBTITLES":{}},I=0;_.manifest={"allowCache":!0,"discontinuityStarts":[],"segments":[]};var O=0;return _.parseStream.on("data",(function(v){var _,P;({"tag":function tag(){({"allow-cache":function allowCache(){this.manifest.allowCache=v.allowed,"allowed"in v||(this.trigger("info",{"message":"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},"byterange":function byterange(){var byterange={};"length"in v&&(E.byterange=byterange,byterange.length=v.length,"offset"in v||(v.offset=O)),"offset"in v&&(E.byterange=byterange,byterange.offset=v.offset),O=byterange.offset+byterange.length},"endlist":function endlist(){this.manifest.endList=!0},"inf":function inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{"message":"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{"message":"defaulting discontinuity sequence to zero"})),v.duration>0&&(E.duration=v.duration),0===v.duration&&(E.duration=.01,this.trigger("info",{"message":"updating zero segment duration to a small value"})),this.manifest.segments=w},"key":function key(){if(v.attributes)if("NONE"!==v.attributes.METHOD)if(v.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===v.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(v.attributes.METHOD)?void this.trigger("warn",{"message":"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===v.attributes.METHOD&&this.trigger("warn",{"message":"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==v.attributes.URI.substring(0,23)?void this.trigger("warn",{"message":"invalid key URI provided for Widevine"}):v.attributes.KEYID&&"0x"===v.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{"attributes":{"schemeIdUri":v.attributes.KEYFORMAT,"keyId":v.attributes.KEYID.substring(2)},"pssh":Z()(v.attributes.URI.split(",")[1])}}):void this.trigger("warn",{"message":"invalid key ID provided for Widevine"}))}v.attributes.METHOD||this.trigger("warn",{"message":"defaulting key method to AES-128"}),T={"method":v.attributes.METHOD||"AES-128","uri":v.attributes.URI},void 0!==v.attributes.IV&&(T.iv=v.attributes.IV)}else this.trigger("warn",{"message":"ignoring key declaration without URI"});else T=null;else this.trigger("warn",{"message":"ignoring key declaration without attribute list"})},"media-sequence":function mediaSequence(){isFinite(v.number)?this.manifest.mediaSequence=v.number:this.trigger("warn",{"message":"ignoring invalid media sequence: "+v.number})},"discontinuity-sequence":function discontinuitySequence(){isFinite(v.number)?(this.manifest.discontinuitySequence=v.number,I=v.number):this.trigger("warn",{"message":"ignoring invalid discontinuity sequence: "+v.number})},"playlist-type":function playlistType(){/VOD|EVENT/.test(v.playlistType)?this.manifest.playlistType=v.playlistType:this.trigger("warn",{"message":"ignoring unknown playlist type: "+v.playlist})},"map":function map(){b={},v.uri&&(b.uri=v.uri),v.byterange&&(b.byterange=v.byterange)},"stream-inf":function streamInf(){this.manifest.playlists=w,this.manifest.mediaGroups=this.manifest.mediaGroups||x,v.attributes?(E.attributes||(E.attributes={}),k()(E.attributes,v.attributes)):this.trigger("warn",{"message":"ignoring empty stream-inf attributes"})},"media":function media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||x,v.attributes&&v.attributes.TYPE&&v.attributes["GROUP-ID"]&&v.attributes.NAME){var b=this.manifest.mediaGroups[v.attributes.TYPE];b[v.attributes["GROUP-ID"]]=b[v.attributes["GROUP-ID"]]||{},_=b[v.attributes["GROUP-ID"]],(P={"default":/yes/i.test(v.attributes.DEFAULT)}).default?P.autoselect=!0:P.autoselect=/yes/i.test(v.attributes.AUTOSELECT),v.attributes.LANGUAGE&&(P.language=v.attributes.LANGUAGE),v.attributes.URI&&(P.uri=v.attributes.URI),v.attributes["INSTREAM-ID"]&&(P.instreamId=v.attributes["INSTREAM-ID"]),v.attributes.CHARACTERISTICS&&(P.characteristics=v.attributes.CHARACTERISTICS),v.attributes.FORCED&&(P.forced=/yes/i.test(v.attributes.FORCED)),_[v.attributes.NAME]=P}else this.trigger("warn",{"message":"ignoring incomplete or missing media group"})},"discontinuity":function discontinuity(){I+=1,E.discontinuity=!0,this.manifest.discontinuityStarts.push(w.length)},"program-date-time":function programDateTime(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=v.dateTimeString,this.manifest.dateTimeObject=v.dateTimeObject),E.dateTimeString=v.dateTimeString,E.dateTimeObject=v.dateTimeObject},"targetduration":function targetduration(){!isFinite(v.duration)||v.duration<0?this.trigger("warn",{"message":"ignoring invalid target duration: "+v.duration}):this.manifest.targetDuration=v.duration},"totalduration":function totalduration(){!isFinite(v.duration)||v.duration<0?this.trigger("warn",{"message":"ignoring invalid total duration: "+v.duration}):this.manifest.totalDuration=v.duration},"start":function start(){v.attributes&&!isNaN(v.attributes["TIME-OFFSET"])?this.manifest.start={"timeOffset":v.attributes["TIME-OFFSET"],"precise":v.attributes.PRECISE}:this.trigger("warn",{"message":"ignoring start declaration without appropriate attribute list"})},"cue-out":function cueOut(){E.cueOut=v.data},"cue-out-cont":function cueOutCont(){E.cueOutCont=v.data},"cue-in":function cueIn(){E.cueIn=v.data}}[v.tagType]||C).call(S)},"uri":function uri(){E.uri=v.uri,w.push(E),this.manifest.targetDuration&&!("duration"in E)&&(this.trigger("warn",{"message":"defaulting segment duration to the target duration"}),E.duration=this.manifest.targetDuration),T&&(E.key=T),E.timeline=I,b&&(E.map=b),E={}},"comment":function comment(){},"custom":function custom(){v.segment?(E.custom=E.custom||{},E.custom[v.customType]=v.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[v.customType]=v.data)}})[v.type].call(S)})),_}O()(Parser,v);var _=Parser.prototype;return _.push=function push(v){this.lineStream.push(v)},_.end=function end(){this.lineStream.push("\n")},_.addParser=function addParser(v){this.parseStream.addParser(v)},_.addTagMapper=function addTagMapper(v){this.parseStream.addTagMapper(v)},Parser}(Q.a),an=b(163),sn=b(164),cn=function isObject(v){return!!v&&"object"==typeof v},un=function merge(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];return _.reduce((function(v,_){return"object"!=typeof _||Object.keys(_).forEach((function(b){Array.isArray(v[b])&&Array.isArray(_[b])?v[b]=v[b].concat(_[b]):cn(v[b])&&cn(_[b])?v[b]=merge(v[b],_[b]):v[b]=_[b]})),v}),{})},dn=function flatten(v){return v.reduce((function(v,_){return v.concat(_)}),[])},hn=function from(v){if(!v.length)return[];for(var _=[],b=0;b<v.length;b++)_.push(v[b]);return _},pn="INVALID_NUMBER_OF_PERIOD",mn="DASH_EMPTY_MANIFEST",gn="DASH_INVALID_XML",vn="NO_BASE_URL",yn="SEGMENT_TIME_UNSPECIFIED",bn="UNSUPPORTED_UTC_TIMING_SCHEME",Tn=function urlTypeToSegment(v){var _=v.baseUrl,b=void 0===_?"":_,T=v.source,S=void 0===T?"":T,w=v.range,E=void 0===w?"":w,C=v.indexRange,k=void 0===C?"":C,x={"uri":S,"resolvedUri":X()(b||"",S)};if(E||k){var P=(E||k).split("-"),I=parseInt(P[0],10),O=parseInt(P[1],10);x.byterange={"length":O-I+1,"offset":I}}return x},Sn=function byteRangeToString(v){var _=v.offset+v.length-1;return v.offset+"-"+_},wn={"static":function _static(v){var _=v.duration,b=v.timescale,T=void 0===b?1:b,S=v.sourceDuration;return{"start":0,"end":Math.ceil(S/(_/T))}},"dynamic":function dynamic(v){var _=v.NOW,b=v.clientOffset,T=v.availabilityStartTime,S=v.timescale,w=void 0===S?1:S,E=v.duration,C=v.start,k=void 0===C?0:C,x=v.minimumUpdatePeriod,P=void 0===x?0:x,I=v.timeShiftBufferDepth,O=void 0===I?1/0:I,L=(_+b)/1e3,D=T+k,N=L+P-D,R=Math.ceil(N*w/E),B=Math.floor((L-D-O)*w/E),j=Math.floor((L-D)*w/E);return{"start":Math.max(0,B),"end":Math.min(R,j)}}},En=function parseByDuration(v){var _=v.type,b=void 0===_?"static":_,T=v.duration,S=v.timescale,w=void 0===S?1:S,E=v.sourceDuration,C=wn[b](v),k=function range(v,_){for(var b=[],T=v;T<_;T++)b.push(T);return b}(C.start,C.end).map(function toSegments(v){return function(_,b){var T=v.duration,S=v.timescale,w=void 0===S?1:S,E=v.periodIndex,C=v.startNumber;return{"number":(void 0===C?1:C)+_,"duration":T/w,"timeline":E,"time":b*T}}}(v));if("static"===b){var x=k.length-1;k[x].duration=E-T/w*x}return k},Cn=function segmentsFromBase(v){var _=v.baseUrl,b=v.initialization,T=void 0===b?{}:b,S=v.sourceDuration,w=v.indexRange,E=void 0===w?"":w,C=v.duration;if(!_)throw new Error(vn);var k=Tn({"baseUrl":_,"source":T.sourceURL,"range":T.range}),x=Tn({"baseUrl":_,"source":_,"indexRange":E});if(x.map=k,C){var P=En(v);P.length&&(x.duration=P[0].duration,x.timeline=P[0].timeline)}else S&&(x.duration=S,x.timeline=0);return x.number=0,[x]},kn=function addSegmentsToPlaylist(v,_,b){for(var T=v.sidx.map?v.sidx.map:null,S=v.sidx.duration,w=v.timeline||0,E=v.sidx.byterange,C=E.offset+E.length,k=_.timescale,x=_.references.filter((function(v){return 1!==v.referenceType})),P=[],I=C+_.firstOffset,O=0;O<x.length;O++){var L=_.references[O],D=L.referencedSize,N=L.subsegmentDuration,R=Cn({"baseUrl":b,"timescale":k,"timeline":w,"periodIndex":w,"duration":N,"sourceDuration":S,"indexRange":I+"-"+(I+D-1)})[0];T&&(R.map=T),P.push(R),I+=D}return v.segments=P,v},xn=function mergeDiscontiguousPlaylists(v){return function values(v){return Object.keys(v).map((function(_){return v[_]}))}(v.reduce((function(v,_){var b,T=_.attributes.id+(_.attributes.lang||"");v[T]?(_.segments[0]&&(_.segments[0].discontinuity=!0),(b=v[T].segments).push.apply(b,_.segments),_.attributes.contentProtection&&(v[T].attributes.contentProtection=_.attributes.contentProtection)):v[T]=_;return v}),{})).map((function(v){return v.discontinuityStarts=function findIndexes(v,_){return v.reduce((function(v,b,T){return b[_]&&v.push(T),v}),[])}(v.segments,"discontinuity"),v}))},An=function addSegmentInfoFromSidx(v,_){if(void 0===_&&(_={}),!Object.keys(_).length)return v;for(var b in v){var T=v[b];if(T.sidx){var S=T.sidx.uri+"-"+Sn(T.sidx.byterange),w=_[S]&&_[S].sidx;T.sidx&&w&&kn(T,w,T.sidx.resolvedUri)}}return v},Pn=function formatAudioPlaylist(v){var _,b=v.attributes,T=v.segments,S=v.sidx,w={"attributes":(_={"NAME":b.id,"BANDWIDTH":b.bandwidth,"CODECS":b.codecs},_["PROGRAM-ID"]=1,_),"uri":"","endList":"static"===(b.type||"static"),"timeline":b.periodIndex,"resolvedUri":"","targetDuration":b.duration,"segments":T,"mediaSequence":T.length?T[0].number:1};return b.contentProtection&&(w.contentProtection=b.contentProtection),S&&(w.sidx=S),w},In=function formatVttPlaylist(v){var _,b=v.attributes,T=v.segments;void 0===T&&(T=[{"uri":b.baseUrl,"timeline":b.periodIndex,"resolvedUri":b.baseUrl||"","duration":b.sourceDuration,"number":0}],b.duration=b.sourceDuration);var S=((_={"NAME":b.id,"BANDWIDTH":b.bandwidth})["PROGRAM-ID"]=1,_);return b.codecs&&(S.CODECS=b.codecs),{"attributes":S,"uri":"","endList":"static"===(b.type||"static"),"timeline":b.periodIndex,"resolvedUri":b.baseUrl||"","targetDuration":b.duration,"segments":T,"mediaSequence":T.length?T[0].number:1}},On=function formatVideoPlaylist(v){var _,b=v.attributes,T=v.segments,S=v.sidx,w={"attributes":(_={"NAME":b.id,"AUDIO":"audio","SUBTITLES":"subs","RESOLUTION":{"width":b.width,"height":b.height},"CODECS":b.codecs,"BANDWIDTH":b.bandwidth},_["PROGRAM-ID"]=1,_),"uri":"","endList":"static"===(b.type||"static"),"timeline":b.periodIndex,"resolvedUri":"","targetDuration":b.duration,"segments":T,"mediaSequence":T.length?T[0].number:1};return b.contentProtection&&(w.contentProtection=b.contentProtection),S&&(w.sidx=S),w},Ln=function toM3u8(v,_,b){var T;if(void 0===b&&(b={}),!v.length)return{};var S=v[0].attributes,w=S.sourceDuration,E=S.type,C=void 0===E?"static":E,k=S.suggestedPresentationDelay,x=S.minimumUpdatePeriod,P=xn(v.filter((function videoOnly(v){var _=v.attributes;return"video/mp4"===_.mimeType||"video/webm"===_.mimeType||"video"===_.contentType}))).map(On),I=xn(v.filter((function audioOnly(v){var _=v.attributes;return"audio/mp4"===_.mimeType||"audio/webm"===_.mimeType||"audio"===_.contentType}))),O=v.filter((function vttOnly(v){var _=v.attributes;return"text/vtt"===_.mimeType||"text"===_.contentType})),L={"allowCache":!0,"discontinuityStarts":[],"segments":[],"endList":!0,"mediaGroups":(T={"AUDIO":{},"VIDEO":{}},T["CLOSED-CAPTIONS"]={},T.SUBTITLES={},T),"uri":"","duration":w,"playlists":An(P,b)};return x>=0&&(L.minimumUpdatePeriod=1e3*x),_&&(L.locations=_),"dynamic"===C&&(L.suggestedPresentationDelay=k),I.length&&(L.mediaGroups.AUDIO.audio=function organizeAudioPlaylists(v,_){var b;void 0===_&&(_={});var T=v.reduce((function(v,T){var S=T.attributes.role&&T.attributes.role.value||"",w=T.attributes.lang||"",E="main";if(w){var C=S?" ("+S+")":"";E=""+T.attributes.lang+C}return v[E]&&v[E].playlists[0].attributes.BANDWIDTH>T.attributes.bandwidth||(v[E]={"language":w,"autoselect":!0,"default":"main"===S,"playlists":An([Pn(T)],_),"uri":""},void 0===b&&"main"===S&&((b=T).default=!0)),v}),{});b||(T[Object.keys(T)[0]].default=!0);return T}(I,b)),O.length&&(L.mediaGroups.SUBTITLES.subs=function organizeVttPlaylists(v,_){return void 0===_&&(_={}),v.reduce((function(v,b){var T=b.attributes.lang||"text";return v[T]||(v[T]={"language":T,"default":!1,"autoselect":!1,"playlists":An([In(b)],_),"uri":""}),v}),{})}(O,b)),L},Mn=function getLiveRValue(v,_,b){var T=v.NOW,S=v.clientOffset,w=v.availabilityStartTime,E=v.timescale,C=void 0===E?1:E,k=v.start,x=void 0===k?0:k,P=v.minimumUpdatePeriod,I=(T+S)/1e3+(void 0===P?0:P)-(w+x);return Math.ceil((I*C-_)/b)},Dn=function parseByTimeline(v,_){for(var b=v.type,T=void 0===b?"static":b,S=v.minimumUpdatePeriod,w=void 0===S?0:S,E=v.media,C=void 0===E?"":E,k=v.sourceDuration,x=v.timescale,P=void 0===x?1:x,I=v.startNumber,O=void 0===I?1:I,L=v.periodIndex,D=[],N=-1,R=0;R<_.length;R++){var B=_[R],j=B.d,U=B.r||0,V=B.t||0;N<0&&(N=V),V&&V>N&&(N=V);var H=void 0;if(U<0){var W=R+1;H=W===_.length?"dynamic"===T&&w>0&&C.indexOf("$Number$")>0?Mn(v,N,j):(k*P-N)/j:(_[W].t-N)/j}else H=U+1;for(var q=O+D.length+H,G=O+D.length;G<q;)D.push({"number":G,"duration":j/P,"time":N,"timeline":L}),N+=j,G++}return D},Nn=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Rn=function constructTemplateUrl(v,_){return v.replace(Nn,function identifierReplacement(v){return function(_,b,T,S){if("$$"===_)return"$";if(void 0===v[b])return _;var w=""+v[b];return"RepresentationID"===b?w:(S=T?parseInt(S,10):1,w.length>=S?w:""+new Array(S-w.length+1).join("0")+w)}}(_))},Bn=function segmentsFromTemplate(v,_){var b={"RepresentationID":v.id,"Bandwidth":v.bandwidth||0},T=v.initialization,S=void 0===T?{"sourceURL":"","range":""}:T,w=Tn({"baseUrl":v.baseUrl,"source":Rn(S.sourceURL,b),"range":S.range});return function parseTemplateInfo(v,_){return v.duration||_?v.duration?En(v):Dn(v,_):[{"number":v.startNumber||1,"duration":v.sourceDuration,"time":0,"timeline":v.periodIndex}]}(v,_).map((function(_){b.Number=_.number,b.Time=_.time;var T=Rn(v.media||"",b);return{"uri":T,"timeline":_.timeline,"duration":_.duration,"resolvedUri":X()(v.baseUrl||"",T),"map":w,"number":_.number}}))},jn=function segmentsFromList(v,_){var b=v.duration,T=v.segmentUrls,S=void 0===T?[]:T;if(!b&&!_||b&&_)throw new Error(yn);var w,E=S.map((function(_){return function SegmentURLToSegmentObject(v,_){var b=v.baseUrl,T=v.initialization,S=void 0===T?{}:T,w=Tn({"baseUrl":b,"source":S.sourceURL,"range":S.range}),E=Tn({"baseUrl":b,"source":_.media,"range":_.mediaRange});return E.map=w,E}(v,_)}));return b&&(w=En(v)),_&&(w=Dn(v,_)),w.map((function(v,_){if(E[_]){var b=E[_];return b.timeline=v.timeline,b.duration=v.duration,b.number=v.number,b}})).filter((function(v){return v}))},Vn=function generateSegments(v){var _,b,T=v.attributes,S=v.segmentInfo;S.template?(b=Bn,_=un(T,S.template)):S.base?(b=Cn,_=un(T,S.base)):S.list&&(b=jn,_=un(T,S.list));var w={"attributes":T};if(!b)return w;var E=b(_,S.timeline);if(_.duration){var C=_,k=C.duration,x=C.timescale,P=void 0===x?1:x;_.duration=k/P}else E.length?_.duration=E.reduce((function(v,_){return Math.max(v,Math.ceil(_.duration))}),0):_.duration=0;return w.attributes=_,w.segments=E,S.base&&_.indexRange&&(w.sidx=E[0],w.segments=[]),w},Hn=function findChildren(v,_){return hn(v.childNodes).filter((function(v){return v.tagName===_}))},Wn=function getContent(v){return v.textContent.trim()},zn=function parseDuration(v){var _=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(v);if(!_)return 0;var b=_.slice(1),T=b[0],S=b[1],w=b[2],E=b[3],C=b[4],k=b[5];return 31536e3*parseFloat(T||0)+2592e3*parseFloat(S||0)+86400*parseFloat(w||0)+3600*parseFloat(E||0)+60*parseFloat(C||0)+parseFloat(k||0)},Yn={"mediaPresentationDuration":function mediaPresentationDuration(v){return zn(v)},"availabilityStartTime":function availabilityStartTime(v){return function parseDate(v){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(v)&&(v+="Z"),Date.parse(v)}(v)/1e3},"minimumUpdatePeriod":function minimumUpdatePeriod(v){return zn(v)},"suggestedPresentationDelay":function suggestedPresentationDelay(v){return zn(v)},"type":function type(v){return v},"timeShiftBufferDepth":function timeShiftBufferDepth(v){return zn(v)},"start":function start(v){return zn(v)},"width":function width(v){return parseInt(v,10)},"height":function height(v){return parseInt(v,10)},"bandwidth":function bandwidth(v){return parseInt(v,10)},"startNumber":function startNumber(v){return parseInt(v,10)},"timescale":function timescale(v){return parseInt(v,10)},"duration":function duration(v){var _=parseInt(v,10);return isNaN(_)?zn(v):_},"d":function d(v){return parseInt(v,10)},"t":function t(v){return parseInt(v,10)},"r":function r(v){return parseInt(v,10)},"DEFAULT":function DEFAULT(v){return v}},Zn=function parseAttributes(v){return v&&v.attributes?hn(v.attributes).reduce((function(v,_){var b=Yn[_.name]||Yn.DEFAULT;return v[_.name]=b(_.value),v}),{}):{}},ei={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},ti=function buildBaseUrls(v,_){return _.length?dn(v.map((function(v){return _.map((function(_){return X()(v,Wn(_))}))}))):v},ni=function getSegmentInformation(v){var _=Hn(v,"SegmentTemplate")[0],b=Hn(v,"SegmentList")[0],T=b&&Hn(b,"SegmentURL").map((function(v){return un({"tag":"SegmentURL"},Zn(v))})),S=Hn(v,"SegmentBase")[0],w=b||_,E=w&&Hn(w,"SegmentTimeline")[0],C=b||S||_,k=C&&Hn(C,"Initialization")[0],x=_&&Zn(_);x&&k?x.initialization=k&&Zn(k):x&&x.initialization&&(x.initialization={"sourceURL":x.initialization});var P={"template":x,"timeline":E&&Hn(E,"S").map((function(v){return Zn(v)})),"list":b&&un(Zn(b),{"segmentUrls":T,"initialization":Zn(k)}),"base":S&&un(Zn(S),{"initialization":Zn(k)})};return Object.keys(P).forEach((function(v){P[v]||delete P[v]})),P},ii=function toRepresentations(v,_,b){return function(T){var S=Zn(T),w=ti(_,Hn(T,"BaseURL")),E=Hn(T,"Role")[0],C={"role":Zn(E)},k=un(v,S,C),x=function generateKeySystemInformation(v){return v.reduce((function(v,_){var b=Zn(_),T=ei[b.schemeIdUri];if(T){v[T]={"attributes":b};var S=Hn(_,"cenc:pssh")[0];if(S){var w=Wn(S),E=w&&Z()(w);v[T].pssh=E}}return v}),{})}(Hn(T,"ContentProtection"));Object.keys(x).length&&(k=un(k,{"contentProtection":x}));var P=ni(T),I=Hn(T,"Representation"),O=un(b,P);return dn(I.map(function inheritBaseUrls(v,_,b){return function(T){var S=Hn(T,"BaseURL"),w=ti(_,S),E=un(v,Zn(T)),C=ni(T);return w.map((function(v){return{"segmentInfo":un(b,C),"attributes":un(E,{"baseUrl":v})}}))}}(k,w,O)))}},ri=function toAdaptationSets(v,_){return function(b,T){var w=ti(_,Hn(b,"BaseURL")),E=Zn(b),C=parseInt(E.id,10),k=S.a.isNaN(C)?T:C,x=un(v,{"periodIndex":k}),P=Hn(b,"AdaptationSet"),I=ni(b);return dn(P.map(ii(x,w,I)))}},ai=function stringToMpdXml(v){if(""===v)throw new Error(mn);var _,b,T=new sn.DOMParser;try{b=(_=T.parseFromString(v,"application/xml"))&&"MPD"===_.documentElement.tagName?_.documentElement:null}catch(v){}if(!b||b&&b.getElementsByTagName("parsererror").length>0)throw new Error(gn);return b},oi=function parse(v,_){void 0===_&&(_={});var b=function inheritAttributes(v,_){void 0===_&&(_={});var b=_,T=b.manifestUri,S=void 0===T?"":T,w=b.NOW,E=void 0===w?Date.now():w,C=b.clientOffset,k=void 0===C?0:C,x=Hn(v,"Period");if(!x.length)throw new Error(pn);var P=Hn(v,"Location"),I=Zn(v),O=ti([S],Hn(v,"BaseURL"));return I.sourceDuration=I.mediaPresentationDuration||0,I.NOW=E,I.clientOffset=k,P.length&&(I.locations=P.map(Wn)),{"locations":I.locations,"representationInfo":dn(x.map(ri(I,O)))}}(ai(v),_),T=function toPlaylists(v){return v.map(Vn)}(b.representationInfo);return Ln(T,b.locations,_.sidxMapping)},si=function parseUTCTiming(v){return function parseUTCTimingScheme(v){var _=Hn(v,"UTCTiming")[0];if(!_)return null;var b=Zn(_);switch(b.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":b.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":b.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":b.method="DIRECT",b.value=Date.parse(b.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(bn)}return b}(ai(v))},li=kn,ci=b(166),ui=b.n(ci),di=b(167),hi=b(168),pi=b(169),fi=b.n(pi),mi=b(139),gi=b(174),vi=b.n(gi),yi=b(180),_i=[];var bi=function createLogger(v){var _,b="info",T=function log(){for(var v=arguments.length,T=new Array(v),S=0;S<v;S++)T[S]=arguments[S];_("log",b,T)};return _=function LogByTypeFactory(v,_){return function(b,T,w){var E=_.levels[T],C=new RegExp("^("+E+")$");if("log"!==b&&w.unshift(b.toUpperCase()+":"),w.unshift(v+":"),_i){_i.push([].concat(w));var k=_i.length-1e3;_i.splice(0,k>0?k:0)}if(S.a.console){var x=S.a.console[b];x||"debug"!==b||(x=S.a.console.info||S.a.console.log),x&&E&&C.test(b)&&x[Array.isArray(w)?"apply":"call"](S.a.console,w)}}}(v,T),T.createLogger=function(_){return createLogger(v+": "+_)},T.levels={"all":"debug|log|warn|error","off":"","debug":"debug|log|warn|error","info":"log|warn|error","warn":"warn|error","error":"error","DEFAULT":b},T.level=function(v){if("string"==typeof v){if(!T.levels.hasOwnProperty(v))throw new Error('"'+v+'" in not a valid log level');b=v}return b},(T.history=function(){return _i?[].concat(_i):[]}).filter=function(v){return(_i||[]).filter((function(_){return new RegExp(".*"+v+".*").test(_[0])}))},T.history.clear=function(){_i&&(_i.length=0)},T.history.disable=function(){null!==_i&&(_i.length=0,_i=null)},T.history.enable=function(){null===_i&&(_i=[])},T.error=function(){for(var v=arguments.length,T=new Array(v),S=0;S<v;S++)T[S]=arguments[S];return _("error",b,T)},T.warn=function(){for(var v=arguments.length,T=new Array(v),S=0;S<v;S++)T[S]=arguments[S];return _("warn",b,T)},T.debug=function(){for(var v=arguments.length,T=new Array(v),S=0;S<v;S++)T[S]=arguments[S];return _("debug",b,T)},T}("VIDEOJS"),Ti=bi.createLogger,Si=Object.prototype.toString,wi=function keys(v){return video_es_isObject(v)?Object.keys(v):[]};function each(v,_){wi(v).forEach((function(b){return _(v[b],b)}))}function video_es_assign(v){for(var _=arguments.length,b=new Array(_>1?_-1:0),T=1;T<_;T++)b[T-1]=arguments[T];return Object.assign?k.a.apply(void 0,[v].concat(b)):(b.forEach((function(_){_&&each(_,(function(_,b){v[b]=_}))})),v)}function video_es_isObject(v){return!!v&&"object"==typeof v}function isPlain(v){return video_es_isObject(v)&&"[object Object]"===Si.call(v)&&v.constructor===Object}function computedStyle(v,_){if(!v||!_)return"";if("function"==typeof S.a.getComputedStyle){var b=S.a.getComputedStyle(v);return b?b.getPropertyValue(_)||b[_]:""}return""}function isNonBlankString(v){return"string"==typeof v&&Boolean(v.trim())}function throwIfWhitespace(v){if(v.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function isReal(){return E.a===S.a.document}function isEl(v){return video_es_isObject(v)&&1===v.nodeType}function isInFrame(){try{return S.a.parent!==S.a.self}catch(v){return!0}}function createQuerier(v){return function(_,b){if(!isNonBlankString(_))return E.a[v](null);isNonBlankString(b)&&(b=E.a.querySelector(b));var T=isEl(b)?b:E.a;return T[v]&&T[v](_)}}function video_es_createEl(v,_,b,T){void 0===v&&(v="div"),void 0===_&&(_={}),void 0===b&&(b={});var S=E.a.createElement(v);return Object.getOwnPropertyNames(_).forEach((function(v){var b=_[v];-1!==v.indexOf("aria-")||"role"===v||"type"===v?(bi.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+v+" to "+b+"."),S.setAttribute(v,b)):"textContent"===v?textContent(S,b):S[v]===b&&"tabIndex"!==v||(S[v]=b)})),Object.getOwnPropertyNames(b).forEach((function(v){S.setAttribute(v,b[v])})),T&&appendContent(S,T),S}function textContent(v,_){return void 0===v.textContent?v.innerText=_:v.textContent=_,v}function prependTo(v,_){_.firstChild?_.insertBefore(v,_.firstChild):_.appendChild(v)}function hasClass(v,_){return throwIfWhitespace(_),v.classList?v.classList.contains(_):function classRegExp(v){return new RegExp("(^|\\s)"+v+"($|\\s)")}(_).test(v.className)}function addClass(v,_){return v.classList?v.classList.add(_):hasClass(v,_)||(v.className=(v.className+" "+_).trim()),v}function removeClass(v,_){return v.classList?v.classList.remove(_):(throwIfWhitespace(_),v.className=v.className.split(/\s+/).filter((function(v){return v!==_})).join(" ")),v}function toggleClass(v,_,b){var T=hasClass(v,_);if("function"==typeof b&&(b=b(v,_)),"boolean"!=typeof b&&(b=!T),b!==T)return b?addClass(v,_):removeClass(v,_),v}function setAttributes(v,_){Object.getOwnPropertyNames(_).forEach((function(b){var T=_[b];null==T||!1===T?v.removeAttribute(b):v.setAttribute(b,!0===T?"":T)}))}function getAttributes(v){var _={},b=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(v&&v.attributes&&v.attributes.length>0)for(var T=v.attributes,S=T.length-1;S>=0;S--){var w=T[S].name,E=T[S].value;"boolean"!=typeof v[w]&&-1===b.indexOf(","+w+",")||(E=null!==E),_[w]=E}return _}function getAttribute(v,_){return v.getAttribute(_)}function setAttribute(v,_,b){v.setAttribute(_,b)}function removeAttribute(v,_){v.removeAttribute(_)}function blockTextSelection(){E.a.body.focus(),E.a.onselectstart=function(){return!1}}function unblockTextSelection(){E.a.onselectstart=function(){return!0}}function getBoundingClientRect(v){if(v&&v.getBoundingClientRect&&v.parentNode){var _=v.getBoundingClientRect(),b={};return["bottom","height","left","right","top","width"].forEach((function(v){void 0!==_[v]&&(b[v]=_[v])})),b.height||(b.height=parseFloat(computedStyle(v,"height"))),b.width||(b.width=parseFloat(computedStyle(v,"width"))),b}}function findPosition(v){if(!v||v&&!v.offsetParent)return{"left":0,"top":0,"width":0,"height":0};var _=v.offsetWidth,b=v.offsetHeight,T=0,S=0;do{T+=v.offsetLeft,S+=v.offsetTop,v=v.offsetParent}while(v);return{"left":T,"top":S,"width":_,"height":b}}function getPointerPosition(v,_){var b={},T=findPosition(_.target),S=findPosition(v),w=S.width,E=S.height,C=_.offsetY-(S.top-T.top),k=_.offsetX-(S.left-T.left);return _.changedTouches&&(k=_.changedTouches[0].pageX-S.left,C=_.changedTouches[0].pageY+S.top),b.y=1-Math.max(0,Math.min(1,C/E)),b.x=Math.max(0,Math.min(1,k/w)),b}function isTextNode(v){return video_es_isObject(v)&&3===v.nodeType}function emptyEl(v){for(;v.firstChild;)v.removeChild(v.firstChild);return v}function normalizeContent(v){return"function"==typeof v&&(v=v()),(Array.isArray(v)?v:[v]).map((function(v){return"function"==typeof v&&(v=v()),isEl(v)||isTextNode(v)?v:"string"==typeof v&&/\S/.test(v)?E.a.createTextNode(v):void 0})).filter((function(v){return v}))}function appendContent(v,_){return normalizeContent(_).forEach((function(_){return v.appendChild(_)})),v}function insertContent(v,_){return appendContent(emptyEl(v),_)}function isSingleLeftClick(v){return void 0===v.button&&void 0===v.buttons||(0===v.button&&void 0===v.buttons||("mouseup"===v.type&&0===v.button&&0===v.buttons||0===v.button&&1===v.buttons))}var Ei,Ci=createQuerier("querySelector"),ki=createQuerier("querySelectorAll"),xi=Object.freeze({"__proto__":null,"isReal":isReal,"isEl":isEl,"isInFrame":isInFrame,"createEl":video_es_createEl,"textContent":textContent,"prependTo":prependTo,"hasClass":hasClass,"addClass":addClass,"removeClass":removeClass,"toggleClass":toggleClass,"setAttributes":setAttributes,"getAttributes":getAttributes,"getAttribute":getAttribute,"setAttribute":setAttribute,"removeAttribute":removeAttribute,"blockTextSelection":blockTextSelection,"unblockTextSelection":unblockTextSelection,"getBoundingClientRect":getBoundingClientRect,"findPosition":findPosition,"getPointerPosition":getPointerPosition,"isTextNode":isTextNode,"emptyEl":emptyEl,"normalizeContent":normalizeContent,"appendContent":appendContent,"insertContent":insertContent,"isSingleLeftClick":isSingleLeftClick,"$":Ci,"$$":ki}),Ai=!1,Pi=function autoSetup(){if(isReal()&&!1!==Ei.options.autoSetup){var v=Array.prototype.slice.call(E.a.getElementsByTagName("video")),_=Array.prototype.slice.call(E.a.getElementsByTagName("audio")),b=Array.prototype.slice.call(E.a.getElementsByTagName("video-js")),T=v.concat(_,b);if(T&&T.length>0)for(var S=0,w=T.length;S<w;S++){var C=T[S];if(!C||!C.getAttribute){autoSetupTimeout(1);break}void 0===C.player&&null!==C.getAttribute("data-setup")&&Ei(C)}else Ai||autoSetupTimeout(1)}};function autoSetupTimeout(v,_){_&&(Ei=_),S.a.setTimeout(Pi,v)}function setWindowLoaded(){Ai=!0,S.a.removeEventListener("load",setWindowLoaded)}isReal()&&("complete"===E.a.readyState?setWindowLoaded():S.a.addEventListener("load",setWindowLoaded));var Ii,Oi=function createStyleElement(v){var _=E.a.createElement("style");return _.className=v,_},Li=function setTextContent(v,_){v.styleSheet?v.styleSheet.cssText=_:v.textContent=_},Mi=3;function newGUID(){return Mi++}S.a.WeakMap||(Ii=function(){function FakeWeakMap(){this.vdata="vdata"+Math.floor(S.a.performance&&S.a.performance.now()||Date.now()),this.data={}}var v=FakeWeakMap.prototype;return v.set=function set(v,_){var b=v[this.vdata]||newGUID();return v[this.vdata]||(v[this.vdata]=b),this.data[b]=_,this},v.get=function get(v){var _=v[this.vdata];if(_)return this.data[_];bi("We have no data for this element",v)},v.has=function has(v){return v[this.vdata]in this.data},v.delete=function _delete(v){var _=v[this.vdata];_&&(delete this.data[_],delete v[this.vdata])},FakeWeakMap}());var Di,Ni=S.a.WeakMap?new WeakMap:new Ii;function _cleanUpEvents(v,_){if(Ni.has(v)){var b=Ni.get(v);0===b.handlers[_].length&&(delete b.handlers[_],v.removeEventListener?v.removeEventListener(_,b.dispatcher,!1):v.detachEvent&&v.detachEvent("on"+_,b.dispatcher)),Object.getOwnPropertyNames(b.handlers).length<=0&&(delete b.handlers,delete b.dispatcher,delete b.disabled),0===Object.getOwnPropertyNames(b).length&&Ni.delete(v)}}function _handleMultipleEvents(v,_,b,T){b.forEach((function(b){v(_,b,T)}))}function fixEvent(v){if(v.fixed_)return v;function returnTrue(){return!0}function returnFalse(){return!1}if(!v||!v.isPropagationStopped){var _=v||S.a.event;for(var b in v={},_)"layerX"!==b&&"layerY"!==b&&"keyLocation"!==b&&"webkitMovementX"!==b&&"webkitMovementY"!==b&&("returnValue"===b&&_.preventDefault||(v[b]=_[b]));if(v.target||(v.target=v.srcElement||E.a),v.relatedTarget||(v.relatedTarget=v.fromElement===v.target?v.toElement:v.fromElement),v.preventDefault=function(){_.preventDefault&&_.preventDefault(),v.returnValue=!1,_.returnValue=!1,v.defaultPrevented=!0},v.defaultPrevented=!1,v.stopPropagation=function(){_.stopPropagation&&_.stopPropagation(),v.cancelBubble=!0,_.cancelBubble=!0,v.isPropagationStopped=returnTrue},v.isPropagationStopped=returnFalse,v.stopImmediatePropagation=function(){_.stopImmediatePropagation&&_.stopImmediatePropagation(),v.isImmediatePropagationStopped=returnTrue,v.stopPropagation()},v.isImmediatePropagationStopped=returnFalse,null!==v.clientX&&void 0!==v.clientX){var T=E.a.documentElement,w=E.a.body;v.pageX=v.clientX+(T&&T.scrollLeft||w&&w.scrollLeft||0)-(T&&T.clientLeft||w&&w.clientLeft||0),v.pageY=v.clientY+(T&&T.scrollTop||w&&w.scrollTop||0)-(T&&T.clientTop||w&&w.clientTop||0)}v.which=v.charCode||v.keyCode,null!==v.button&&void 0!==v.button&&(v.button=1&v.button?0:4&v.button?1:2&v.button?2:0)}return v.fixed_=!0,v}var Ri=["touchstart","touchmove"];function on(v,_,b){if(Array.isArray(_))return _handleMultipleEvents(on,v,_,b);Ni.has(v)||Ni.set(v,{});var T=Ni.get(v);if(T.handlers||(T.handlers={}),T.handlers[_]||(T.handlers[_]=[]),b.guid||(b.guid=newGUID()),T.handlers[_].push(b),T.dispatcher||(T.disabled=!1,T.dispatcher=function(_,b){if(!T.disabled){_=fixEvent(_);var S=T.handlers[_.type];if(S)for(var w=S.slice(0),E=0,C=w.length;E<C&&!_.isImmediatePropagationStopped();E++)try{w[E].call(v,_,b)}catch(v){bi.error(v)}}}),1===T.handlers[_].length)if(v.addEventListener){var w=!1;(function supportsPassive(){if("boolean"!=typeof Di){Di=!1;try{var v=Object.defineProperty({},"passive",{"get":function get(){Di=!0}});S.a.addEventListener("test",null,v),S.a.removeEventListener("test",null,v)}catch(v){}}return Di})()&&Ri.indexOf(_)>-1&&(w={"passive":!0}),v.addEventListener(_,T.dispatcher,w)}else v.attachEvent&&v.attachEvent("on"+_,T.dispatcher)}function off(v,_,b){if(Ni.has(v)){var T=Ni.get(v);if(T.handlers){if(Array.isArray(_))return _handleMultipleEvents(off,v,_,b);var S=function removeType(v,_){T.handlers[_]=[],_cleanUpEvents(v,_)};if(void 0!==_){var w=T.handlers[_];if(w)if(b){if(b.guid)for(var E=0;E<w.length;E++)w[E].guid===b.guid&&w.splice(E--,1);_cleanUpEvents(v,_)}else S(v,_)}else for(var C in T.handlers)Object.prototype.hasOwnProperty.call(T.handlers||{},C)&&S(v,C)}}}function trigger(v,_,b){var T=Ni.has(v)?Ni.get(v):{},S=v.parentNode||v.ownerDocument;if("string"==typeof _?_={"type":_,"target":v}:_.target||(_.target=v),_=fixEvent(_),T.dispatcher&&T.dispatcher.call(v,_,b),S&&!_.isPropagationStopped()&&!0===_.bubbles)trigger.call(null,S,_,b);else if(!S&&!_.defaultPrevented&&_.target&&_.target[_.type]){Ni.has(_.target)||Ni.set(_.target,{});var w=Ni.get(_.target);_.target[_.type]&&(w.disabled=!0,"function"==typeof _.target[_.type]&&_.target[_.type](),w.disabled=!1)}return!_.defaultPrevented}function one(v,_,b){if(Array.isArray(_))return _handleMultipleEvents(one,v,_,b);var T=function func(){off(v,_,func),b.apply(this,arguments)};T.guid=b.guid=b.guid||newGUID(),on(v,_,T)}function any(v,_,b){var T=function func(){off(v,_,func),b.apply(this,arguments)};T.guid=b.guid=b.guid||newGUID(),on(v,_,T)}var Bi,ji=Object.freeze({"__proto__":null,"fixEvent":fixEvent,"on":on,"off":off,"trigger":trigger,"one":one,"any":any}),Ui=function bind(v,_,b){_.guid||(_.guid=newGUID());var T=_.bind(v);return T.guid=b?b+"_"+_.guid:_.guid,T},Fi=function throttle(v,_){var b=S.a.performance.now();return function throttled(){var T=S.a.performance.now();T-b>=_&&(v.apply(void 0,arguments),b=T)}},Vi=function EventTarget(){};Vi.prototype.allowedEvents_={},Vi.prototype.on=function(v,_){var b=this.addEventListener;this.addEventListener=function(){},on(this,v,_),this.addEventListener=b},Vi.prototype.addEventListener=Vi.prototype.on,Vi.prototype.off=function(v,_){off(this,v,_)},Vi.prototype.removeEventListener=Vi.prototype.off,Vi.prototype.one=function(v,_){var b=this.addEventListener;this.addEventListener=function(){},one(this,v,_),this.addEventListener=b},Vi.prototype.any=function(v,_){var b=this.addEventListener;this.addEventListener=function(){},any(this,v,_),this.addEventListener=b},Vi.prototype.trigger=function(v){var _=v.type||v;"string"==typeof v&&(v={"type":_}),v=fixEvent(v),this.allowedEvents_[_]&&this["on"+_]&&this["on"+_](v),trigger(this,v)},Vi.prototype.dispatchEvent=Vi.prototype.trigger,Vi.prototype.queueTrigger=function(v){var _=this;Bi||(Bi=new Map);var b=v.type||v,T=Bi.get(this);T||(T=new Map,Bi.set(this,T));var w=T.get(b);T.delete(b),S.a.clearTimeout(w);var E=S.a.setTimeout((function(){0===T.size&&(T=null,Bi.delete(_)),_.trigger(v)}),0);T.set(b,E)};var Hi=function objName(v){return"function"==typeof v.name?v.name():"string"==typeof v.name?v.name:v.name_?v.name_:v.constructor&&v.constructor.name?v.constructor.name:typeof v},Wi=function isEvented(v){return v instanceof Vi||!!v.eventBusEl_&&["on","one","off","trigger"].every((function(_){return"function"==typeof v[_]}))},qi=function isValidEventType(v){return"string"==typeof v&&/\S/.test(v)||Array.isArray(v)&&!!v.length},zi=function validateTarget(v,_,b){if(!v||!v.nodeName&&!Wi(v))throw new Error("Invalid target for "+Hi(_)+"#"+b+"; must be a DOM node or evented object.")},Gi=function validateEventType(v,_,b){if(!qi(v))throw new Error("Invalid event type for "+Hi(_)+"#"+b+"; must be a non-empty string or array.")},Yi=function validateListener(v,_,b){if("function"!=typeof v)throw new Error("Invalid listener for "+Hi(_)+"#"+b+"; must be a function.")},Xi=function normalizeListenArgs(v,_,b){var T,S,w,E=_.length<3||_[0]===v||_[0]===v.eventBusEl_;return E?(T=v.eventBusEl_,_.length>=3&&_.shift(),S=_[0],w=_[1]):(T=_[0],S=_[1],w=_[2]),zi(T,v,b),Gi(S,v,b),Yi(w,v,b),{"isTargetingSelf":E,"target":T,"type":S,"listener":w=Ui(v,w)}},Ki=function listen(v,_,b,T){zi(v,v,_),v.nodeName?ji[_](v,b,T):v[_](b,T)},Qi={"on":function on(){for(var v=this,_=arguments.length,b=new Array(_),T=0;T<_;T++)b[T]=arguments[T];var S=Xi(this,b,"on"),w=S.isTargetingSelf,E=S.target,C=S.type,k=S.listener;if(Ki(E,"on",C,k),!w){var x=function removeListenerOnDispose(){return v.off(E,C,k)};x.guid=k.guid;var P=function removeRemoverOnTargetDispose(){return v.off("dispose",x)};P.guid=k.guid,Ki(this,"on","dispose",x),Ki(E,"on","dispose",P)}},"one":function one(){for(var v=this,_=arguments.length,b=new Array(_),T=0;T<_;T++)b[T]=arguments[T];var S=Xi(this,b,"one"),w=S.isTargetingSelf,E=S.target,C=S.type,k=S.listener;if(w)Ki(E,"one",C,k);else{var x=function wrapper(){v.off(E,C,wrapper);for(var _=arguments.length,b=new Array(_),T=0;T<_;T++)b[T]=arguments[T];k.apply(null,b)};x.guid=k.guid,Ki(E,"one",C,x)}},"any":function any(){for(var v=this,_=arguments.length,b=new Array(_),T=0;T<_;T++)b[T]=arguments[T];var S=Xi(this,b,"any"),w=S.isTargetingSelf,E=S.target,C=S.type,k=S.listener;if(w)Ki(E,"any",C,k);else{var x=function wrapper(){v.off(E,C,wrapper);for(var _=arguments.length,b=new Array(_),T=0;T<_;T++)b[T]=arguments[T];k.apply(null,b)};x.guid=k.guid,Ki(E,"any",C,x)}},"off":function off$1(v,_,b){if(!v||qi(v))off(this.eventBusEl_,v,_);else{var T=v,S=_;zi(T,this,"off"),Gi(S,this,"off"),Yi(b,this,"off"),b=Ui(this,b),this.off("dispose",b),T.nodeName?(off(T,S,b),off(T,"dispose",b)):Wi(T)&&(T.off(S,b),T.off("dispose",b))}},"trigger":function trigger$1(v,_){zi(this.eventBusEl_,this,"trigger");var b=v&&"string"!=typeof v?v.type:v;if(!qi(b)){var T="Invalid event type for "+Hi(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!v)throw new Error(T);(this.log||bi).error(T)}return trigger(this.eventBusEl_,v,_)}};function evented(v,_){void 0===_&&(_={});var b=_.eventBusKey;if(b){if(!v[b].nodeName)throw new Error('The eventBusKey "'+b+'" does not refer to an element.');v.eventBusEl_=v[b]}else v.eventBusEl_=video_es_createEl("span",{"className":"vjs-event-bus"});return video_es_assign(v,Qi),v.eventedCallbacks&&v.eventedCallbacks.forEach((function(v){v()})),v.on("dispose",(function(){v.off(),S.a.setTimeout((function(){v.eventBusEl_=null}),0)})),v}var $i={"state":{},"setState":function setState(v){var _,b=this;return"function"==typeof v&&(v=v()),each(v,(function(v,T){b.state[T]!==v&&((_=_||{})[T]={"from":b.state[T],"to":v}),b.state[T]=v})),_&&Wi(this)&&this.trigger({"changes":_,"type":"statechanged"}),_}};function stateful(v,_){return video_es_assign(v,$i),v.state=video_es_assign({},v.state,_),"function"==typeof v.handleStateChanged&&Wi(v)&&v.on("statechanged",v.handleStateChanged),v}var Ji=function toLowerCase(v){return"string"!=typeof v?v:v.replace(/./,(function(v){return v.toLowerCase()}))},Zi=function toTitleCase(v){return"string"!=typeof v?v:v.replace(/./,(function(v){return v.toUpperCase()}))};function mergeOptions(){for(var v={},_=arguments.length,b=new Array(_),T=0;T<_;T++)b[T]=arguments[T];return b.forEach((function(_){_&&each(_,(function(_,b){isPlain(_)?(isPlain(v[b])||(v[b]={}),v[b]=mergeOptions(v[b],_)):v[b]=_}))})),v}var er=function(){function MapSham(){this.map_={}}var v=MapSham.prototype;return v.has=function has(v){return v in this.map_},v.delete=function _delete(v){var _=this.has(v);return delete this.map_[v],_},v.set=function set(v,_){return this.map_[v]=_,this},v.forEach=function forEach(v,_){for(var b in this.map_)v.call(_,this.map_[b],b,this)},MapSham}(),tr=S.a.Map?S.a.Map:er,nr=function(){function SetSham(){this.set_={}}var v=SetSham.prototype;return v.has=function has(v){return v in this.set_},v.delete=function _delete(v){var _=this.has(v);return delete this.set_[v],_},v.add=function add(v){return this.set_[v]=1,this},v.forEach=function forEach(v,_){for(var b in this.set_)v.call(_,b,b,this)},SetSham}(),ir=S.a.Set?S.a.Set:nr,rr=function(){function Component(v,_,b){if(!v&&this.play?this.player_=v=this:this.player_=v,this.isDisposed_=!1,this.parentComponent_=null,this.options_=mergeOptions({},this.options_),_=this.options_=mergeOptions(this.options_,_),this.id_=_.id||_.el&&_.el.id,!this.id_){var T=v&&v.id&&v.id()||"no_player";this.id_=T+"_component_"+newGUID()}this.name_=_.name||null,_.el?this.el_=_.el:!1!==_.createEl&&(this.el_=this.createEl()),!1!==_.evented&&(evented(this,{"eventBusKey":this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),stateful(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new ir,this.setIntervalIds_=new ir,this.rafIds_=new ir,this.namedRafs_=new tr,this.clearingTimersOnDispose_=!1,!1!==_.initChildren&&this.initChildren(),this.ready(b),!1!==_.reportTouchActivity&&this.enableTouchActivity()}var v=Component.prototype;return v.dispose=function dispose(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({"type":"dispose","bubbles":!1}),this.isDisposed_=!0,this.children_)for(var v=this.children_.length-1;v>=0;v--)this.children_[v].dispose&&this.children_[v].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Ni.has(this.el_)&&Ni.delete(this.el_),this.el_=null),this.player_=null}},v.isDisposed=function isDisposed(){return Boolean(this.isDisposed_)},v.player=function player(){return this.player_},v.options=function options(v){return v?(this.options_=mergeOptions(this.options_,v),this.options_):this.options_},v.el=function el(){return this.el_},v.createEl=function createEl$1(v,_,b){return video_es_createEl(v,_,b)},v.localize=function localize(v,_,b){void 0===b&&(b=v);var T=this.player_.language&&this.player_.language(),S=this.player_.languages&&this.player_.languages(),w=S&&S[T],E=T&&T.split("-")[0],C=S&&S[E],k=b;return w&&w[v]?k=w[v]:C&&C[v]&&(k=C[v]),_&&(k=k.replace(/\{(\d+)\}/g,(function(v,b){var T=_[b-1],S=T;return void 0===T&&(S=v),S}))),k},v.handleLanguagechange=function handleLanguagechange(){},v.contentEl=function contentEl(){return this.contentEl_||this.el_},v.id=function id(){return this.id_},v.name=function name(){return this.name_},v.children=function children(){return this.children_},v.getChildById=function getChildById(v){return this.childIndex_[v]},v.getChild=function getChild(v){if(v)return this.childNameIndex_[v]},v.getDescendant=function getDescendant(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];_=_.reduce((function(v,_){return v.concat(_)}),[]);for(var T=this,S=0;S<_.length;S++)if(!(T=T.getChild(_[S]))||!T.getChild)return;return T},v.addChild=function addChild(v,_,b){var T,S;if(void 0===_&&(_={}),void 0===b&&(b=this.children_.length),"string"==typeof v){S=Zi(v);var w=_.componentClass||S;_.name=S;var E=Component.getComponent(w);if(!E)throw new Error("Component "+w+" does not exist");if("function"!=typeof E)return null;T=new E(this.player_||this,_)}else T=v;if(T.parentComponent_&&T.parentComponent_.removeChild(T),this.children_.splice(b,0,T),T.parentComponent_=this,"function"==typeof T.id&&(this.childIndex_[T.id()]=T),(S=S||T.name&&Zi(T.name()))&&(this.childNameIndex_[S]=T,this.childNameIndex_[Ji(S)]=T),"function"==typeof T.el&&T.el()){var C=null;this.children_[b+1]&&(this.children_[b+1].el_?C=this.children_[b+1].el_:isEl(this.children_[b+1])&&(C=this.children_[b+1])),this.contentEl().insertBefore(T.el(),C)}return T},v.removeChild=function removeChild(v){if("string"==typeof v&&(v=this.getChild(v)),v&&this.children_){for(var _=!1,b=this.children_.length-1;b>=0;b--)if(this.children_[b]===v){_=!0,this.children_.splice(b,1);break}if(_){v.parentComponent_=null,this.childIndex_[v.id()]=null,this.childNameIndex_[Zi(v.name())]=null,this.childNameIndex_[Ji(v.name())]=null;var T=v.el();T&&T.parentNode===this.contentEl()&&this.contentEl().removeChild(v.el())}}},v.initChildren=function initChildren(){var v=this,_=this.options_.children;if(_){var b,T=this.options_,S=Component.getComponent("Tech");(b=Array.isArray(_)?_:Object.keys(_)).concat(Object.keys(this.options_).filter((function(v){return!b.some((function(_){return"string"==typeof _?v===_:v===_.name}))}))).map((function(b){var T,S;return"string"==typeof b?S=_[T=b]||v.options_[T]||{}:(T=b.name,S=b),{"name":T,"opts":S}})).filter((function(v){var _=Component.getComponent(v.opts.componentClass||Zi(v.name));return _&&!S.isTech(_)})).forEach((function handleAdd(_){var b=_.name,S=_.opts;if(void 0!==T[b]&&(S=T[b]),!1!==S){!0===S&&(S={}),S.playerOptions=v.options_.playerOptions;var w=v.addChild(b,S);w&&(v[b]=w)}}))}},v.buildCSSClass=function buildCSSClass(){return""},v.ready=function ready(v,_){if(void 0===_&&(_=!1),v)return this.isReady_?void(_?v.call(this):this.setTimeout(v,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(v))},v.triggerReady=function triggerReady(){this.isReady_=!0,this.setTimeout((function(){var v=this.readyQueue_;this.readyQueue_=[],v&&v.length>0&&v.forEach((function(v){v.call(this)}),this),this.trigger("ready")}),1)},v.$=function $$1(v,_){return Ci(v,_||this.contentEl())},v.$$=function $$$1(v,_){return ki(v,_||this.contentEl())},v.hasClass=function hasClass$1(v){return hasClass(this.el_,v)},v.addClass=function addClass$1(v){addClass(this.el_,v)},v.removeClass=function removeClass$1(v){removeClass(this.el_,v)},v.toggleClass=function toggleClass$1(v,_){toggleClass(this.el_,v,_)},v.show=function show(){this.removeClass("vjs-hidden")},v.hide=function hide(){this.addClass("vjs-hidden")},v.lockShowing=function lockShowing(){this.addClass("vjs-lock-showing")},v.unlockShowing=function unlockShowing(){this.removeClass("vjs-lock-showing")},v.getAttribute=function getAttribute$1(v){return getAttribute(this.el_,v)},v.setAttribute=function setAttribute$1(v,_){setAttribute(this.el_,v,_)},v.removeAttribute=function removeAttribute$1(v){removeAttribute(this.el_,v)},v.width=function width(v,_){return this.dimension("width",v,_)},v.height=function height(v,_){return this.dimension("height",v,_)},v.dimensions=function dimensions(v,_){this.width(v,!0),this.height(_)},v.dimension=function dimension(v,_,b){if(void 0!==_)return null!==_&&_==_||(_=0),-1!==(""+_).indexOf("%")||-1!==(""+_).indexOf("px")?this.el_.style[v]=_:this.el_.style[v]="auto"===_?"":_+"px",void(b||this.trigger("componentresize"));if(!this.el_)return 0;var T=this.el_.style[v],S=T.indexOf("px");return-1!==S?parseInt(T.slice(0,S),10):parseInt(this.el_["offset"+Zi(v)],10)},v.currentDimension=function currentDimension(v){var _=0;if("width"!==v&&"height"!==v)throw new Error("currentDimension only accepts width or height value");if(_=computedStyle(this.el_,v),0===(_=parseFloat(_))||isNaN(_)){var b="offset"+Zi(v);_=this.el_[b]}return _},v.currentDimensions=function currentDimensions(){return{"width":this.currentDimension("width"),"height":this.currentDimension("height")}},v.currentWidth=function currentWidth(){return this.currentDimension("width")},v.currentHeight=function currentHeight(){return this.currentDimension("height")},v.focus=function focus(){this.el_.focus()},v.blur=function blur(){this.el_.blur()},v.handleKeyDown=function handleKeyDown(v){this.player_&&(v.stopPropagation(),this.player_.handleKeyDown(v))},v.handleKeyPress=function handleKeyPress(v){this.handleKeyDown(v)},v.emitTapEvents=function emitTapEvents(){var v,_=0,b=null;this.on("touchstart",(function(T){1===T.touches.length&&(b={"pageX":T.touches[0].pageX,"pageY":T.touches[0].pageY},_=S.a.performance.now(),v=!0)})),this.on("touchmove",(function(_){if(_.touches.length>1)v=!1;else if(b){var T=_.touches[0].pageX-b.pageX,S=_.touches[0].pageY-b.pageY;Math.sqrt(T*T+S*S)>10&&(v=!1)}}));var T=function noTap(){v=!1};this.on("touchleave",T),this.on("touchcancel",T),this.on("touchend",(function(T){(b=null,!0===v)&&(S.a.performance.now()-_<200&&(T.preventDefault(),this.trigger("tap")))}))},v.enableTouchActivity=function enableTouchActivity(){if(this.player()&&this.player().reportUserActivity){var v,_=Ui(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){_(),this.clearInterval(v),v=this.setInterval(_,250)}));var b=function touchEnd(b){_(),this.clearInterval(v)};this.on("touchmove",_),this.on("touchend",b),this.on("touchcancel",b)}},v.setTimeout=function setTimeout(v,_){var b,T=this;return v=Ui(this,v),this.clearTimersOnDispose_(),b=S.a.setTimeout((function(){T.setTimeoutIds_.has(b)&&T.setTimeoutIds_.delete(b),v()}),_),this.setTimeoutIds_.add(b),b},v.clearTimeout=function clearTimeout(v){return this.setTimeoutIds_.has(v)&&(this.setTimeoutIds_.delete(v),S.a.clearTimeout(v)),v},v.setInterval=function setInterval(v,_){v=Ui(this,v),this.clearTimersOnDispose_();var b=S.a.setInterval(v,_);return this.setIntervalIds_.add(b),b},v.clearInterval=function clearInterval(v){return this.setIntervalIds_.has(v)&&(this.setIntervalIds_.delete(v),S.a.clearInterval(v)),v},v.requestAnimationFrame=function requestAnimationFrame(v){var _,b=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),v=Ui(this,v),_=S.a.requestAnimationFrame((function(){b.rafIds_.has(_)&&b.rafIds_.delete(_),v()})),this.rafIds_.add(_),_):this.setTimeout(v,1e3/60)},v.requestNamedAnimationFrame=function requestNamedAnimationFrame(v,_){var b=this;if(!this.namedRafs_.has(v)){this.clearTimersOnDispose_(),_=Ui(this,_);var T=this.requestAnimationFrame((function(){_(),b.namedRafs_.has(v)&&b.namedRafs_.delete(v)}));return this.namedRafs_.set(v,T),v}},v.cancelNamedAnimationFrame=function cancelNamedAnimationFrame(v){this.namedRafs_.has(v)&&(this.cancelAnimationFrame(this.namedRafs_.get(v)),this.namedRafs_.delete(v))},v.cancelAnimationFrame=function cancelAnimationFrame(v){return this.supportsRaf_?(this.rafIds_.has(v)&&(this.rafIds_.delete(v),S.a.cancelAnimationFrame(v)),v):this.clearTimeout(v)},v.clearTimersOnDispose_=function clearTimersOnDispose_(){var v=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(_){var b=_[0],T=_[1];v[b].forEach((function(_,b){return v[T](b)}))})),v.clearingTimersOnDispose_=!1})))},Component.registerComponent=function registerComponent(v,_){if("string"!=typeof v||!v)throw new Error('Illegal component name, "'+v+'"; must be a non-empty string.');var b,T=Component.getComponent("Tech"),S=T&&T.isTech(_),w=Component===_||Component.prototype.isPrototypeOf(_.prototype);if(S||!w)throw b=S?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+v+'"; '+b+".");v=Zi(v),Component.components_||(Component.components_={});var E=Component.getComponent("Player");if("Player"===v&&E&&E.players){var C=E.players,k=Object.keys(C);if(C&&k.length>0&&k.map((function(v){return C[v]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Component.components_[v]=_,Component.components_[Ji(v)]=_,_},Component.getComponent=function getComponent(v){if(v&&Component.components_)return Component.components_[v]},Component}();rr.prototype.supportsRaf_="function"==typeof S.a.requestAnimationFrame&&"function"==typeof S.a.cancelAnimationFrame,rr.registerComponent("Component",rr);var ar,or=S.a.navigator&&S.a.navigator.userAgent||"",sr=/AppleWebKit\/([\d.]+)/i.exec(or),lr=sr?parseFloat(sr.pop()):null,cr=/iPod/i.test(or),ur=(ar=or.match(/OS (\d+)_/i))&&ar[1]?ar[1]:null,dr=/Android/i.test(or),hr=function(){var v=or.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!v)return null;var _=v[1]&&parseFloat(v[1]),b=v[2]&&parseFloat(v[2]);return _&&b?parseFloat(v[1]+"."+v[2]):_||null}(),pr=dr&&hr<5&&lr<537,fr=/Firefox/i.test(or),mr=/Edg/i.test(or),gr=!mr&&(/Chrome/i.test(or)||/CriOS/i.test(or)),vr=function(){var v=or.match(/(Chrome|CriOS)\/(\d+)/);return v&&v[2]?parseFloat(v[2]):null}(),yr=function(){var v=/MSIE\s(\d+)\.\d/.exec(or),_=v&&parseFloat(v[1]);return!_&&/Trident\/7.0/i.test(or)&&/rv:11.0/.test(or)&&(_=11),_}(),_r=/Safari/i.test(or)&&!gr&&!dr&&!mr,br=/Windows/i.test(or),Tr=Boolean(isReal()&&("ontouchstart"in S.a||S.a.navigator.maxTouchPoints||S.a.DocumentTouch&&S.a.document instanceof S.a.DocumentTouch)),Sr=/iPad/i.test(or)||_r&&Tr&&!/iPhone/i.test(or),wr=/iPhone/i.test(or)&&!Sr,Er=wr||Sr||cr,Cr=(_r||Er)&&!gr,kr=Object.freeze({"__proto__":null,"IS_IPOD":cr,"IOS_VERSION":ur,"IS_ANDROID":dr,"ANDROID_VERSION":hr,"IS_NATIVE_ANDROID":pr,"IS_FIREFOX":fr,"IS_EDGE":mr,"IS_CHROME":gr,"CHROME_VERSION":vr,"IE_VERSION":yr,"IS_SAFARI":_r,"IS_WINDOWS":br,"TOUCH_ENABLED":Tr,"IS_IPAD":Sr,"IS_IPHONE":wr,"IS_IOS":Er,"IS_ANY_SAFARI":Cr});function getRange(v,_,b,T){return function rangeCheck(v,_,b){if("number"!=typeof _||_<0||_>b)throw new Error("Failed to execute '"+v+"' on 'TimeRanges': The index provided ("+_+") is non-numeric or out of bounds (0-"+b+").")}(v,T,b.length-1),b[T][_]}function createTimeRangesObj(v){return void 0===v||0===v.length?{"length":0,"start":function start(){throw new Error("This TimeRanges object is empty")},"end":function end(){throw new Error("This TimeRanges object is empty")}}:{"length":v.length,"start":getRange.bind(null,"start",0,v),"end":getRange.bind(null,"end",1,v)}}function createTimeRanges(v,_){return Array.isArray(v)?createTimeRangesObj(v):void 0===v||void 0===_?createTimeRangesObj():createTimeRangesObj([[v,_]])}function bufferedPercent(v,_){var b,T,S=0;if(!_)return 0;v&&v.length||(v=createTimeRanges(0,0));for(var w=0;w<v.length;w++)b=v.start(w),(T=v.end(w))>_&&(T=_),S+=T-b;return S/_}for(var xr,Ar={"prefixed":!0},Pr=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Ir=Pr[0],Or=0;Or<Pr.length;Or++)if(Pr[Or][1]in E.a){xr=Pr[Or];break}if(xr){for(var Lr=0;Lr<xr.length;Lr++)Ar[Ir[Lr]]=xr[Lr];Ar.prefixed=xr[0]!==Ir[0]}function MediaError(v){if(v instanceof MediaError)return v;"number"==typeof v?this.code=v:"string"==typeof v?this.message=v:video_es_isObject(v)&&("number"==typeof v.code&&(this.code=v.code),video_es_assign(this,v)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}MediaError.prototype.code=0,MediaError.prototype.message="",MediaError.prototype.status=null,MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],MediaError.defaultMessages={"1":"You aborted the media playback","2":"A network error caused the media download to fail part-way.","3":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","4":"The media could not be loaded, either because the server or network failed or because the format is not supported.","5":"The media is encrypted and we do not have the keys to decrypt it."};for(var Mr=0;Mr<MediaError.errorTypes.length;Mr++)MediaError[MediaError.errorTypes[Mr]]=Mr,MediaError.prototype[MediaError.errorTypes[Mr]]=Mr;function isPromise(v){return null!=v&&"function"==typeof v.then}function silencePromise(v){isPromise(v)&&v.then(null,(function(v){}))}var Dr=function trackToJson_(v){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(_,b,T){return v[b]&&(_[b]=v[b]),_}),{"cues":v.cues&&Array.prototype.map.call(v.cues,(function(v){return{"startTime":v.startTime,"endTime":v.endTime,"text":v.text,"id":v.id}}))})},Nr=function textTracksToJson(v){var _=v.$$("track"),b=Array.prototype.map.call(_,(function(v){return v.track}));return Array.prototype.map.call(_,(function(v){var _=Dr(v.track);return v.src&&(_.src=v.src),_})).concat(Array.prototype.filter.call(v.textTracks(),(function(v){return-1===b.indexOf(v)})).map(Dr))},Rr=function jsonToTextTracks(v,_){return v.forEach((function(v){var b=_.addRemoteTextTrack(v).track;!v.src&&v.cues&&v.cues.forEach((function(v){return b.addCue(v)}))})),_.textTracks()},Br=function(v){function ModalDialog(_,b){var T;return(T=v.call(this,_,b)||this).opened_=T.hasBeenOpened_=T.hasBeenFilled_=!1,T.closeable(!T.options_.uncloseable),T.content(T.options_.content),T.contentEl_=video_es_createEl("div",{"className":"vjs-modal-dialog-content"},{"role":"document"}),T.descEl_=video_es_createEl("p",{"className":"vjs-modal-dialog-description vjs-control-text","id":T.el().getAttribute("aria-describedby")}),textContent(T.descEl_,T.description()),T.el_.appendChild(T.descEl_),T.el_.appendChild(T.contentEl_),T}O()(ModalDialog,v);var _=ModalDialog.prototype;return _.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":this.buildCSSClass(),"tabIndex":-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),"role":"dialog"})},_.dispose=function dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,v.prototype.dispose.call(this)},_.buildCSSClass=function buildCSSClass(){return"vjs-modal-dialog vjs-hidden "+v.prototype.buildCSSClass.call(this)},_.label=function label(){return this.localize(this.options_.label||"Modal Window")},_.description=function description(){var v=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(v+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),v},_.open=function open(){if(!this.opened_){var v=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!v.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&v.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=v.controls(),v.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},_.opened=function opened(v){return"boolean"==typeof v&&this[v?"open":"close"](),this.opened_},_.close=function close(){if(this.opened_){var v=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&v.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&v.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},_.closeable=function closeable(v){if("boolean"==typeof v){var closeable=this.closeable_=!!v,_=this.getChild("closeButton");if(closeable&&!_){var b=this.contentEl_;this.contentEl_=this.el_,_=this.addChild("closeButton",{"controlText":"Close Modal Dialog"}),this.contentEl_=b,this.on(_,"close",this.close)}!closeable&&_&&(this.off(_,"close",this.close),this.removeChild(_),_.dispose())}return this.closeable_},_.fill=function fill(){this.fillWith(this.content())},_.fillWith=function fillWith(v){var _=this.contentEl(),b=_.parentNode,T=_.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,b.removeChild(_),this.empty(),insertContent(_,v),this.trigger("modalfill"),T?b.insertBefore(_,T):b.appendChild(_);var S=this.getChild("closeButton");S&&b.appendChild(S.el_)},_.empty=function empty(){this.trigger("beforemodalempty"),emptyEl(this.contentEl()),this.trigger("modalempty")},_.content=function content(v){return void 0!==v&&(this.content_=v),this.content_},_.conditionalFocus_=function conditionalFocus_(){var v=E.a.activeElement,_=this.player_.el_;this.previouslyActiveEl_=null,(_.contains(v)||_===v)&&(this.previouslyActiveEl_=v,this.focus())},_.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},_.handleKeyDown=function handleKeyDown(v){if(v.stopPropagation(),R.a.isEventKey(v,"Escape")&&this.closeable())return v.preventDefault(),void this.close();if(R.a.isEventKey(v,"Tab")){for(var _,b=this.focusableEls_(),T=this.el_.querySelector(":focus"),S=0;S<b.length;S++)if(T===b[S]){_=S;break}E.a.activeElement===this.el_&&(_=0),v.shiftKey&&0===_?(b[b.length-1].focus(),v.preventDefault()):v.shiftKey||_!==b.length-1||(b[0].focus(),v.preventDefault())}},_.focusableEls_=function focusableEls_(){var v=this.el_.querySelectorAll("*");return Array.prototype.filter.call(v,(function(v){return(v instanceof S.a.HTMLAnchorElement||v instanceof S.a.HTMLAreaElement)&&v.hasAttribute("href")||(v instanceof S.a.HTMLInputElement||v instanceof S.a.HTMLSelectElement||v instanceof S.a.HTMLTextAreaElement||v instanceof S.a.HTMLButtonElement)&&!v.hasAttribute("disabled")||v instanceof S.a.HTMLIFrameElement||v instanceof S.a.HTMLObjectElement||v instanceof S.a.HTMLEmbedElement||v.hasAttribute("tabindex")&&-1!==v.getAttribute("tabindex")||v.hasAttribute("contenteditable")}))},ModalDialog}(rr);Br.prototype.options_={"pauseOnOpen":!0,"temporary":!0},rr.registerComponent("ModalDialog",Br);var jr=function(v){function TrackList(_){var b;void 0===_&&(_=[]),(b=v.call(this)||this).tracks_=[],Object.defineProperty(P()(b),"length",{"get":function get(){return this.tracks_.length}});for(var T=0;T<_.length;T++)b.addTrack(_[T]);return b}O()(TrackList,v);var _=TrackList.prototype;return _.addTrack=function addTrack(v){var _=this,b=this.tracks_.length;""+b in this||Object.defineProperty(this,b,{"get":function get(){return this.tracks_[b]}}),-1===this.tracks_.indexOf(v)&&(this.tracks_.push(v),this.trigger({"track":v,"type":"addtrack","target":this})),v.labelchange_=function(){_.trigger({"track":v,"type":"labelchange","target":_})},Wi(v)&&v.addEventListener("labelchange",v.labelchange_)},_.removeTrack=function removeTrack(v){for(var _,b=0,T=this.length;b<T;b++)if(this[b]===v){(_=this[b]).off&&_.off(),this.tracks_.splice(b,1);break}_&&this.trigger({"track":_,"type":"removetrack","target":this})},_.getTrackById=function getTrackById(v){for(var _=null,b=0,T=this.length;b<T;b++){var S=this[b];if(S.id===v){_=S;break}}return _},TrackList}(Vi);for(var Ur in jr.prototype.allowedEvents_={"change":"change","addtrack":"addtrack","removetrack":"removetrack","labelchange":"labelchange"},jr.prototype.allowedEvents_)jr.prototype["on"+Ur]=null;var Fr=function disableOthers(v,_){for(var b=0;b<v.length;b++)Object.keys(v[b]).length&&_.id!==v[b].id&&(v[b].enabled=!1)},Vr=function(v){function AudioTrackList(_){var b;void 0===_&&(_=[]);for(var T=_.length-1;T>=0;T--)if(_[T].enabled){Fr(_,_[T]);break}return(b=v.call(this,_)||this).changing_=!1,b}O()(AudioTrackList,v);var _=AudioTrackList.prototype;return _.addTrack=function addTrack(_){var b=this;_.enabled&&Fr(this,_),v.prototype.addTrack.call(this,_),_.addEventListener&&(_.enabledChange_=function(){b.changing_||(b.changing_=!0,Fr(b,_),b.changing_=!1,b.trigger("change"))},_.addEventListener("enabledchange",_.enabledChange_))},_.removeTrack=function removeTrack(_){v.prototype.removeTrack.call(this,_),_.removeEventListener&&_.enabledChange_&&(_.removeEventListener("enabledchange",_.enabledChange_),_.enabledChange_=null)},AudioTrackList}(jr),Hr=function disableOthers(v,_){for(var b=0;b<v.length;b++)Object.keys(v[b]).length&&_.id!==v[b].id&&(v[b].selected=!1)},Wr=function(v){function VideoTrackList(_){var b;void 0===_&&(_=[]);for(var T=_.length-1;T>=0;T--)if(_[T].selected){Hr(_,_[T]);break}return(b=v.call(this,_)||this).changing_=!1,Object.defineProperty(P()(b),"selectedIndex",{"get":function get(){for(var v=0;v<this.length;v++)if(this[v].selected)return v;return-1},"set":function set(){}}),b}O()(VideoTrackList,v);var _=VideoTrackList.prototype;return _.addTrack=function addTrack(_){var b=this;_.selected&&Hr(this,_),v.prototype.addTrack.call(this,_),_.addEventListener&&(_.selectedChange_=function(){b.changing_||(b.changing_=!0,Hr(b,_),b.changing_=!1,b.trigger("change"))},_.addEventListener("selectedchange",_.selectedChange_))},_.removeTrack=function removeTrack(_){v.prototype.removeTrack.call(this,_),_.removeEventListener&&_.selectedChange_&&(_.removeEventListener("selectedchange",_.selectedChange_),_.selectedChange_=null)},VideoTrackList}(jr),qr=function(v){function TextTrackList(){return v.apply(this,arguments)||this}O()(TextTrackList,v);var _=TextTrackList.prototype;return _.addTrack=function addTrack(_){var b=this;v.prototype.addTrack.call(this,_),this.queueChange_||(this.queueChange_=function(){return b.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return b.trigger("selectedlanguagechange")}),_.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(_.kind)&&_.addEventListener("modechange",this.triggerSelectedlanguagechange_)},_.removeTrack=function removeTrack(_){v.prototype.removeTrack.call(this,_),_.removeEventListener&&(this.queueChange_&&_.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&_.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},TextTrackList}(jr),zr=function(){function HtmlTrackElementList(v){void 0===v&&(v=[]),this.trackElements_=[],Object.defineProperty(this,"length",{"get":function get(){return this.trackElements_.length}});for(var _=0,b=v.length;_<b;_++)this.addTrackElement_(v[_])}var v=HtmlTrackElementList.prototype;return v.addTrackElement_=function addTrackElement_(v){var _=this.trackElements_.length;""+_ in this||Object.defineProperty(this,_,{"get":function get(){return this.trackElements_[_]}}),-1===this.trackElements_.indexOf(v)&&this.trackElements_.push(v)},v.getTrackElementByTrack_=function getTrackElementByTrack_(v){for(var _,b=0,T=this.trackElements_.length;b<T;b++)if(v===this.trackElements_[b].track){_=this.trackElements_[b];break}return _},v.removeTrackElement_=function removeTrackElement_(v){for(var _=0,b=this.trackElements_.length;_<b;_++)if(v===this.trackElements_[_]){this.trackElements_[_].track&&"function"==typeof this.trackElements_[_].track.off&&this.trackElements_[_].track.off(),"function"==typeof this.trackElements_[_].off&&this.trackElements_[_].off(),this.trackElements_.splice(_,1);break}},HtmlTrackElementList}(),Gr=function(){function TextTrackCueList(v){TextTrackCueList.prototype.setCues_.call(this,v),Object.defineProperty(this,"length",{"get":function get(){return this.length_}})}var v=TextTrackCueList.prototype;return v.setCues_=function setCues_(v){var _=this.length||0,b=0,T=v.length;this.cues_=v,this.length_=v.length;var S=function defineProp(v){""+v in this||Object.defineProperty(this,""+v,{"get":function get(){return this.cues_[v]}})};if(_<T)for(b=_;b<T;b++)S.call(this,b)},v.getCueById=function getCueById(v){for(var _=null,b=0,T=this.length;b<T;b++){var S=this[b];if(S.id===v){_=S;break}}return _},TextTrackCueList}(),Yr={"alternative":"alternative","captions":"captions","main":"main","sign":"sign","subtitles":"subtitles","commentary":"commentary"},Xr={"alternative":"alternative","descriptions":"descriptions","main":"main","main-desc":"main-desc","translation":"translation","commentary":"commentary"},Kr={"subtitles":"subtitles","captions":"captions","descriptions":"descriptions","chapters":"chapters","metadata":"metadata"},Qr={"disabled":"disabled","hidden":"hidden","showing":"showing"},$r=function(v){function Track(_){var b;void 0===_&&(_={}),b=v.call(this)||this;var T={"id":_.id||"vjs_track_"+newGUID(),"kind":_.kind||"","language":_.language||""},S=_.label||"",w=function _loop(v){Object.defineProperty(P()(b),v,{"get":function get(){return T[v]},"set":function set(){}})};for(var E in T)w(E);return Object.defineProperty(P()(b),"label",{"get":function get(){return S},"set":function set(v){v!==S&&(S=v,this.trigger("labelchange"))}}),b}return O()(Track,v),Track}(Vi),Jr=function parseUrl(v){var _=["protocol","hostname","port","pathname","search","hash","host"],b=E.a.createElement("a");b.href=v;var T,w=""===b.host&&"file:"!==b.protocol;w&&((T=E.a.createElement("div")).innerHTML='<a href="'+v+'"></a>',b=T.firstChild,T.setAttribute("style","display:none; position:absolute;"),E.a.body.appendChild(T));for(var C={},k=0;k<_.length;k++)C[_[k]]=b[_[k]];return"http:"===C.protocol&&(C.host=C.host.replace(/:80$/,"")),"https:"===C.protocol&&(C.host=C.host.replace(/:443$/,"")),C.protocol||(C.protocol=S.a.location.protocol),w&&E.a.body.removeChild(T),C},Zr=function getAbsoluteURL(v){if(!v.match(/^https?:\/\//)){var _=E.a.createElement("div");_.innerHTML='<a href="'+v+'">x</a>',v=_.firstChild.href}return v},ea=function getFileExtension(v){if("string"==typeof v){var _=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(v);if(_)return _.pop().toLowerCase()}return""},ta=function isCrossOrigin(v,_){void 0===_&&(_=S.a.location);var b=Jr(v);return(":"===b.protocol?_.protocol:b.protocol)+b.host!==_.protocol+_.host},na=Object.freeze({"__proto__":null,"parseUrl":Jr,"getAbsoluteURL":Zr,"getFileExtension":ea,"isCrossOrigin":ta}),ia=function parseCues(v,_){var b=new S.a.WebVTT.Parser(S.a,S.a.vttjs,S.a.WebVTT.StringDecoder()),T=[];b.oncue=function(v){_.addCue(v)},b.onparsingerror=function(v){T.push(v)},b.onflush=function(){_.trigger({"type":"loadeddata","target":_})},b.parse(v),T.length>0&&(S.a.console&&S.a.console.groupCollapsed&&S.a.console.groupCollapsed("Text Track parsing errors for "+_.src),T.forEach((function(v){return bi.error(v)})),S.a.console&&S.a.console.groupEnd&&S.a.console.groupEnd()),b.flush()},ra=function loadTrack(v,_){var b={"uri":v},T=ta(v);T&&(b.cors=T);var w="use-credentials"===_.tech_.crossOrigin();w&&(b.withCredentials=w),j()(b,Ui(this,(function(v,b,T){if(v)return bi.error(v,b);_.loaded_=!0,"function"!=typeof S.a.WebVTT?_.tech_&&_.tech_.any(["vttjsloaded","vttjserror"],(function(v){if("vttjserror"!==v.type)return ia(T,_);bi.error("vttjs failed to load, stopping trying to process "+_.src)})):ia(T,_)})))},aa=function(v){function TextTrack(_){var b;if(void 0===_&&(_={}),!_.tech)throw new Error("A tech was not provided.");var T=mergeOptions(_,{"kind":Kr[_.kind]||"subtitles","language":_.language||_.srclang||""}),S=Qr[T.mode]||"disabled",w=T.default;"metadata"!==T.kind&&"chapters"!==T.kind||(S="hidden"),(b=v.call(this,T)||this).tech_=T.tech,b.cues_=[],b.activeCues_=[],b.preload_=!1!==b.tech_.preloadTextTracks;var E=new Gr(b.cues_),C=new Gr(b.activeCues_),k=!1,x=Ui(P()(b),(function(){this.tech_.isReady_&&!this.tech_.isDisposed()&&(this.activeCues=this.activeCues,k&&(this.trigger("cuechange"),k=!1))}));return b.tech_.one("dispose",(function disposeHandler(){b.tech_.off("timeupdate",x)})),"disabled"!==S&&b.tech_.on("timeupdate",x),Object.defineProperties(P()(b),{"default":{"get":function get(){return w},"set":function set(){}},"mode":{"get":function get(){return S},"set":function set(v){Qr[v]&&S!==v&&(S=v,this.preload_||"disabled"===S||0!==this.cues.length||ra(this.src,this),this.tech_.off("timeupdate",x),"disabled"!==S&&this.tech_.on("timeupdate",x),this.trigger("modechange"))}},"cues":{"get":function get(){return this.loaded_?E:null},"set":function set(){}},"activeCues":{"get":function get(){if(!this.loaded_)return null;if(0===this.cues.length)return C;for(var v=this.tech_.currentTime(),_=[],b=0,T=this.cues.length;b<T;b++){var S=this.cues[b];(S.startTime<=v&&S.endTime>=v||S.startTime===S.endTime&&S.startTime<=v&&S.startTime+.5>=v)&&_.push(S)}if(k=!1,_.length!==this.activeCues_.length)k=!0;else for(var w=0;w<_.length;w++)-1===this.activeCues_.indexOf(_[w])&&(k=!0);return this.activeCues_=_,C.setCues_(this.activeCues_),C},"set":function set(){}}}),T.src?(b.src=T.src,b.preload_||(b.loaded_=!0),(b.preload_||w||"subtitles"!==T.kind&&"captions"!==T.kind)&&ra(b.src,P()(b))):b.loaded_=!0,b}O()(TextTrack,v);var _=TextTrack.prototype;return _.addCue=function addCue(v){var _=v;if(S.a.vttjs&&!(v instanceof S.a.vttjs.VTTCue)){for(var b in _=new S.a.vttjs.VTTCue(v.startTime,v.endTime,v.text),v)b in _||(_[b]=v[b]);_.id=v.id,_.originalCue_=v}for(var T=this.tech_.textTracks(),w=0;w<T.length;w++)T[w]!==this&&T[w].removeCue(_);this.cues_.push(_),this.cues.setCues_(this.cues_)},_.removeCue=function removeCue(v){for(var _=this.cues_.length;_--;){var b=this.cues_[_];if(b===v||b.originalCue_&&b.originalCue_===v){this.cues_.splice(_,1),this.cues.setCues_(this.cues_);break}}},TextTrack}($r);aa.prototype.allowedEvents_={"cuechange":"cuechange"};var oa=function(v){function AudioTrack(_){var b;void 0===_&&(_={});var T=mergeOptions(_,{"kind":Xr[_.kind]||""});b=v.call(this,T)||this;var S=!1;return Object.defineProperty(P()(b),"enabled",{"get":function get(){return S},"set":function set(v){"boolean"==typeof v&&v!==S&&(S=v,this.trigger("enabledchange"))}}),T.enabled&&(b.enabled=T.enabled),b.loaded_=!0,b}return O()(AudioTrack,v),AudioTrack}($r),sa=function(v){function VideoTrack(_){var b;void 0===_&&(_={});var T=mergeOptions(_,{"kind":Yr[_.kind]||""});b=v.call(this,T)||this;var S=!1;return Object.defineProperty(P()(b),"selected",{"get":function get(){return S},"set":function set(v){"boolean"==typeof v&&v!==S&&(S=v,this.trigger("selectedchange"))}}),T.selected&&(b.selected=T.selected),b}return O()(VideoTrack,v),VideoTrack}($r),la=function(v){function HTMLTrackElement(_){var b,T;void 0===_&&(_={}),b=v.call(this)||this;var S=new aa(_);return b.kind=S.kind,b.src=S.src,b.srclang=S.language,b.label=S.label,b.default=S.default,Object.defineProperties(P()(b),{"readyState":{"get":function get(){return T}},"track":{"get":function get(){return S}}}),T=0,S.addEventListener("loadeddata",(function(){T=2,b.trigger({"type":"load","target":P()(b)})})),b}return O()(HTMLTrackElement,v),HTMLTrackElement}(Vi);la.prototype.allowedEvents_={"load":"load"},la.NONE=0,la.LOADING=1,la.LOADED=2,la.ERROR=3;var ca={"audio":{"ListClass":Vr,"TrackClass":oa,"capitalName":"Audio"},"video":{"ListClass":Wr,"TrackClass":sa,"capitalName":"Video"},"text":{"ListClass":qr,"TrackClass":aa,"capitalName":"Text"}};Object.keys(ca).forEach((function(v){ca[v].getterName=v+"Tracks",ca[v].privateName=v+"Tracks_"}));var ua={"remoteText":{"ListClass":qr,"TrackClass":aa,"capitalName":"RemoteText","getterName":"remoteTextTracks","privateName":"remoteTextTracks_"},"remoteTextEl":{"ListClass":zr,"TrackClass":la,"capitalName":"RemoteTextTrackEls","getterName":"remoteTextTrackEls","privateName":"remoteTextTrackEls_"}},da=k()({},ca,ua);ua.names=Object.keys(ua),ca.names=Object.keys(ca),da.names=[].concat(ua.names).concat(ca.names);var ha=function(v){function Tech(_,b){var T;return void 0===_&&(_={}),void 0===b&&(b=function ready(){}),_.reportTouchActivity=!1,(T=v.call(this,null,_,b)||this).hasStarted_=!1,T.on("playing",(function(){this.hasStarted_=!0})),T.on("loadstart",(function(){this.hasStarted_=!1})),da.names.forEach((function(v){var b=da[v];_&&_[b.getterName]&&(T[b.privateName]=_[b.getterName])})),T.featuresProgressEvents||T.manualProgressOn(),T.featuresTimeupdateEvents||T.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(v){!1===_["native"+v+"Tracks"]&&(T["featuresNative"+v+"Tracks"]=!1)})),!1===_.nativeCaptions||!1===_.nativeTextTracks?T.featuresNativeTextTracks=!1:!0!==_.nativeCaptions&&!0!==_.nativeTextTracks||(T.featuresNativeTextTracks=!0),T.featuresNativeTextTracks||T.emulateTextTracks(),T.preloadTextTracks=!1!==_.preloadTextTracks,T.autoRemoteTextTracks_=new da.text.ListClass,T.initTrackListeners(),_.nativeControlsForTouch||T.emitTapEvents(),T.constructor&&(T.name_=T.constructor.name||"Unknown Tech"),T}O()(Tech,v);var _=Tech.prototype;return _.triggerSourceset=function triggerSourceset(v){var _=this;this.isReady_||this.one("ready",(function(){return _.setTimeout((function(){return _.triggerSourceset(v)}),1)})),this.trigger({"src":v,"type":"sourceset"})},_.manualProgressOn=function manualProgressOn(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},_.manualProgressOff=function manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},_.trackProgress=function trackProgress(v){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ui(this,(function(){var v=this.bufferedPercent();this.bufferedPercent_!==v&&this.trigger("progress"),this.bufferedPercent_=v,1===v&&this.stopTrackingProgress()})),500)},_.onDurationChange=function onDurationChange(v){this.duration_=this.duration()},_.buffered=function buffered(){return createTimeRanges(0,0)},_.bufferedPercent=function bufferedPercent$1(){return bufferedPercent(this.buffered(),this.duration_)},_.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval)},_.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},_.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},_.trackCurrentTime=function trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({"type":"timeupdate","target":this,"manuallyTriggered":!0})}),250)},_.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({"type":"timeupdate","target":this,"manuallyTriggered":!0})},_.dispose=function dispose(){this.clearTracks(ca.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),v.prototype.dispose.call(this)},_.clearTracks=function clearTracks(v){var _=this;(v=[].concat(v)).forEach((function(v){for(var b=_[v+"Tracks"]()||[],T=b.length;T--;){var S=b[T];"text"===v&&_.removeRemoteTextTrack(S),b.removeTrack(S)}}))},_.cleanupAutoTextTracks=function cleanupAutoTextTracks(){for(var v=this.autoRemoteTextTracks_||[],_=v.length;_--;){var b=v[_];this.removeRemoteTextTrack(b)}},_.reset=function reset(){},_.crossOrigin=function crossOrigin(){},_.setCrossOrigin=function setCrossOrigin(){},_.error=function error(v){return void 0!==v&&(this.error_=new MediaError(v),this.trigger("error")),this.error_},_.played=function played(){return this.hasStarted_?createTimeRanges(0,0):createTimeRanges()},_.play=function play(){},_.setScrubbing=function setScrubbing(){},_.scrubbing=function scrubbing(){},_.setCurrentTime=function setCurrentTime(){this.manualTimeUpdates&&this.trigger({"type":"timeupdate","target":this,"manuallyTriggered":!0})},_.initTrackListeners=function initTrackListeners(){var v=this;ca.names.forEach((function(_){var b=ca[_],T=function trackListChanges(){v.trigger(_+"trackchange")},S=v[b.getterName]();S.addEventListener("removetrack",T),S.addEventListener("addtrack",T),v.on("dispose",(function(){S.removeEventListener("removetrack",T),S.removeEventListener("addtrack",T)}))}))},_.addWebVttScript_=function addWebVttScript_(){var v=this;if(!S.a.WebVTT)if(E.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&isPlain(V.a)&&Object.keys(V.a).length>0)return void this.trigger("vttjsloaded");var _=E.a.createElement("script");_.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",_.onload=function(){v.trigger("vttjsloaded")},_.onerror=function(){v.trigger("vttjserror")},this.on("dispose",(function(){_.onload=null,_.onerror=null})),S.a.WebVTT=!0,this.el().parentNode.appendChild(_)}else this.ready(this.addWebVttScript_)},_.emulateTextTracks=function emulateTextTracks(){var v=this,_=this.textTracks(),b=this.remoteTextTracks(),T=function handleAddTrack(v){return _.addTrack(v.track)},S=function handleRemoveTrack(v){return _.removeTrack(v.track)};b.on("addtrack",T),b.on("removetrack",S),this.addWebVttScript_();var w=function updateDisplay(){return v.trigger("texttrackchange")},E=function textTracksChanges(){w();for(var v=0;v<_.length;v++){var b=_[v];b.removeEventListener("cuechange",w),"showing"===b.mode&&b.addEventListener("cuechange",w)}};E(),_.addEventListener("change",E),_.addEventListener("addtrack",E),_.addEventListener("removetrack",E),this.on("dispose",(function(){b.off("addtrack",T),b.off("removetrack",S),_.removeEventListener("change",E),_.removeEventListener("addtrack",E),_.removeEventListener("removetrack",E);for(var v=0;v<_.length;v++){_[v].removeEventListener("cuechange",w)}}))},_.addTextTrack=function addTextTrack(v,_,b){if(!v)throw new Error("TextTrack kind is required but was not provided");return function createTrackHelper(v,_,b,T,S){void 0===S&&(S={});var w=v.textTracks();S.kind=_,b&&(S.label=b),T&&(S.language=T),S.tech=v;var E=new da.text.TrackClass(S);return w.addTrack(E),E}(this,v,_,b)},_.createRemoteTextTrack=function createRemoteTextTrack(v){var _=mergeOptions(v,{"tech":this});return new ua.remoteTextEl.TrackClass(_)},_.addRemoteTextTrack=function addRemoteTextTrack(v,_){var b=this;void 0===v&&(v={});var T=this.createRemoteTextTrack(v);return!0!==_&&!1!==_&&(bi.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),_=!0),this.remoteTextTrackEls().addTrackElement_(T),this.remoteTextTracks().addTrack(T.track),!0!==_&&this.ready((function(){return b.autoRemoteTextTracks_.addTrack(T.track)})),T},_.removeRemoteTextTrack=function removeRemoteTextTrack(v){var _=this.remoteTextTrackEls().getTrackElementByTrack_(v);this.remoteTextTrackEls().removeTrackElement_(_),this.remoteTextTracks().removeTrack(v),this.autoRemoteTextTracks_.removeTrack(v)},_.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{}},_.requestPictureInPicture=function requestPictureInPicture(){var v=this.options_.Promise||S.a.Promise;if(v)return v.reject()},_.disablePictureInPicture=function disablePictureInPicture(){return!0},_.setDisablePictureInPicture=function setDisablePictureInPicture(){},_.setPoster=function setPoster(){},_.playsinline=function playsinline(){},_.setPlaysinline=function setPlaysinline(){},_.overrideNativeAudioTracks=function overrideNativeAudioTracks(){},_.overrideNativeVideoTracks=function overrideNativeVideoTracks(){},_.canPlayType=function canPlayType(){return""},Tech.canPlayType=function canPlayType(){return""},Tech.canPlaySource=function canPlaySource(v,_){return Tech.canPlayType(v.type)},Tech.isTech=function isTech(v){return v.prototype instanceof Tech||v instanceof Tech||v===Tech},Tech.registerTech=function registerTech(v,_){if(Tech.techs_||(Tech.techs_={}),!Tech.isTech(_))throw new Error("Tech "+v+" must be a Tech");if(!Tech.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Tech.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return v=Zi(v),Tech.techs_[v]=_,Tech.techs_[Ji(v)]=_,"Tech"!==v&&Tech.defaultTechOrder_.push(v),_},Tech.getTech=function getTech(v){if(v)return Tech.techs_&&Tech.techs_[v]?Tech.techs_[v]:(v=Zi(v),S.a&&S.a.videojs&&S.a.videojs[v]?(bi.warn("The "+v+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),S.a.videojs[v]):void 0)},Tech}(rr);da.names.forEach((function(v){var _=da[v];ha.prototype[_.getterName]=function(){return this[_.privateName]=this[_.privateName]||new _.ListClass,this[_.privateName]}})),ha.prototype.featuresVolumeControl=!0,ha.prototype.featuresMuteControl=!0,ha.prototype.featuresFullscreenResize=!1,ha.prototype.featuresPlaybackRate=!1,ha.prototype.featuresProgressEvents=!1,ha.prototype.featuresSourceset=!1,ha.prototype.featuresTimeupdateEvents=!1,ha.prototype.featuresNativeTextTracks=!1,ha.withSourceHandlers=function(v){v.registerSourceHandler=function(_,b){var T=v.sourceHandlers;T||(T=v.sourceHandlers=[]),void 0===b&&(b=T.length),T.splice(b,0,_)},v.canPlayType=function(_){for(var b,T=v.sourceHandlers||[],S=0;S<T.length;S++)if(b=T[S].canPlayType(_))return b;return""},v.selectSourceHandler=function(_,b){for(var T=v.sourceHandlers||[],S=0;S<T.length;S++)if(T[S].canHandleSource(_,b))return T[S];return null},v.canPlaySource=function(_,b){var T=v.selectSourceHandler(_,b);return T?T.canHandleSource(_,b):""};["seekable","seeking","duration"].forEach((function(v){var _=this[v];"function"==typeof _&&(this[v]=function(){return this.sourceHandler_&&this.sourceHandler_[v]?this.sourceHandler_[v].apply(this.sourceHandler_,arguments):_.apply(this,arguments)})}),v.prototype),v.prototype.setSource=function(_){var b=v.selectSourceHandler(_,this.options_);b||(v.nativeSourceHandler?b=v.nativeSourceHandler:bi.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),b!==v.nativeSourceHandler&&(this.currentSource_=_),this.sourceHandler_=b.handleSource(_,this,this.options_),this.one("dispose",this.disposeSourceHandler)},v.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},rr.registerComponent("Tech",ha),ha.registerTech("Tech",ha),ha.defaultTechOrder_=[];var pa={},fa={},ma={};function setSource(v,_,b){v.setTimeout((function(){return function setSourceHelper(v,_,b,T,S,w){void 0===v&&(v={});void 0===_&&(_=[]);void 0===S&&(S=[]);void 0===w&&(w=!1);var E=_,C=E[0],k=E.slice(1);if("string"==typeof C)setSourceHelper(v,pa[C],b,T,S,w);else if(C){var x=function getOrCreateFactory(v,_){var b=fa[v.id()],T=null;if(null==b)return T=_(v),fa[v.id()]=[[_,T]],T;for(var S=0;S<b.length;S++){var w=b[S],E=w[0],C=w[1];E===_&&(T=C)}null===T&&(T=_(v),b.push([_,T]));return T}(T,C);if(!x.setSource)return S.push(x),setSourceHelper(v,k,b,T,S,w);x.setSource(video_es_assign({},v),(function(_,E){if(_)return setSourceHelper(v,k,b,T,S,w);S.push(x),setSourceHelper(E,v.type===E.type?k:pa[E.type],b,T,S,w)}))}else k.length?setSourceHelper(v,k,b,T,S,w):w?b(v,S):setSourceHelper(v,pa["*"],b,T,S,!0)}(_,pa[_.type],b,v)}),1)}function mediate(v,_,b,T){void 0===T&&(T=null);var S="call"+Zi(b),w=v.reduce(middlewareIterator(S),T),E=w===ma,C=E?null:_[b](w);return function executeRight(v,_,b,T){for(var S=v.length-1;S>=0;S--){var w=v[S];w[_]&&w[_](T,b)}}(v,b,C,E),C}var ga={"buffered":1,"currentTime":1,"duration":1,"muted":1,"played":1,"paused":1,"seekable":1,"volume":1},va={"setCurrentTime":1,"setMuted":1,"setVolume":1},ya={"play":1,"pause":1};function middlewareIterator(v){return function(_,b){return _===ma?ma:b[v]?b[v](_):_}}var _a={"opus":"video/ogg","ogv":"video/ogg","mp4":"video/mp4","mov":"video/mp4","m4v":"video/mp4","mkv":"video/x-matroska","m4a":"audio/mp4","mp3":"audio/mpeg","aac":"audio/aac","caf":"audio/x-caf","flac":"audio/flac","oga":"audio/ogg","wav":"audio/wav","m3u8":"application/x-mpegURL","jpg":"image/jpeg","jpeg":"image/jpeg","gif":"image/gif","png":"image/png","svg":"image/svg+xml","webp":"image/webp"},ba=function getMimetype(v){void 0===v&&(v="");var _=ea(v);return _a[_.toLowerCase()]||""};function fixSource(v){if(!v.type){var _=ba(v.src);_&&(v.type=_)}return v}var Ta=function(v){function MediaLoader(_,b,T){var S,w=mergeOptions({"createEl":!1},b);if(S=v.call(this,_,w,T)||this,b.playerOptions.sources&&0!==b.playerOptions.sources.length)_.src(b.playerOptions.sources);else for(var E=0,C=b.playerOptions.techOrder;E<C.length;E++){var k=Zi(C[E]),x=ha.getTech(k);if(k||(x=rr.getComponent(k)),x&&x.isSupported()){_.loadTech_(k);break}}return S}return O()(MediaLoader,v),MediaLoader}(rr);rr.registerComponent("MediaLoader",Ta);var Sa=function(v){function ClickableComponent(_,b){var T;return(T=v.call(this,_,b)||this).emitTapEvents(),T.enable(),T}O()(ClickableComponent,v);var _=ClickableComponent.prototype;return _.createEl=function createEl(_,b,T){void 0===_&&(_="div"),void 0===b&&(b={}),void 0===T&&(T={}),b=video_es_assign({"innerHTML":'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',"className":this.buildCSSClass(),"tabIndex":0},b),"button"===_&&bi.error("Creating a ClickableComponent with an HTML element of "+_+" is not supported; use a Button instead."),T=video_es_assign({"role":"button"},T),this.tabIndex_=b.tabIndex;var S=v.prototype.createEl.call(this,_,b,T);return this.createControlTextEl(S),S},_.dispose=function dispose(){this.controlTextEl_=null,v.prototype.dispose.call(this)},_.createControlTextEl=function createControlTextEl(v){return this.controlTextEl_=video_es_createEl("span",{"className":"vjs-control-text"},{"aria-live":"polite"}),v&&v.appendChild(this.controlTextEl_),this.controlText(this.controlText_,v),this.controlTextEl_},_.controlText=function controlText(v,_){if(void 0===_&&(_=this.el()),void 0===v)return this.controlText_||"Need Text";var b=this.localize(v);this.controlText_=v,textContent(this.controlTextEl_,b),this.nonIconControl||_.setAttribute("title",b)},_.buildCSSClass=function buildCSSClass(){return"vjs-control vjs-button "+v.prototype.buildCSSClass.call(this)},_.enable=function enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},_.disable=function disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},_.handleLanguagechange=function handleLanguagechange(){this.controlText(this.controlText_)},_.handleClick=function handleClick(v){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},_.handleKeyDown=function handleKeyDown(_){R.a.isEventKey(_,"Space")||R.a.isEventKey(_,"Enter")?(_.preventDefault(),_.stopPropagation(),this.trigger("click")):v.prototype.handleKeyDown.call(this,_)},ClickableComponent}(rr);rr.registerComponent("ClickableComponent",Sa);var wa=function(v){function PosterImage(_,b){var T;return(T=v.call(this,_,b)||this).update(),_.on("posterchange",Ui(P()(T),T.update)),T}O()(PosterImage,v);var _=PosterImage.prototype;return _.dispose=function dispose(){this.player().off("posterchange",this.update),v.prototype.dispose.call(this)},_.createEl=function createEl$1(){return video_es_createEl("div",{"className":"vjs-poster","tabIndex":-1})},_.update=function update(v){var _=this.player().poster();this.setSrc(_),_?this.show():this.hide()},_.setSrc=function setSrc(v){var _="";v&&(_='url("'+v+'")'),this.el_.style.backgroundImage=_},_.handleClick=function handleClick(v){if(this.player_.controls()){var _=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(yr||mr)&&_||this.player_.tech(!0).focus(),this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()}},PosterImage}(Sa);rr.registerComponent("PosterImage",wa);var Ea={"monospace":"monospace","sansSerif":"sans-serif","serif":"serif","monospaceSansSerif":'"Andale Mono", "Lucida Console", monospace',"monospaceSerif":'"Courier New", monospace',"proportionalSansSerif":"sans-serif","proportionalSerif":"serif","casual":'"Comic Sans MS", Impact, fantasy',"script":'"Monotype Corsiva", cursive',"smallcaps":'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(v,_){var b;if(4===v.length)b=v[1]+v[1]+v[2]+v[2]+v[3]+v[3];else{if(7!==v.length)throw new Error("Invalid color code provided, "+v+"; must be formatted as e.g. #f0e or #f604e2.");b=v.slice(1)}return"rgba("+parseInt(b.slice(0,2),16)+","+parseInt(b.slice(2,4),16)+","+parseInt(b.slice(4,6),16)+","+_+")"}function tryUpdateStyle(v,_,b){try{v.style[_]=b}catch(v){return}}var Ca=function(v){function TextTrackDisplay(_,b,T){var w;w=v.call(this,_,b,T)||this;var E=Ui(P()(w),w.updateDisplay);return _.on("loadstart",Ui(P()(w),w.toggleDisplay)),_.on("texttrackchange",E),_.on("loadedmetadata",Ui(P()(w),w.preselectTrack)),_.ready(Ui(P()(w),(function(){if(_.tech_&&_.tech_.featuresNativeTextTracks)this.hide();else{_.on("fullscreenchange",E),_.on("playerresize",E),S.a.addEventListener("orientationchange",E),_.on("dispose",(function(){return S.a.removeEventListener("orientationchange",E)}));for(var v=this.options_.playerOptions.tracks||[],b=0;b<v.length;b++)this.player_.addRemoteTextTrack(v[b],!0);this.preselectTrack()}}))),w}O()(TextTrackDisplay,v);var _=TextTrackDisplay.prototype;return _.preselectTrack=function preselectTrack(){for(var v,_,b,T={"captions":1,"subtitles":1},S=this.player_.textTracks(),w=this.player_.cache_.selectedLanguage,E=0;E<S.length;E++){var C=S[E];w&&w.enabled&&w.language&&w.language===C.language&&C.kind in T?C.kind===w.kind?b=C:b||(b=C):w&&!w.enabled?(b=null,v=null,_=null):C.default&&("descriptions"!==C.kind||v?C.kind in T&&!_&&(_=C):v=C)}b?b.mode="showing":_?_.mode="showing":v&&(v.mode="showing")},_.toggleDisplay=function toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},_.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},_.clearDisplay=function clearDisplay(){"function"==typeof S.a.WebVTT&&S.a.WebVTT.processCues(S.a,[],this.el_)},_.updateDisplay=function updateDisplay(){var v=this.player_.textTracks(),_=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),_){for(var b=[],T=0;T<v.length;++T){var S=v[T];"showing"===S.mode&&b.push(S)}this.updateForTrack(b)}else{for(var w=null,E=null,C=v.length;C--;){var k=v[C];"showing"===k.mode&&("descriptions"===k.kind?w=k:E=k)}E?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(E)):w&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(w))}},_.updateDisplayState=function updateDisplayState(v){for(var _=this.player_.textTrackSettings.getValues(),b=v.activeCues,T=b.length;T--;){var w=b[T];if(w){var E=w.displayState;if(_.color&&(E.firstChild.style.color=_.color),_.textOpacity&&tryUpdateStyle(E.firstChild,"color",constructColor(_.color||"#fff",_.textOpacity)),_.backgroundColor&&(E.firstChild.style.backgroundColor=_.backgroundColor),_.backgroundOpacity&&tryUpdateStyle(E.firstChild,"backgroundColor",constructColor(_.backgroundColor||"#000",_.backgroundOpacity)),_.windowColor&&(_.windowOpacity?tryUpdateStyle(E,"backgroundColor",constructColor(_.windowColor,_.windowOpacity)):E.style.backgroundColor=_.windowColor),_.edgeStyle&&("dropshadow"===_.edgeStyle?E.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===_.edgeStyle?E.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===_.edgeStyle?E.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===_.edgeStyle&&(E.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),_.fontPercent&&1!==_.fontPercent){var C=S.a.parseFloat(E.style.fontSize);E.style.fontSize=C*_.fontPercent+"px",E.style.height="auto",E.style.top="auto"}_.fontFamily&&"default"!==_.fontFamily&&("small-caps"===_.fontFamily?E.firstChild.style.fontVariant="small-caps":E.firstChild.style.fontFamily=Ea[_.fontFamily])}}},_.updateForTrack=function updateForTrack(v){if(Array.isArray(v)||(v=[v]),"function"==typeof S.a.WebVTT&&!v.every((function(v){return!v.activeCues}))){for(var _=[],b=0;b<v.length;++b)for(var T=v[b],w=0;w<T.activeCues.length;++w)_.push(T.activeCues[w]);S.a.WebVTT.processCues(S.a,_,this.el_);for(var E=0;E<v.length;++E){for(var C=v[E],k=0;k<C.activeCues.length;++k){var x=C.activeCues[k].displayState;addClass(x,"vjs-text-track-cue"),addClass(x,"vjs-text-track-cue-"+(C.language?C.language:E))}this.player_.textTrackSettings&&this.updateDisplayState(C)}}},TextTrackDisplay}(rr);rr.registerComponent("TextTrackDisplay",Ca);var ka=function(v){function LoadingSpinner(){return v.apply(this,arguments)||this}return O()(LoadingSpinner,v),LoadingSpinner.prototype.createEl=function createEl$1(){var _=this.player_.isAudio(),b=this.localize(_?"Audio Player":"Video Player"),T=video_es_createEl("span",{"className":"vjs-control-text","innerHTML":this.localize("{1} is loading.",[b])}),S=v.prototype.createEl.call(this,"div",{"className":"vjs-loading-spinner","dir":"ltr"});return S.appendChild(T),S},LoadingSpinner}(rr);rr.registerComponent("LoadingSpinner",ka);var xa=function(v){function Button(){return v.apply(this,arguments)||this}O()(Button,v);var _=Button.prototype;return _.createEl=function createEl(v,_,b){void 0===_&&(_={}),void 0===b&&(b={}),_=video_es_assign({"innerHTML":'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',"className":this.buildCSSClass()},_),b=video_es_assign({"type":"button"},b);var T=rr.prototype.createEl.call(this,"button",_,b);return this.createControlTextEl(T),T},_.addChild=function addChild(v,_){void 0===_&&(_={});var b=this.constructor.name;return bi.warn("Adding an actionable (user controllable) child to a Button ("+b+") is not supported; use a ClickableComponent instead."),rr.prototype.addChild.call(this,v,_)},_.enable=function enable(){v.prototype.enable.call(this),this.el_.removeAttribute("disabled")},_.disable=function disable(){v.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},_.handleKeyDown=function handleKeyDown(_){R.a.isEventKey(_,"Space")||R.a.isEventKey(_,"Enter")?_.stopPropagation():v.prototype.handleKeyDown.call(this,_)},Button}(Sa);rr.registerComponent("Button",xa);var Aa=function(v){function BigPlayButton(_,b){var T;return(T=v.call(this,_,b)||this).mouseused_=!1,T.on("mousedown",T.handleMouseDown),T}O()(BigPlayButton,v);var _=BigPlayButton.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-big-play-button"},_.handleClick=function handleClick(v){var _=this.player_.play();if(this.mouseused_&&v.clientX&&v.clientY){var b=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return silencePromise(_),void(!this.player_.tech(!0)||(yr||mr)&&b||this.player_.tech(!0).focus())}var T=this.player_.getChild("controlBar"),S=T&&T.getChild("playToggle");if(S){var w=function playFocus(){return S.focus()};isPromise(_)?_.then(w,(function(){})):this.setTimeout(w,1)}else this.player_.tech(!0).focus()},_.handleKeyDown=function handleKeyDown(_){this.mouseused_=!1,v.prototype.handleKeyDown.call(this,_)},_.handleMouseDown=function handleMouseDown(v){this.mouseused_=!0},BigPlayButton}(xa);Aa.prototype.controlText_="Play Video",rr.registerComponent("BigPlayButton",Aa);var Pa=function(v){function CloseButton(_,b){var T;return(T=v.call(this,_,b)||this).controlText(b&&b.controlText||T.localize("Close")),T}O()(CloseButton,v);var _=CloseButton.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-close-button "+v.prototype.buildCSSClass.call(this)},_.handleClick=function handleClick(v){this.trigger({"type":"close","bubbles":!1})},_.handleKeyDown=function handleKeyDown(_){R.a.isEventKey(_,"Esc")?(_.preventDefault(),_.stopPropagation(),this.trigger("click")):v.prototype.handleKeyDown.call(this,_)},CloseButton}(xa);rr.registerComponent("CloseButton",Pa);var Ia=function(v){function PlayToggle(_,b){var T;return void 0===b&&(b={}),T=v.call(this,_,b)||this,b.replay=void 0===b.replay||b.replay,T.on(_,"play",T.handlePlay),T.on(_,"pause",T.handlePause),b.replay&&T.on(_,"ended",T.handleEnded),T}O()(PlayToggle,v);var _=PlayToggle.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-play-control "+v.prototype.buildCSSClass.call(this)},_.handleClick=function handleClick(v){this.player_.paused()?this.player_.play():this.player_.pause()},_.handleSeeked=function handleSeeked(v){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(v):this.handlePlay(v)},_.handlePlay=function handlePlay(v){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},_.handlePause=function handlePause(v){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},_.handleEnded=function handleEnded(v){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},PlayToggle}(xa);Ia.prototype.controlText_="Play",rr.registerComponent("PlayToggle",Ia);var Oa=function defaultImplementation(v,_){v=v<0?0:v;var b=Math.floor(v%60),T=Math.floor(v/60%60),S=Math.floor(v/3600),w=Math.floor(_/60%60),E=Math.floor(_/3600);return(isNaN(v)||v===1/0)&&(S=T=b="-"),(S=S>0||E>0?S+":":"")+(T=((S||w>=10)&&T<10?"0"+T:T)+":")+(b=b<10?"0"+b:b)},La=Oa;function formatTime(v,_){return void 0===_&&(_=v),La(v,_)}var Ma=function(v){function TimeDisplay(_,b){var T;return(T=v.call(this,_,b)||this).on(_,["timeupdate","ended"],T.updateContent),T.updateTextNode_(),T}O()(TimeDisplay,v);var _=TimeDisplay.prototype;return _.createEl=function createEl$1(){var _=this.buildCSSClass(),b=v.prototype.createEl.call(this,"div",{"className":_+" vjs-time-control vjs-control","innerHTML":'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=video_es_createEl("span",{"className":_+"-display"},{"aria-live":"off","role":"presentation"}),b.appendChild(this.contentEl_),b},_.dispose=function dispose(){this.contentEl_=null,this.textNode_=null,v.prototype.dispose.call(this)},_.updateTextNode_=function updateTextNode_(v){var _=this;void 0===v&&(v=0),v=formatTime(v),this.formattedTime_!==v&&(this.formattedTime_=v,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(_.contentEl_){var v=_.textNode_;v&&_.contentEl_.firstChild!==v&&(v=null,bi.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),_.textNode_=E.a.createTextNode(_.formattedTime_),_.textNode_&&(v?_.contentEl_.replaceChild(_.textNode_,v):_.contentEl_.appendChild(_.textNode_))}})))},_.updateContent=function updateContent(v){},TimeDisplay}(rr);Ma.prototype.labelText_="Time",Ma.prototype.controlText_="Time",rr.registerComponent("TimeDisplay",Ma);var Da=function(v){function CurrentTimeDisplay(){return v.apply(this,arguments)||this}O()(CurrentTimeDisplay,v);var _=CurrentTimeDisplay.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-current-time"},_.updateContent=function updateContent(v){var _;_=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(_)},CurrentTimeDisplay}(Ma);Da.prototype.labelText_="Current Time",Da.prototype.controlText_="Current Time",rr.registerComponent("CurrentTimeDisplay",Da);var Na=function(v){function DurationDisplay(_,b){var T;return(T=v.call(this,_,b)||this).on(_,"durationchange",T.updateContent),T.on(_,"loadstart",T.updateContent),T.on(_,"loadedmetadata",T.updateContent),T}O()(DurationDisplay,v);var _=DurationDisplay.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-duration"},_.updateContent=function updateContent(v){var _=this.player_.duration();this.updateTextNode_(_)},DurationDisplay}(Ma);Na.prototype.labelText_="Duration",Na.prototype.controlText_="Duration",rr.registerComponent("DurationDisplay",Na);var Ra=function(v){function TimeDivider(){return v.apply(this,arguments)||this}return O()(TimeDivider,v),TimeDivider.prototype.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-time-control vjs-time-divider","innerHTML":"<div><span>/</span></div>"},{"aria-hidden":!0})},TimeDivider}(rr);rr.registerComponent("TimeDivider",Ra);var Ba=function(v){function RemainingTimeDisplay(_,b){var T;return(T=v.call(this,_,b)||this).on(_,"durationchange",T.updateContent),T}O()(RemainingTimeDisplay,v);var _=RemainingTimeDisplay.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-remaining-time"},_.createEl=function createEl$1(){var _=v.prototype.createEl.call(this);return _.insertBefore(video_es_createEl("span",{},{"aria-hidden":!0},"-"),this.contentEl_),_},_.updateContent=function updateContent(v){var _;"number"==typeof this.player_.duration()&&(_=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(_))},RemainingTimeDisplay}(Ma);Ba.prototype.labelText_="Remaining Time",Ba.prototype.controlText_="Remaining Time",rr.registerComponent("RemainingTimeDisplay",Ba);var ja=function(v){function LiveDisplay(_,b){var T;return(T=v.call(this,_,b)||this).updateShowing(),T.on(T.player(),"durationchange",T.updateShowing),T}O()(LiveDisplay,v);var _=LiveDisplay.prototype;return _.createEl=function createEl$1(){var _=v.prototype.createEl.call(this,"div",{"className":"vjs-live-control vjs-control"});return this.contentEl_=video_es_createEl("div",{"className":"vjs-live-display","innerHTML":'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),_.appendChild(this.contentEl_),_},_.dispose=function dispose(){this.contentEl_=null,v.prototype.dispose.call(this)},_.updateShowing=function updateShowing(v){this.player().duration()===1/0?this.show():this.hide()},LiveDisplay}(rr);rr.registerComponent("LiveDisplay",ja);var Ua=function(v){function SeekToLive(_,b){var T;return(T=v.call(this,_,b)||this).updateLiveEdgeStatus(),T.player_.liveTracker&&T.on(T.player_.liveTracker,"liveedgechange",T.updateLiveEdgeStatus),T}O()(SeekToLive,v);var _=SeekToLive.prototype;return _.createEl=function createEl$1(){var _=v.prototype.createEl.call(this,"button",{"className":"vjs-seek-to-live-control vjs-control"});return this.textEl_=video_es_createEl("span",{"className":"vjs-seek-to-live-text","innerHTML":this.localize("LIVE")},{"aria-hidden":"true"}),_.appendChild(this.textEl_),_},_.updateLiveEdgeStatus=function updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},_.handleClick=function handleClick(){this.player_.liveTracker.seekToLiveEdge()},_.dispose=function dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,v.prototype.dispose.call(this)},SeekToLive}(xa);Ua.prototype.controlText_="Seek to live, currently playing live",rr.registerComponent("SeekToLive",Ua);var Fa=function clamp(v,_,b){return v=Number(v),Math.min(b,Math.max(_,isNaN(v)?_:v))},Va=function(v){function Slider(_,b){var T;return(T=v.call(this,_,b)||this).bar=T.getChild(T.options_.barName),T.vertical(!!T.options_.vertical),T.enable(),T}O()(Slider,v);var _=Slider.prototype;return _.enabled=function enabled(){return this.enabled_},_.enable=function enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},_.disable=function disable(){if(this.enabled()){var v=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(v,"mousemove",this.handleMouseMove),this.off(v,"mouseup",this.handleMouseUp),this.off(v,"touchmove",this.handleMouseMove),this.off(v,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},_.createEl=function createEl(_,b,T){return void 0===b&&(b={}),void 0===T&&(T={}),b.className=b.className+" vjs-slider",b=video_es_assign({"tabIndex":0},b),T=video_es_assign({"role":"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,"tabIndex":0},T),v.prototype.createEl.call(this,_,b,T)},_.handleMouseDown=function handleMouseDown(v){var _=this.bar.el_.ownerDocument;"mousedown"===v.type&&v.preventDefault(),"touchstart"!==v.type||gr||v.preventDefault(),blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(_,"mousemove",this.handleMouseMove),this.on(_,"mouseup",this.handleMouseUp),this.on(_,"touchmove",this.handleMouseMove),this.on(_,"touchend",this.handleMouseUp),this.handleMouseMove(v)},_.handleMouseMove=function handleMouseMove(v){},_.handleMouseUp=function handleMouseUp(){var v=this.bar.el_.ownerDocument;unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(v,"mousemove",this.handleMouseMove),this.off(v,"mouseup",this.handleMouseUp),this.off(v,"touchmove",this.handleMouseMove),this.off(v,"touchend",this.handleMouseUp),this.update()},_.update=function update(){var v=this;if(this.el_&&this.bar){var _=this.getProgress();return _===this.progress_||(this.progress_=_,this.requestNamedAnimationFrame("Slider#update",(function(){var b=v.vertical()?"height":"width";v.bar.el().style[b]=(100*_).toFixed(2)+"%"}))),_}},_.getProgress=function getProgress(){return Number(Fa(this.getPercent(),0,1).toFixed(4))},_.calculateDistance=function calculateDistance(v){var _=getPointerPosition(this.el_,v);return this.vertical()?_.y:_.x},_.handleKeyDown=function handleKeyDown(_){R.a.isEventKey(_,"Left")||R.a.isEventKey(_,"Down")?(_.preventDefault(),_.stopPropagation(),this.stepBack()):R.a.isEventKey(_,"Right")||R.a.isEventKey(_,"Up")?(_.preventDefault(),_.stopPropagation(),this.stepForward()):v.prototype.handleKeyDown.call(this,_)},_.handleClick=function handleClick(v){v.stopPropagation(),v.preventDefault()},_.vertical=function vertical(v){if(void 0===v)return this.vertical_||!1;this.vertical_=!!v,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},Slider}(rr);rr.registerComponent("Slider",Va);var Ha=function percentify(v,_){return Fa(v/_*100,0,100).toFixed(2)+"%"},Wa=function(v){function LoadProgressBar(_,b){var T;return(T=v.call(this,_,b)||this).partEls_=[],T.on(_,"progress",T.update),T}O()(LoadProgressBar,v);var _=LoadProgressBar.prototype;return _.createEl=function createEl$1(){var _=v.prototype.createEl.call(this,"div",{"className":"vjs-load-progress"}),b=video_es_createEl("span",{"className":"vjs-control-text"}),T=video_es_createEl("span",{"textContent":this.localize("Loaded")}),S=E.a.createTextNode(": ");return this.percentageEl_=video_es_createEl("span",{"className":"vjs-control-text-loaded-percentage","textContent":"0%"}),_.appendChild(b),b.appendChild(T),b.appendChild(S),b.appendChild(this.percentageEl_),_},_.dispose=function dispose(){this.partEls_=null,this.percentageEl_=null,v.prototype.dispose.call(this)},_.update=function update(v){var _=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var v=_.player_.liveTracker,b=_.player_.buffered(),T=v&&v.isLive()?v.seekableEnd():_.player_.duration(),S=_.player_.bufferedEnd(),w=_.partEls_,E=Ha(S,T);_.percent_!==E&&(_.el_.style.width=E,textContent(_.percentageEl_,E),_.percent_=E);for(var C=0;C<b.length;C++){var k=b.start(C),x=b.end(C),P=w[C];P||(P=_.el_.appendChild(video_es_createEl()),w[C]=P),P.dataset.start===k&&P.dataset.end===x||(P.dataset.start=k,P.dataset.end=x,P.style.left=Ha(k,S),P.style.width=Ha(x-k,S))}for(var I=w.length;I>b.length;I--)_.el_.removeChild(w[I-1]);w.length=b.length}))},LoadProgressBar}(rr);rr.registerComponent("LoadProgressBar",Wa);var qa=function(v){function TimeTooltip(_,b){var T;return(T=v.call(this,_,b)||this).update=Fi(Ui(P()(T),T.update),30),T}O()(TimeTooltip,v);var _=TimeTooltip.prototype;return _.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-time-tooltip"},{"aria-hidden":"true"})},_.update=function update(v,_,b){var T=findPosition(this.el_),S=getBoundingClientRect(this.player_.el()),w=v.width*_;if(S&&T){var E=v.left-S.left+w,C=v.width-w+(S.right-v.right),k=T.width/2;E<k?k+=k-E:C<k&&(k=C),k<0?k=0:k>T.width&&(k=T.width),k=Math.round(k),this.el_.style.right="-"+k+"px",this.write(b)}},_.write=function write(v){textContent(this.el_,v)},_.updateTime=function updateTime(v,_,b,T){var S=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var w,E=S.player_.duration();if(S.player_.liveTracker&&S.player_.liveTracker.isLive()){var C=S.player_.liveTracker.liveWindow(),k=C-_*C;w=(k<1?"":"-")+formatTime(k,C)}else w=formatTime(b,E);S.update(v,_,w),T&&T()}))},TimeTooltip}(rr);rr.registerComponent("TimeTooltip",qa);var za=function(v){function PlayProgressBar(_,b){var T;return(T=v.call(this,_,b)||this).update=Fi(Ui(P()(T),T.update),30),T}O()(PlayProgressBar,v);var _=PlayProgressBar.prototype;return _.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},_.update=function update(v,_){var b=this.getChild("timeTooltip");if(b){var T=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();b.updateTime(v,_,T)}},PlayProgressBar}(rr);za.prototype.options_={"children":[]},Er||dr||za.prototype.options_.children.push("timeTooltip"),rr.registerComponent("PlayProgressBar",za);var Ga=function(v){function MouseTimeDisplay(_,b){var T;return(T=v.call(this,_,b)||this).update=Fi(Ui(P()(T),T.update),30),T}O()(MouseTimeDisplay,v);var _=MouseTimeDisplay.prototype;return _.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-mouse-display"})},_.update=function update(v,_){var b=this,T=_*this.player_.duration();this.getChild("timeTooltip").updateTime(v,_,T,(function(){b.el_.style.left=v.width*_+"px"}))},MouseTimeDisplay}(rr);Ga.prototype.options_={"children":["timeTooltip"]},rr.registerComponent("MouseTimeDisplay",Ga);var Ya=function(v){function SeekBar(_,b){var T;return(T=v.call(this,_,b)||this).setEventHandlers_(),T}O()(SeekBar,v);var _=SeekBar.prototype;return _.setEventHandlers_=function setEventHandlers_(){this.update_=Ui(this,this.update),this.update=Fi(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in E.a&&"visibilityState"in E.a&&this.on(E.a,"visibilitychange",this.toggleVisibility_)},_.toggleVisibility_=function toggleVisibility_(v){E.a.hidden?this.disableInterval_(v):(this.enableInterval_(),this.update())},_.enableInterval_=function enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},_.disableInterval_=function disableInterval_(v){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&v&&"ended"!==v.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},_.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},_.update=function update(_){var b=this,T=v.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var v=b.player_.ended()?b.player_.duration():b.getCurrentTime_(),_=b.player_.liveTracker,S=b.player_.duration();_&&_.isLive()&&(S=b.player_.liveTracker.liveCurrentTime()),b.percent_!==T&&(b.el_.setAttribute("aria-valuenow",(100*T).toFixed(2)),b.percent_=T),b.currentTime_===v&&b.duration_===S||(b.el_.setAttribute("aria-valuetext",b.localize("progress bar timing: currentTime={1} duration={2}",[formatTime(v,S),formatTime(S,S)],"{1} of {2}")),b.currentTime_=v,b.duration_=S),b.bar&&b.bar.update(getBoundingClientRect(b.el()),b.getProgress())})),T},_.getCurrentTime_=function getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},_.getPercent=function getPercent(){var v,_=this.getCurrentTime_(),b=this.player_.liveTracker;return b&&b.isLive()?(v=(_-b.seekableStart())/b.liveWindow(),b.atLiveEdge()&&(v=1)):v=_/this.player_.duration(),v},_.handleMouseDown=function handleMouseDown(_){isSingleLeftClick(_)&&(_.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),v.prototype.handleMouseDown.call(this,_))},_.handleMouseMove=function handleMouseMove(v){if(isSingleLeftClick(v)){var _,b=this.calculateDistance(v),T=this.player_.liveTracker;if(T&&T.isLive()){if(b>=.99)return void T.seekToLiveEdge();var S=T.seekableStart(),w=T.liveCurrentTime();if((_=S+b*T.liveWindow())>=w&&(_=w),_<=S&&(_=S+.1),_===1/0)return}else(_=b*this.player_.duration())===this.player_.duration()&&(_-=.1);this.player_.currentTime(_)}},_.enable=function enable(){v.prototype.enable.call(this);var _=this.getChild("mouseTimeDisplay");_&&_.show()},_.disable=function disable(){v.prototype.disable.call(this);var _=this.getChild("mouseTimeDisplay");_&&_.hide()},_.handleMouseUp=function handleMouseUp(_){v.prototype.handleMouseUp.call(this,_),_&&_.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({"type":"timeupdate","target":this,"manuallyTriggered":!0}),this.videoWasPlaying?silencePromise(this.player_.play()):this.update_()},_.stepForward=function stepForward(){this.player_.currentTime(this.player_.currentTime()+5)},_.stepBack=function stepBack(){this.player_.currentTime(this.player_.currentTime()-5)},_.handleAction=function handleAction(v){this.player_.paused()?this.player_.play():this.player_.pause()},_.handleKeyDown=function handleKeyDown(_){if(R.a.isEventKey(_,"Space")||R.a.isEventKey(_,"Enter"))_.preventDefault(),_.stopPropagation(),this.handleAction(_);else if(R.a.isEventKey(_,"Home"))_.preventDefault(),_.stopPropagation(),this.player_.currentTime(0);else if(R.a.isEventKey(_,"End"))_.preventDefault(),_.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(R()(_))){_.preventDefault(),_.stopPropagation();var b=10*(R.a.codes[R()(_)]-R.a.codes[0])/100;this.player_.currentTime(this.player_.duration()*b)}else R.a.isEventKey(_,"PgDn")?(_.preventDefault(),_.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):R.a.isEventKey(_,"PgUp")?(_.preventDefault(),_.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):v.prototype.handleKeyDown.call(this,_)},_.dispose=function dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in E.a&&"visibilityState"in E.a&&this.off(E.a,"visibilitychange",this.toggleVisibility_),v.prototype.dispose.call(this)},SeekBar}(Va);Ya.prototype.options_={"children":["loadProgressBar","playProgressBar"],"barName":"playProgressBar"},Er||dr||Ya.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),rr.registerComponent("SeekBar",Ya);var Xa=function(v){function ProgressControl(_,b){var T;return(T=v.call(this,_,b)||this).handleMouseMove=Fi(Ui(P()(T),T.handleMouseMove),30),T.throttledHandleMouseSeek=Fi(Ui(P()(T),T.handleMouseSeek),30),T.enable(),T}O()(ProgressControl,v);var _=ProgressControl.prototype;return _.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-progress-control vjs-control"})},_.handleMouseMove=function handleMouseMove(v){var _=this.getChild("seekBar");if(_){var b=_.getChild("playProgressBar"),T=_.getChild("mouseTimeDisplay");if(b||T){var S=_.el(),w=findPosition(S),E=getPointerPosition(S,v).x;E=Fa(E,0,1),T&&T.update(w,E),b&&b.update(w,_.getProgress())}}},_.handleMouseSeek=function handleMouseSeek(v){var _=this.getChild("seekBar");_&&_.handleMouseMove(v)},_.enabled=function enabled(){return this.enabled_},_.disable=function disable(){this.children().forEach((function(v){return v.disable&&v.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},_.enable=function enable(){this.children().forEach((function(v){return v.enable&&v.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},_.handleMouseDown=function handleMouseDown(v){var _=this.el_.ownerDocument,b=this.getChild("seekBar");b&&b.handleMouseDown(v),this.on(_,"mousemove",this.throttledHandleMouseSeek),this.on(_,"touchmove",this.throttledHandleMouseSeek),this.on(_,"mouseup",this.handleMouseUp),this.on(_,"touchend",this.handleMouseUp)},_.handleMouseUp=function handleMouseUp(v){var _=this.el_.ownerDocument,b=this.getChild("seekBar");b&&b.handleMouseUp(v),this.off(_,"mousemove",this.throttledHandleMouseSeek),this.off(_,"touchmove",this.throttledHandleMouseSeek),this.off(_,"mouseup",this.handleMouseUp),this.off(_,"touchend",this.handleMouseUp)},ProgressControl}(rr);Xa.prototype.options_={"children":["seekBar"]},rr.registerComponent("ProgressControl",Xa);var Ka=function(v){function PictureInPictureToggle(_,b){var T;return(T=v.call(this,_,b)||this).on(_,["enterpictureinpicture","leavepictureinpicture"],T.handlePictureInPictureChange),T.on(_,["disablepictureinpicturechanged","loadedmetadata"],T.handlePictureInPictureEnabledChange),T.disable(),T}O()(PictureInPictureToggle,v);var _=PictureInPictureToggle.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-picture-in-picture-control "+v.prototype.buildCSSClass.call(this)},_.handlePictureInPictureEnabledChange=function handlePictureInPictureEnabledChange(){E.a.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},_.handlePictureInPictureChange=function handlePictureInPictureChange(v){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},_.handleClick=function handleClick(v){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},PictureInPictureToggle}(xa);Ka.prototype.controlText_="Picture-in-Picture",rr.registerComponent("PictureInPictureToggle",Ka);var Qa=function(v){function FullscreenToggle(_,b){var T;return(T=v.call(this,_,b)||this).on(_,"fullscreenchange",T.handleFullscreenChange),!1===E.a[_.fsApi_.fullscreenEnabled]&&T.disable(),T}O()(FullscreenToggle,v);var _=FullscreenToggle.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-fullscreen-control "+v.prototype.buildCSSClass.call(this)},_.handleFullscreenChange=function handleFullscreenChange(v){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},_.handleClick=function handleClick(v){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},FullscreenToggle}(xa);Qa.prototype.controlText_="Fullscreen",rr.registerComponent("FullscreenToggle",Qa);var $a=function(v){function VolumeLevel(){return v.apply(this,arguments)||this}return O()(VolumeLevel,v),VolumeLevel.prototype.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-volume-level","innerHTML":'<span class="vjs-control-text"></span>'})},VolumeLevel}(rr);rr.registerComponent("VolumeLevel",$a);var Ja=function(v){function VolumeBar(_,b){var T;return(T=v.call(this,_,b)||this).on("slideractive",T.updateLastVolume_),T.on(_,"volumechange",T.updateARIAAttributes),_.ready((function(){return T.updateARIAAttributes()})),T}O()(VolumeBar,v);var _=VolumeBar.prototype;return _.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},_.handleMouseDown=function handleMouseDown(_){isSingleLeftClick(_)&&v.prototype.handleMouseDown.call(this,_)},_.handleMouseMove=function handleMouseMove(v){isSingleLeftClick(v)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(v)))},_.checkMuted=function checkMuted(){this.player_.muted()&&this.player_.muted(!1)},_.getPercent=function getPercent(){return this.player_.muted()?0:this.player_.volume()},_.stepForward=function stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},_.stepBack=function stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},_.updateARIAAttributes=function updateARIAAttributes(v){var _=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",_),this.el_.setAttribute("aria-valuetext",_+"%")},_.volumeAsPercentage_=function volumeAsPercentage_(){return Math.round(100*this.player_.volume())},_.updateLastVolume_=function updateLastVolume_(){var v=this,_=this.player_.volume();this.one("sliderinactive",(function(){0===v.player_.volume()&&v.player_.lastVolume_(_)}))},VolumeBar}(Va);Ja.prototype.options_={"children":["volumeLevel"],"barName":"volumeLevel"},Ja.prototype.playerEvent="volumechange",rr.registerComponent("VolumeBar",Ja);var Za=function(v){function VolumeControl(_,b){var T;return void 0===b&&(b={}),b.vertical=b.vertical||!1,(void 0===b.volumeBar||isPlain(b.volumeBar))&&(b.volumeBar=b.volumeBar||{},b.volumeBar.vertical=b.vertical),T=v.call(this,_,b)||this,function checkVolumeSupport(v,_){_.tech_&&!_.tech_.featuresVolumeControl&&v.addClass("vjs-hidden"),v.on(_,"loadstart",(function(){_.tech_.featuresVolumeControl?v.removeClass("vjs-hidden"):v.addClass("vjs-hidden")}))}(P()(T),_),T.throttledHandleMouseMove=Fi(Ui(P()(T),T.handleMouseMove),30),T.on("mousedown",T.handleMouseDown),T.on("touchstart",T.handleMouseDown),T.on(T.volumeBar,["focus","slideractive"],(function(){T.volumeBar.addClass("vjs-slider-active"),T.addClass("vjs-slider-active"),T.trigger("slideractive")})),T.on(T.volumeBar,["blur","sliderinactive"],(function(){T.volumeBar.removeClass("vjs-slider-active"),T.removeClass("vjs-slider-active"),T.trigger("sliderinactive")})),T}O()(VolumeControl,v);var _=VolumeControl.prototype;return _.createEl=function createEl(){var _="vjs-volume-horizontal";return this.options_.vertical&&(_="vjs-volume-vertical"),v.prototype.createEl.call(this,"div",{"className":"vjs-volume-control vjs-control "+_})},_.handleMouseDown=function handleMouseDown(v){var _=this.el_.ownerDocument;this.on(_,"mousemove",this.throttledHandleMouseMove),this.on(_,"touchmove",this.throttledHandleMouseMove),this.on(_,"mouseup",this.handleMouseUp),this.on(_,"touchend",this.handleMouseUp)},_.handleMouseUp=function handleMouseUp(v){var _=this.el_.ownerDocument;this.off(_,"mousemove",this.throttledHandleMouseMove),this.off(_,"touchmove",this.throttledHandleMouseMove),this.off(_,"mouseup",this.handleMouseUp),this.off(_,"touchend",this.handleMouseUp)},_.handleMouseMove=function handleMouseMove(v){this.volumeBar.handleMouseMove(v)},VolumeControl}(rr);Za.prototype.options_={"children":["volumeBar"]},rr.registerComponent("VolumeControl",Za);var _o=function(v){function MuteToggle(_,b){var T;return T=v.call(this,_,b)||this,function checkMuteSupport(v,_){_.tech_&&!_.tech_.featuresMuteControl&&v.addClass("vjs-hidden"),v.on(_,"loadstart",(function(){_.tech_.featuresMuteControl?v.removeClass("vjs-hidden"):v.addClass("vjs-hidden")}))}(P()(T),_),T.on(_,["loadstart","volumechange"],T.update),T}O()(MuteToggle,v);var _=MuteToggle.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-mute-control "+v.prototype.buildCSSClass.call(this)},_.handleClick=function handleClick(v){var _=this.player_.volume(),b=this.player_.lastVolume_();if(0===_){var T=b<.1?.1:b;this.player_.volume(T),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},_.update=function update(v){this.updateIcon_(),this.updateControlText_()},_.updateIcon_=function updateIcon_(){var v=this.player_.volume(),_=3;Er&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===v||this.player_.muted()?_=0:v<.33?_=1:v<.67&&(_=2);for(var b=0;b<4;b++)removeClass(this.el_,"vjs-vol-"+b);addClass(this.el_,"vjs-vol-"+_)},_.updateControlText_=function updateControlText_(){var v=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==v&&this.controlText(v)},MuteToggle}(xa);_o.prototype.controlText_="Mute",rr.registerComponent("MuteToggle",_o);var Co=function(v){function VolumePanel(_,b){var T;return void 0===b&&(b={}),void 0!==b.inline?b.inline=b.inline:b.inline=!0,(void 0===b.volumeControl||isPlain(b.volumeControl))&&(b.volumeControl=b.volumeControl||{},b.volumeControl.vertical=!b.inline),(T=v.call(this,_,b)||this).on(_,["loadstart"],T.volumePanelState_),T.on(T.muteToggle,"keyup",T.handleKeyPress),T.on(T.volumeControl,"keyup",T.handleVolumeControlKeyUp),T.on("keydown",T.handleKeyPress),T.on("mouseover",T.handleMouseOver),T.on("mouseout",T.handleMouseOut),T.on(T.volumeControl,["slideractive"],T.sliderActive_),T.on(T.volumeControl,["sliderinactive"],T.sliderInactive_),T}O()(VolumePanel,v);var _=VolumePanel.prototype;return _.sliderActive_=function sliderActive_(){this.addClass("vjs-slider-active")},_.sliderInactive_=function sliderInactive_(){this.removeClass("vjs-slider-active")},_.volumePanelState_=function volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},_.createEl=function createEl(){var _="vjs-volume-panel-horizontal";return this.options_.inline||(_="vjs-volume-panel-vertical"),v.prototype.createEl.call(this,"div",{"className":"vjs-volume-panel vjs-control "+_})},_.dispose=function dispose(){this.handleMouseOut(),v.prototype.dispose.call(this)},_.handleVolumeControlKeyUp=function handleVolumeControlKeyUp(v){R.a.isEventKey(v,"Esc")&&this.muteToggle.focus()},_.handleMouseOver=function handleMouseOver(v){this.addClass("vjs-hover"),on(E.a,"keyup",Ui(this,this.handleKeyPress))},_.handleMouseOut=function handleMouseOut(v){this.removeClass("vjs-hover"),off(E.a,"keyup",Ui(this,this.handleKeyPress))},_.handleKeyPress=function handleKeyPress(v){R.a.isEventKey(v,"Esc")&&this.handleMouseOut()},VolumePanel}(rr);Co.prototype.options_={"children":["muteToggle","volumeControl"]},rr.registerComponent("VolumePanel",Co);var ko=function(v){function Menu(_,b){var T;return T=v.call(this,_,b)||this,b&&(T.menuButton_=b.menuButton),T.focusedChild_=-1,T.on("keydown",T.handleKeyDown),T.boundHandleBlur_=Ui(P()(T),T.handleBlur),T.boundHandleTapClick_=Ui(P()(T),T.handleTapClick),T}O()(Menu,v);var _=Menu.prototype;return _.addEventListenerForItem=function addEventListenerForItem(v){v instanceof rr&&(this.on(v,"blur",this.boundHandleBlur_),this.on(v,["tap","click"],this.boundHandleTapClick_))},_.removeEventListenerForItem=function removeEventListenerForItem(v){v instanceof rr&&(this.off(v,"blur",this.boundHandleBlur_),this.off(v,["tap","click"],this.boundHandleTapClick_))},_.removeChild=function removeChild(_){"string"==typeof _&&(_=this.getChild(_)),this.removeEventListenerForItem(_),v.prototype.removeChild.call(this,_)},_.addItem=function addItem(v){var _=this.addChild(v);_&&this.addEventListenerForItem(_)},_.createEl=function createEl$1(){var _=this.options_.contentElType||"ul";this.contentEl_=video_es_createEl(_,{"className":"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var b=v.prototype.createEl.call(this,"div",{"append":this.contentEl_,"className":"vjs-menu"});return b.appendChild(this.contentEl_),on(b,"click",(function(v){v.preventDefault(),v.stopImmediatePropagation()})),b},_.dispose=function dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,v.prototype.dispose.call(this)},_.handleBlur=function handleBlur(v){var _=v.relatedTarget||E.a.activeElement;if(!this.children().some((function(v){return v.el()===_}))){var b=this.menuButton_;b&&b.buttonPressed_&&_!==b.el().firstChild&&b.unpressButton()}},_.handleTapClick=function handleTapClick(v){if(this.menuButton_){this.menuButton_.unpressButton();var _=this.children();if(!Array.isArray(_))return;var b=_.filter((function(_){return _.el()===v.target}))[0];if(!b)return;"CaptionSettingsMenuItem"!==b.name()&&this.menuButton_.focus()}},_.handleKeyDown=function handleKeyDown(v){R.a.isEventKey(v,"Left")||R.a.isEventKey(v,"Down")?(v.preventDefault(),v.stopPropagation(),this.stepForward()):(R.a.isEventKey(v,"Right")||R.a.isEventKey(v,"Up"))&&(v.preventDefault(),v.stopPropagation(),this.stepBack())},_.stepForward=function stepForward(){var v=0;void 0!==this.focusedChild_&&(v=this.focusedChild_+1),this.focus(v)},_.stepBack=function stepBack(){var v=0;void 0!==this.focusedChild_&&(v=this.focusedChild_-1),this.focus(v)},_.focus=function focus(v){void 0===v&&(v=0);var _=this.children().slice();_.length&&_[0].hasClass("vjs-menu-title")&&_.shift(),_.length>0&&(v<0?v=0:v>=_.length&&(v=_.length-1),this.focusedChild_=v,_[v].el_.focus())},Menu}(rr);rr.registerComponent("Menu",ko);var Po=function(v){function MenuButton(_,b){var T;void 0===b&&(b={}),(T=v.call(this,_,b)||this).menuButton_=new xa(_,b),T.menuButton_.controlText(T.controlText_),T.menuButton_.el_.setAttribute("aria-haspopup","true");var S=xa.prototype.buildCSSClass();return T.menuButton_.el_.className=T.buildCSSClass()+" "+S,T.menuButton_.removeClass("vjs-control"),T.addChild(T.menuButton_),T.update(),T.enabled_=!0,T.on(T.menuButton_,"tap",T.handleClick),T.on(T.menuButton_,"click",T.handleClick),T.on(T.menuButton_,"keydown",T.handleKeyDown),T.on(T.menuButton_,"mouseenter",(function(){T.addClass("vjs-hover"),T.menu.show(),on(E.a,"keyup",Ui(P()(T),T.handleMenuKeyUp))})),T.on("mouseleave",T.handleMouseLeave),T.on("keydown",T.handleSubmenuKeyDown),T}O()(MenuButton,v);var _=MenuButton.prototype;return _.update=function update(){var v=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=v,this.addChild(v),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},_.createMenu=function createMenu(){var v=new ko(this.player_,{"menuButton":this});if(this.hideThreshold_=0,this.options_.title){var _=video_es_createEl("li",{"className":"vjs-menu-title","innerHTML":Zi(this.options_.title),"tabIndex":-1});this.hideThreshold_+=1;var b=new rr(this.player_,{"el":_});v.addItem(b)}if(this.items=this.createItems(),this.items)for(var T=0;T<this.items.length;T++)v.addItem(this.items[T]);return v},_.createItems=function createItems(){},_.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":this.buildWrapperCSSClass()},{})},_.buildWrapperCSSClass=function buildWrapperCSSClass(){var _="vjs-menu-button";return!0===this.options_.inline?_+="-inline":_+="-popup","vjs-menu-button "+_+" "+xa.prototype.buildCSSClass()+" "+v.prototype.buildCSSClass.call(this)},_.buildCSSClass=function buildCSSClass(){var _="vjs-menu-button";return!0===this.options_.inline?_+="-inline":_+="-popup","vjs-menu-button "+_+" "+v.prototype.buildCSSClass.call(this)},_.controlText=function controlText(v,_){return void 0===_&&(_=this.menuButton_.el()),this.menuButton_.controlText(v,_)},_.dispose=function dispose(){this.handleMouseLeave(),v.prototype.dispose.call(this)},_.handleClick=function handleClick(v){this.buttonPressed_?this.unpressButton():this.pressButton()},_.handleMouseLeave=function handleMouseLeave(v){this.removeClass("vjs-hover"),off(E.a,"keyup",Ui(this,this.handleMenuKeyUp))},_.focus=function focus(){this.menuButton_.focus()},_.blur=function blur(){this.menuButton_.blur()},_.handleKeyDown=function handleKeyDown(v){R.a.isEventKey(v,"Esc")||R.a.isEventKey(v,"Tab")?(this.buttonPressed_&&this.unpressButton(),R.a.isEventKey(v,"Tab")||(v.preventDefault(),this.menuButton_.focus())):(R.a.isEventKey(v,"Up")||R.a.isEventKey(v,"Down"))&&(this.buttonPressed_||(v.preventDefault(),this.pressButton()))},_.handleMenuKeyUp=function handleMenuKeyUp(v){(R.a.isEventKey(v,"Esc")||R.a.isEventKey(v,"Tab"))&&this.removeClass("vjs-hover")},_.handleSubmenuKeyPress=function handleSubmenuKeyPress(v){this.handleSubmenuKeyDown(v)},_.handleSubmenuKeyDown=function handleSubmenuKeyDown(v){(R.a.isEventKey(v,"Esc")||R.a.isEventKey(v,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),R.a.isEventKey(v,"Tab")||(v.preventDefault(),this.menuButton_.focus()))},_.pressButton=function pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Er&&isInFrame())return;this.menu.focus()}},_.unpressButton=function unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},_.disable=function disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},_.enable=function enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},MenuButton}(rr);rr.registerComponent("MenuButton",Po);var Io=function(v){function TrackButton(_,b){var T,S=b.tracks;if((T=v.call(this,_,b)||this).items.length<=1&&T.hide(),!S)return P()(T);var w=Ui(P()(T),T.update);return S.addEventListener("removetrack",w),S.addEventListener("addtrack",w),S.addEventListener("labelchange",w),T.player_.on("ready",w),T.player_.on("dispose",(function(){S.removeEventListener("removetrack",w),S.removeEventListener("addtrack",w),S.removeEventListener("labelchange",w)})),T}return O()(TrackButton,v),TrackButton}(Po);rr.registerComponent("TrackButton",Io);var Oo=["Tab","Esc","Up","Down","Right","Left"],Do=function(v){function MenuItem(_,b){var T;return(T=v.call(this,_,b)||this).selectable=b.selectable,T.isSelected_=b.selected||!1,T.multiSelectable=b.multiSelectable,T.selected(T.isSelected_),T.selectable?T.multiSelectable?T.el_.setAttribute("role","menuitemcheckbox"):T.el_.setAttribute("role","menuitemradio"):T.el_.setAttribute("role","menuitem"),T}O()(MenuItem,v);var _=MenuItem.prototype;return _.createEl=function createEl(_,b,T){return this.nonIconControl=!0,v.prototype.createEl.call(this,"li",video_es_assign({"className":"vjs-menu-item","innerHTML":'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>","tabIndex":-1},b),T)},_.handleKeyDown=function handleKeyDown(_){Oo.some((function(v){return R.a.isEventKey(_,v)}))||v.prototype.handleKeyDown.call(this,_)},_.handleClick=function handleClick(v){this.selected(!0)},_.selected=function selected(v){this.selectable&&(v?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},MenuItem}(Sa);rr.registerComponent("MenuItem",Do);var No=function(v){function TextTrackMenuItem(_,b){var T,w=b.track,C=_.textTracks();b.label=w.label||w.language||"Unknown",b.selected="showing"===w.mode,(T=v.call(this,_,b)||this).track=w,T.kinds=(b.kinds||[b.kind||T.track.kind]).filter(Boolean);var k,x=function changeHandler(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];T.handleTracksChange.apply(P()(T),_)},I=function selectedLanguageChangeHandler(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];T.handleSelectedLanguageChange.apply(P()(T),_)};(_.on(["loadstart","texttrackchange"],x),C.addEventListener("change",x),C.addEventListener("selectedlanguagechange",I),T.on("dispose",(function(){_.off(["loadstart","texttrackchange"],x),C.removeEventListener("change",x),C.removeEventListener("selectedlanguagechange",I)})),void 0===C.onchange)&&T.on(["tap","click"],(function(){if("object"!=typeof S.a.Event)try{k=new S.a.Event("change")}catch(v){}k||(k=E.a.createEvent("Event")).initEvent("change",!0,!0),C.dispatchEvent(k)}));return T.handleTracksChange(),T}O()(TextTrackMenuItem,v);var _=TextTrackMenuItem.prototype;return _.handleClick=function handleClick(_){var b=this.track,T=this.player_.textTracks();if(v.prototype.handleClick.call(this,_),T)for(var S=0;S<T.length;S++){var w=T[S];-1!==this.kinds.indexOf(w.kind)&&(w===b?"showing"!==w.mode&&(w.mode="showing"):"disabled"!==w.mode&&(w.mode="disabled"))}},_.handleTracksChange=function handleTracksChange(v){var _="showing"===this.track.mode;_!==this.isSelected_&&this.selected(_)},_.handleSelectedLanguageChange=function handleSelectedLanguageChange(v){if("showing"===this.track.mode){var _=this.player_.cache_.selectedLanguage;if(_&&_.enabled&&_.language===this.track.language&&_.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={"enabled":!0,"language":this.track.language,"kind":this.track.kind}}},_.dispose=function dispose(){this.track=null,v.prototype.dispose.call(this)},TextTrackMenuItem}(Do);rr.registerComponent("TextTrackMenuItem",No);var Ro=function(v){function OffTextTrackMenuItem(_,b){return b.track={"player":_,"kind":b.kind,"kinds":b.kinds,"default":!1,"mode":"disabled"},b.kinds||(b.kinds=[b.kind]),b.label?b.track.label=b.label:b.track.label=b.kinds.join(" and ")+" off",b.selectable=!0,b.multiSelectable=!1,v.call(this,_,b)||this}O()(OffTextTrackMenuItem,v);var _=OffTextTrackMenuItem.prototype;return _.handleTracksChange=function handleTracksChange(v){for(var _=this.player().textTracks(),b=!0,T=0,S=_.length;T<S;T++){var w=_[T];if(this.options_.kinds.indexOf(w.kind)>-1&&"showing"===w.mode){b=!1;break}}b!==this.isSelected_&&this.selected(b)},_.handleSelectedLanguageChange=function handleSelectedLanguageChange(v){for(var _=this.player().textTracks(),b=!0,T=0,S=_.length;T<S;T++){var w=_[T];if(["captions","descriptions","subtitles"].indexOf(w.kind)>-1&&"showing"===w.mode){b=!1;break}}b&&(this.player_.cache_.selectedLanguage={"enabled":!1})},OffTextTrackMenuItem}(No);rr.registerComponent("OffTextTrackMenuItem",Ro);var Bo=function(v){function TextTrackButton(_,b){return void 0===b&&(b={}),b.tracks=_.textTracks(),v.call(this,_,b)||this}return O()(TextTrackButton,v),TextTrackButton.prototype.createItems=function createItems(v,_){var b;void 0===v&&(v=[]),void 0===_&&(_=No),this.label_&&(b=this.label_+" off"),v.push(new Ro(this.player_,{"kinds":this.kinds_,"kind":this.kind_,"label":b})),this.hideThreshold_+=1;var T=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var S=0;S<T.length;S++){var w=T[S];if(this.kinds_.indexOf(w.kind)>-1){var E=new _(this.player_,{"track":w,"kinds":this.kinds_,"kind":this.kind_,"selectable":!0,"multiSelectable":!1});E.addClass("vjs-"+w.kind+"-menu-item"),v.push(E)}}return v},TextTrackButton}(Io);rr.registerComponent("TextTrackButton",Bo);var jo=function(v){function ChaptersTrackMenuItem(_,b){var T,S=b.track,w=b.cue,E=_.currentTime();return b.selectable=!0,b.multiSelectable=!1,b.label=w.text,b.selected=w.startTime<=E&&E<w.endTime,(T=v.call(this,_,b)||this).track=S,T.cue=w,S.addEventListener("cuechange",Ui(P()(T),T.update)),T}O()(ChaptersTrackMenuItem,v);var _=ChaptersTrackMenuItem.prototype;return _.handleClick=function handleClick(_){v.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},_.update=function update(v){var _=this.cue,b=this.player_.currentTime();this.selected(_.startTime<=b&&b<_.endTime)},ChaptersTrackMenuItem}(Do);rr.registerComponent("ChaptersTrackMenuItem",jo);var Uo=function(v){function ChaptersButton(_,b,T){return v.call(this,_,b,T)||this}O()(ChaptersButton,v);var _=ChaptersButton.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-chapters-button "+v.prototype.buildCSSClass.call(this)},_.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-chapters-button "+v.prototype.buildWrapperCSSClass.call(this)},_.update=function update(_){this.track_&&(!_||"addtrack"!==_.type&&"removetrack"!==_.type)||this.setTrack(this.findChaptersTrack()),v.prototype.update.call(this)},_.setTrack=function setTrack(v){if(this.track_!==v){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var _=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);_&&_.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=v,this.track_){this.track_.mode="hidden";var b=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);b&&b.addEventListener("load",this.updateHandler_)}}},_.findChaptersTrack=function findChaptersTrack(){for(var v=this.player_.textTracks()||[],_=v.length-1;_>=0;_--){var b=v[_];if(b.kind===this.kind_)return b}},_.getMenuCaption=function getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Zi(this.kind_))},_.createMenu=function createMenu(){return this.options_.title=this.getMenuCaption(),v.prototype.createMenu.call(this)},_.createItems=function createItems(){var v=[];if(!this.track_)return v;var _=this.track_.cues;if(!_)return v;for(var b=0,T=_.length;b<T;b++){var S=_[b],w=new jo(this.player_,{"track":this.track_,"cue":S});v.push(w)}return v},ChaptersButton}(Bo);Uo.prototype.kind_="chapters",Uo.prototype.controlText_="Chapters",rr.registerComponent("ChaptersButton",Uo);var Fo=function(v){function DescriptionsButton(_,b,T){var S;S=v.call(this,_,b,T)||this;var w=_.textTracks(),E=Ui(P()(S),S.handleTracksChange);return w.addEventListener("change",E),S.on("dispose",(function(){w.removeEventListener("change",E)})),S}O()(DescriptionsButton,v);var _=DescriptionsButton.prototype;return _.handleTracksChange=function handleTracksChange(v){for(var _=this.player().textTracks(),b=!1,T=0,S=_.length;T<S;T++){var w=_[T];if(w.kind!==this.kind_&&"showing"===w.mode){b=!0;break}}b?this.disable():this.enable()},_.buildCSSClass=function buildCSSClass(){return"vjs-descriptions-button "+v.prototype.buildCSSClass.call(this)},_.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-descriptions-button "+v.prototype.buildWrapperCSSClass.call(this)},DescriptionsButton}(Bo);Fo.prototype.kind_="descriptions",Fo.prototype.controlText_="Descriptions",rr.registerComponent("DescriptionsButton",Fo);var Vo=function(v){function SubtitlesButton(_,b,T){return v.call(this,_,b,T)||this}O()(SubtitlesButton,v);var _=SubtitlesButton.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-subtitles-button "+v.prototype.buildCSSClass.call(this)},_.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subtitles-button "+v.prototype.buildWrapperCSSClass.call(this)},SubtitlesButton}(Bo);Vo.prototype.kind_="subtitles",Vo.prototype.controlText_="Subtitles",rr.registerComponent("SubtitlesButton",Vo);var Ho=function(v){function CaptionSettingsMenuItem(_,b){var T;return b.track={"player":_,"kind":b.kind,"label":b.kind+" settings","selectable":!1,"default":!1,"mode":"disabled"},b.selectable=!1,b.name="CaptionSettingsMenuItem",(T=v.call(this,_,b)||this).addClass("vjs-texttrack-settings"),T.controlText(", opens "+b.kind+" settings dialog"),T}return O()(CaptionSettingsMenuItem,v),CaptionSettingsMenuItem.prototype.handleClick=function handleClick(v){this.player().getChild("textTrackSettings").open()},CaptionSettingsMenuItem}(No);rr.registerComponent("CaptionSettingsMenuItem",Ho);var Wo=function(v){function CaptionsButton(_,b,T){return v.call(this,_,b,T)||this}O()(CaptionsButton,v);var _=CaptionsButton.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-captions-button "+v.prototype.buildCSSClass.call(this)},_.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-captions-button "+v.prototype.buildWrapperCSSClass.call(this)},_.createItems=function createItems(){var _=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(_.push(new Ho(this.player_,{"kind":this.kind_})),this.hideThreshold_+=1),v.prototype.createItems.call(this,_)},CaptionsButton}(Bo);Wo.prototype.kind_="captions",Wo.prototype.controlText_="Captions",rr.registerComponent("CaptionsButton",Wo);var qo=function(v){function SubsCapsMenuItem(){return v.apply(this,arguments)||this}return O()(SubsCapsMenuItem,v),SubsCapsMenuItem.prototype.createEl=function createEl(_,b,T){var S='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(S+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),S+="</span>",v.prototype.createEl.call(this,_,video_es_assign({"innerHTML":S},b),T)},SubsCapsMenuItem}(No);rr.registerComponent("SubsCapsMenuItem",qo);var zo=function(v){function SubsCapsButton(_,b){var T;return void 0===b&&(b={}),(T=v.call(this,_,b)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(T.player_.language_)>-1&&(T.label_="captions"),T.menuButton_.controlText(Zi(T.label_)),T}O()(SubsCapsButton,v);var _=SubsCapsButton.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-subs-caps-button "+v.prototype.buildCSSClass.call(this)},_.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subs-caps-button "+v.prototype.buildWrapperCSSClass.call(this)},_.createItems=function createItems(){var _=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(_.push(new Ho(this.player_,{"kind":this.label_})),this.hideThreshold_+=1),_=v.prototype.createItems.call(this,_,qo)},SubsCapsButton}(Bo);zo.prototype.kinds_=["captions","subtitles"],zo.prototype.controlText_="Subtitles",rr.registerComponent("SubsCapsButton",zo);var Go=function(v){function AudioTrackMenuItem(_,b){var T,S=b.track,w=_.audioTracks();b.label=S.label||S.language||"Unknown",b.selected=S.enabled,(T=v.call(this,_,b)||this).track=S,T.addClass("vjs-"+S.kind+"-menu-item");var E=function changeHandler(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];T.handleTracksChange.apply(P()(T),_)};return w.addEventListener("change",E),T.on("dispose",(function(){w.removeEventListener("change",E)})),T}O()(AudioTrackMenuItem,v);var _=AudioTrackMenuItem.prototype;return _.createEl=function createEl(_,b,T){var S='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(S+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),S+="</span>",v.prototype.createEl.call(this,_,video_es_assign({"innerHTML":S},b),T)},_.handleClick=function handleClick(_){var b=this.player_.audioTracks();v.prototype.handleClick.call(this,_);for(var T=0;T<b.length;T++){var S=b[T];S.enabled=S===this.track}},_.handleTracksChange=function handleTracksChange(v){this.selected(this.track.enabled)},AudioTrackMenuItem}(Do);rr.registerComponent("AudioTrackMenuItem",Go);var Yo=function(v){function AudioTrackButton(_,b){return void 0===b&&(b={}),b.tracks=_.audioTracks(),v.call(this,_,b)||this}O()(AudioTrackButton,v);var _=AudioTrackButton.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-audio-button "+v.prototype.buildCSSClass.call(this)},_.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-audio-button "+v.prototype.buildWrapperCSSClass.call(this)},_.createItems=function createItems(v){void 0===v&&(v=[]),this.hideThreshold_=1;for(var _=this.player_.audioTracks(),b=0;b<_.length;b++){var T=_[b];v.push(new Go(this.player_,{"track":T,"selectable":!0,"multiSelectable":!1}))}return v},AudioTrackButton}(Io);Yo.prototype.controlText_="Audio Track",rr.registerComponent("AudioTrackButton",Yo);var Xo=function(v){function PlaybackRateMenuItem(_,b){var T,S=b.rate,w=parseFloat(S,10);return b.label=S,b.selected=1===w,b.selectable=!0,b.multiSelectable=!1,(T=v.call(this,_,b)||this).label=S,T.rate=w,T.on(_,"ratechange",T.update),T}O()(PlaybackRateMenuItem,v);var _=PlaybackRateMenuItem.prototype;return _.handleClick=function handleClick(_){v.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},_.update=function update(v){this.selected(this.player().playbackRate()===this.rate)},PlaybackRateMenuItem}(Do);Xo.prototype.contentElType="button",rr.registerComponent("PlaybackRateMenuItem",Xo);var Ko=function(v){function PlaybackRateMenuButton(_,b){var T;return(T=v.call(this,_,b)||this).updateVisibility(),T.updateLabel(),T.on(_,"loadstart",T.updateVisibility),T.on(_,"ratechange",T.updateLabel),T}O()(PlaybackRateMenuButton,v);var _=PlaybackRateMenuButton.prototype;return _.createEl=function createEl$1(){var _=v.prototype.createEl.call(this);return this.labelEl_=video_es_createEl("div",{"className":"vjs-playback-rate-value","innerHTML":"1x"}),_.appendChild(this.labelEl_),_},_.dispose=function dispose(){this.labelEl_=null,v.prototype.dispose.call(this)},_.buildCSSClass=function buildCSSClass(){return"vjs-playback-rate "+v.prototype.buildCSSClass.call(this)},_.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-playback-rate "+v.prototype.buildWrapperCSSClass.call(this)},_.createMenu=function createMenu(){var v=new ko(this.player()),_=this.playbackRates();if(_)for(var b=_.length-1;b>=0;b--)v.addChild(new Xo(this.player(),{"rate":_[b]+"x"}));return v},_.updateARIAAttributes=function updateARIAAttributes(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},_.handleClick=function handleClick(v){for(var _=this.player().playbackRate(),b=this.playbackRates(),T=b[0],S=0;S<b.length;S++)if(b[S]>_){T=b[S];break}this.player().playbackRate(T)},_.playbackRates=function playbackRates(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},_.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},_.updateVisibility=function updateVisibility(v){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},_.updateLabel=function updateLabel(v){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},PlaybackRateMenuButton}(Po);Ko.prototype.controlText_="Playback Rate",rr.registerComponent("PlaybackRateMenuButton",Ko);var Qo=function(v){function Spacer(){return v.apply(this,arguments)||this}O()(Spacer,v);var _=Spacer.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-spacer "+v.prototype.buildCSSClass.call(this)},_.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":this.buildCSSClass()})},Spacer}(rr);rr.registerComponent("Spacer",Qo);var $o=function(v){function CustomControlSpacer(){return v.apply(this,arguments)||this}O()(CustomControlSpacer,v);var _=CustomControlSpacer.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-custom-control-spacer "+v.prototype.buildCSSClass.call(this)},_.createEl=function createEl(){var _=v.prototype.createEl.call(this,{"className":this.buildCSSClass()});return _.innerHTML=" ",_},CustomControlSpacer}(Qo);rr.registerComponent("CustomControlSpacer",$o);var Jo=function(v){function ControlBar(){return v.apply(this,arguments)||this}return O()(ControlBar,v),ControlBar.prototype.createEl=function createEl(){return v.prototype.createEl.call(this,"div",{"className":"vjs-control-bar","dir":"ltr"})},ControlBar}(rr);Jo.prototype.options_={"children":["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in E.a&&Jo.prototype.options_.children.splice(Jo.prototype.options_.children.length-1,0,"pictureInPictureToggle"),rr.registerComponent("ControlBar",Jo);var Zo=function(v){function ErrorDisplay(_,b){var T;return(T=v.call(this,_,b)||this).on(_,"error",T.open),T}O()(ErrorDisplay,v);var _=ErrorDisplay.prototype;return _.buildCSSClass=function buildCSSClass(){return"vjs-error-display "+v.prototype.buildCSSClass.call(this)},_.content=function content(){var v=this.player().error();return v?this.localize(v.message):""},ErrorDisplay}(Br);Zo.prototype.options_=k()({},Br.prototype.options_,{"pauseOnOpen":!1,"fillAlways":!0,"temporary":!1,"uncloseable":!0}),rr.registerComponent("ErrorDisplay",Zo);var es=["#000","Black"],ns=["#00F","Blue"],is=["#0FF","Cyan"],rs=["#0F0","Green"],as=["#F0F","Magenta"],os=["#F00","Red"],ss=["#FFF","White"],ls=["#FF0","Yellow"],cs=["1","Opaque"],us=["0.5","Semi-Transparent"],ds=["0","Transparent"],hs={"backgroundColor":{"selector":".vjs-bg-color > select","id":"captions-background-color-%s","label":"Color","options":[es,ss,os,rs,ns,ls,as,is]},"backgroundOpacity":{"selector":".vjs-bg-opacity > select","id":"captions-background-opacity-%s","label":"Transparency","options":[cs,us,ds]},"color":{"selector":".vjs-fg-color > select","id":"captions-foreground-color-%s","label":"Color","options":[ss,es,os,rs,ns,ls,as,is]},"edgeStyle":{"selector":".vjs-edge-style > select","id":"%s","label":"Text Edge Style","options":[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},"fontFamily":{"selector":".vjs-font-family > select","id":"captions-font-family-%s","label":"Font Family","options":[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},"fontPercent":{"selector":".vjs-font-percent > select","id":"captions-font-size-%s","label":"Font Size","options":[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,"parser":function parser(v){return"1.00"===v?null:Number(v)}},"textOpacity":{"selector":".vjs-text-opacity > select","id":"captions-foreground-opacity-%s","label":"Transparency","options":[cs,us]},"windowColor":{"selector":".vjs-window-color > select","id":"captions-window-color-%s","label":"Color"},"windowOpacity":{"selector":".vjs-window-opacity > select","id":"captions-window-opacity-%s","label":"Transparency","options":[ds,us,cs]}};function parseOptionValue(v,_){if(_&&(v=_(v)),v&&"none"!==v)return v}hs.windowColor.options=hs.backgroundColor.options;var ps=function(v){function TextTrackSettings(_,b){var T;return b.temporary=!1,(T=v.call(this,_,b)||this).updateDisplay=Ui(P()(T),T.updateDisplay),T.fill(),T.hasBeenOpened_=T.hasBeenFilled_=!0,T.endDialog=video_es_createEl("p",{"className":"vjs-control-text","textContent":T.localize("End of dialog window.")}),T.el().appendChild(T.endDialog),T.setDefaults(),void 0===b.persistTextTrackSettings&&(T.options_.persistTextTrackSettings=T.options_.playerOptions.persistTextTrackSettings),T.on(T.$(".vjs-done-button"),"click",(function(){T.saveSettings(),T.close()})),T.on(T.$(".vjs-default-button"),"click",(function(){T.setDefaults(),T.updateDisplay()})),each(hs,(function(v){T.on(T.$(v.selector),"change",T.updateDisplay)})),T.options_.persistTextTrackSettings&&T.restoreSettings(),T}O()(TextTrackSettings,v);var _=TextTrackSettings.prototype;return _.dispose=function dispose(){this.endDialog=null,v.prototype.dispose.call(this)},_.createElSelect_=function createElSelect_(v,_,b){var T=this;void 0===_&&(_=""),void 0===b&&(b="label");var S=hs[v],w=S.id.replace("%s",this.id_),E=[_,w].join(" ").trim();return["<"+b+' id="'+w+'" class="'+("label"===b?"vjs-label":"")+'">',this.localize(S.label),"</"+b+">",'<select aria-labelledby="'+E+'">'].concat(S.options.map((function(v){var _=w+"-"+v[1].replace(/\W+/g,"");return['<option id="'+_+'" value="'+v[0]+'" ','aria-labelledby="'+E+" "+_+'">',T.localize(v[1]),"</option>"].join("")}))).concat("</select>").join("")},_.createElFgColor_=function createElFgColor_(){var v="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+v+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",v),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",v),"</span>","</fieldset>"].join("")},_.createElBgColor_=function createElBgColor_(){var v="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+v+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",v),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",v),"</span>","</fieldset>"].join("")},_.createElWinColor_=function createElWinColor_(){var v="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+v+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",v),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",v),"</span>","</fieldset>"].join("")},_.createElColors_=function createElColors_(){return video_es_createEl("div",{"className":"vjs-track-settings-colors","innerHTML":[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},_.createElFont_=function createElFont_(){return video_es_createEl("div",{"className":"vjs-track-settings-font","innerHTML":['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},_.createElControls_=function createElControls_(){var v=this.localize("restore all settings to the default values");return video_es_createEl("div",{"className":"vjs-track-settings-controls","innerHTML":['<button type="button" class="vjs-default-button" title="'+v+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+v+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},_.content=function content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},_.label=function label(){return this.localize("Caption Settings Dialog")},_.description=function description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},_.buildCSSClass=function buildCSSClass(){return v.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},_.getValues=function getValues(){var v=this;return function reduce(v,_,b){return void 0===b&&(b=0),wi(v).reduce((function(b,T){return _(b,v[T],T)}),b)}(hs,(function(_,b,T){var S=function getSelectedOptionValue(v,_){return parseOptionValue(v.options[v.options.selectedIndex].value,_)}(v.$(b.selector),b.parser);return void 0!==S&&(_[T]=S),_}),{})},_.setValues=function setValues(v){var _=this;each(hs,(function(b,T){!function setSelectedOption(v,_,b){if(_)for(var T=0;T<v.options.length;T++)if(parseOptionValue(v.options[T].value,b)===_){v.selectedIndex=T;break}}(_.$(b.selector),v[T],b.parser)}))},_.setDefaults=function setDefaults(){var v=this;each(hs,(function(_){var b=_.hasOwnProperty("default")?_.default:0;v.$(_.selector).selectedIndex=b}))},_.restoreSettings=function restoreSettings(){var v;try{v=JSON.parse(S.a.localStorage.getItem("vjs-text-track-settings"))}catch(v){bi.warn(v)}v&&this.setValues(v)},_.saveSettings=function saveSettings(){if(this.options_.persistTextTrackSettings){var v=this.getValues();try{Object.keys(v).length?S.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(v)):S.a.localStorage.removeItem("vjs-text-track-settings")}catch(v){bi.warn(v)}}},_.updateDisplay=function updateDisplay(){var v=this.player_.getChild("textTrackDisplay");v&&v.updateDisplay()},_.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_=null;var v=this.player_.controlBar,_=v&&v.subsCapsButton,b=v&&v.captionsButton;_?_.focus():b&&b.focus()},TextTrackSettings}(Br);rr.registerComponent("TextTrackSettings",ps);var fs=function(v){function ResizeManager(_,b){var T,w=b.ResizeObserver||S.a.ResizeObserver;null===b.ResizeObserver&&(w=!1);var E=mergeOptions({"createEl":!w,"reportTouchActivity":!1},b);return(T=v.call(this,_,E)||this).ResizeObserver=b.ResizeObserver||S.a.ResizeObserver,T.loadListener_=null,T.resizeObserver_=null,T.debouncedHandler_=function debounce(v,_,b,T){var w;void 0===T&&(T=S.a);var E=function debounced(){var S=this,E=arguments,C=function later(){w=null,C=null,b||v.apply(S,E)};!w&&b&&v.apply(S,E),T.clearTimeout(w),w=T.setTimeout(C,_)};return E.cancel=function cancel(){T.clearTimeout(w),w=null},E}((function(){T.resizeHandler()}),100,!1,P()(T)),w?(T.resizeObserver_=new T.ResizeObserver(T.debouncedHandler_),T.resizeObserver_.observe(_.el())):(T.loadListener_=function(){if(T.el_&&T.el_.contentWindow){var v=T.debouncedHandler_,_=T.unloadListener_=function(){off(this,"resize",v),off(this,"unload",_),_=null};on(T.el_.contentWindow,"unload",_),on(T.el_.contentWindow,"resize",v)}},T.one("load",T.loadListener_)),T}O()(ResizeManager,v);var _=ResizeManager.prototype;return _.createEl=function createEl(){return v.prototype.createEl.call(this,"iframe",{"className":"vjs-resize-manager","tabIndex":-1},{"aria-hidden":"true"})},_.resizeHandler=function resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},_.dispose=function dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,v.prototype.dispose.call(this)},ResizeManager}(rr);rr.registerComponent("ResizeManager",fs);var ms={"trackingThreshold":30,"liveTolerance":15},gs=function(v){function LiveTracker(_,b){var T,S=mergeOptions(ms,b,{"createEl":!1});return(T=v.call(this,_,S)||this).reset_(),T.on(T.player_,"durationchange",T.handleDurationchange),yr&&"hidden"in E.a&&"visibilityState"in E.a&&T.on(E.a,"visibilitychange",T.handleVisibilityChange),T}O()(LiveTracker,v);var _=LiveTracker.prototype;return _.handleVisibilityChange=function handleVisibilityChange(){this.player_.duration()===1/0&&(E.a.hidden?this.stopTracking():this.startTracking())},_.trackLive_=function trackLive_(){var v=this.player_.seekable();if(v&&v.length){var _=Number(S.a.performance.now().toFixed(4)),b=-1===this.lastTime_?0:(_-this.lastTime_)/1e3;this.lastTime_=_,this.pastSeekEnd_=this.pastSeekEnd()+b;var T=this.liveCurrentTime(),w=this.player_.currentTime(),E=this.player_.paused()||this.seekedBehindLive_||Math.abs(T-w)>this.options_.liveTolerance;this.timeupdateSeen_&&T!==1/0||(E=!1),E!==this.behindLiveEdge_&&(this.behindLiveEdge_=E,this.trigger("liveedgechange"))}},_.handleDurationchange=function handleDurationchange(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},_.startTracking=function startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},_.handleFirstTimeupdate=function handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},_.handleSeeked=function handleSeeked(){var v=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&v>2,this.skipNextSeeked_=!1,this.trackLive_()},_.handlePlay=function handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},_.reset_=function reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},_.stopTracking=function stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},_.seekableEnd=function seekableEnd(){for(var v=this.player_.seekable(),_=[],b=v?v.length:0;b--;)_.push(v.end(b));return _.length?_.sort()[_.length-1]:1/0},_.seekableStart=function seekableStart(){for(var v=this.player_.seekable(),_=[],b=v?v.length:0;b--;)_.push(v.start(b));return _.length?_.sort()[0]:0},_.liveWindow=function liveWindow(){var v=this.liveCurrentTime();return v===1/0?0:v-this.seekableStart()},_.isLive=function isLive(){return this.isTracking()},_.atLiveEdge=function atLiveEdge(){return!this.behindLiveEdge()},_.liveCurrentTime=function liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()},_.pastSeekEnd=function pastSeekEnd(){var v=this.seekableEnd();return-1!==this.lastSeekEnd_&&v!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=v,this.pastSeekEnd_},_.behindLiveEdge=function behindLiveEdge(){return this.behindLiveEdge_},_.isTracking=function isTracking(){return"number"==typeof this.trackingInterval_},_.seekToLiveEdge=function seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},_.dispose=function dispose(){this.off(E.a,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),v.prototype.dispose.call(this)},LiveTracker}(rr);rr.registerComponent("LiveTracker",gs);var vs,ys=function sourcesetLoad(v){var _=v.el();if(_.hasAttribute("src"))return v.triggerSourceset(_.src),!0;var b=v.$$("source"),T=[],S="";if(!b.length)return!1;for(var w=0;w<b.length;w++){var E=b[w].src;E&&-1===T.indexOf(E)&&T.push(E)}return!!T.length&&(1===T.length&&(S=T[0]),v.triggerSourceset(S),!0)},_s=Object.defineProperty({},"innerHTML",{"get":function get(){return this.cloneNode(!0).innerHTML},"set":function set(v){var _=E.a.createElement(this.nodeName.toLowerCase());_.innerHTML=v;for(var b=E.a.createDocumentFragment();_.childNodes.length;)b.appendChild(_.childNodes[0]);return this.innerText="",S.a.Element.prototype.appendChild.call(this,b),this.innerHTML}}),bs=function getDescriptor(v,_){for(var b={},T=0;T<v.length&&!((b=Object.getOwnPropertyDescriptor(v[T],_))&&b.set&&b.get);T++);return b.enumerable=!0,b.configurable=!0,b},Ts=function firstSourceWatch(v){var _=v.el();if(!_.resetSourceWatch_){var b={},T=function getInnerHTMLDescriptor(v){return bs([v.el(),S.a.HTMLMediaElement.prototype,S.a.Element.prototype,_s],"innerHTML")}(v),w=function appendWrapper(b){return function(){for(var T=arguments.length,S=new Array(T),w=0;w<T;w++)S[w]=arguments[w];var E=b.apply(_,S);return ys(v),E}};["append","appendChild","insertAdjacentHTML"].forEach((function(v){_[v]&&(b[v]=_[v],_[v]=w(b[v]))})),Object.defineProperty(_,"innerHTML",mergeOptions(T,{"set":w(T.set)})),_.resetSourceWatch_=function(){_.resetSourceWatch_=null,Object.keys(b).forEach((function(v){_[v]=b[v]})),Object.defineProperty(_,"innerHTML",T)},v.one("sourceset",_.resetSourceWatch_)}},Ss=Object.defineProperty({},"src",{"get":function get(){return this.hasAttribute("src")?Zr(S.a.Element.prototype.getAttribute.call(this,"src")):""},"set":function set(v){return S.a.Element.prototype.setAttribute.call(this,"src",v),v}}),ws=function setupSourceset(v){if(v.featuresSourceset){var _=v.el();if(!_.resetSourceset_){var b=function getSrcDescriptor(v){return bs([v.el(),S.a.HTMLMediaElement.prototype,Ss],"src")}(v),T=_.setAttribute,w=_.load;Object.defineProperty(_,"src",mergeOptions(b,{"set":function set(T){var S=b.set.call(_,T);return v.triggerSourceset(_.src),S}})),_.setAttribute=function(b,S){var w=T.call(_,b,S);return/src/i.test(b)&&v.triggerSourceset(_.src),w},_.load=function(){var b=w.call(_);return ys(v)||(v.triggerSourceset(""),Ts(v)),b},_.currentSrc?v.triggerSourceset(_.currentSrc):ys(v)||Ts(v),_.resetSourceset_=function(){_.resetSourceset_=null,_.load=w,_.setAttribute=T,Object.defineProperty(_,"src",b),_.resetSourceWatch_&&_.resetSourceWatch_()}}}},Es=function defineLazyProperty(v,_,b,T){void 0===T&&(T=!0);var S=function set(b){return Object.defineProperty(v,_,{"value":b,"enumerable":!0,"writable":!0})},w={"configurable":!0,"enumerable":!0,"get":function get(){var v=b();return S(v),v}};return T&&(w.set=S),Object.defineProperty(v,_,w)},Cs=function(v){function Html5(_,b){var T;T=v.call(this,_,b)||this;var S=_.source,w=!1;if(S&&(T.el_.currentSrc!==S.src||_.tag&&3===_.tag.initNetworkState_)?T.setSource(S):T.handleLateInit_(T.el_),_.enableSourceset&&T.setupSourcesetHandling_(),T.isScrubbing_=!1,T.el_.hasChildNodes()){for(var E=T.el_.childNodes,C=E.length,k=[];C--;){var x=E[C];"track"===x.nodeName.toLowerCase()&&(T.featuresNativeTextTracks?(T.remoteTextTrackEls().addTrackElement_(x),T.remoteTextTracks().addTrack(x.track),T.textTracks().addTrack(x.track),w||T.el_.hasAttribute("crossorigin")||!ta(x.src)||(w=!0)):k.push(x))}for(var P=0;P<k.length;P++)T.el_.removeChild(k[P])}return T.proxyNativeTracks_(),T.featuresNativeTextTracks&&w&&bi.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),T.restoreMetadataTracksInIOSNativePlayer_(),(Tr||wr||pr)&&!0===_.nativeControlsForTouch&&T.setControls(!0),T.proxyWebkitFullscreen_(),T.triggerReady(),T}O()(Html5,v);var _=Html5.prototype;return _.dispose=function dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Html5.disposeMediaElement(this.el_),this.options_=null,v.prototype.dispose.call(this)},_.setupSourcesetHandling_=function setupSourcesetHandling_(){ws(this)},_.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){var v,_=this.textTracks(),b=function takeMetadataTrackSnapshot(){v=[];for(var b=0;b<_.length;b++){var T=_[b];"metadata"===T.kind&&v.push({"track":T,"storedMode":T.mode})}};b(),_.addEventListener("change",b),this.on("dispose",(function(){return _.removeEventListener("change",b)}));var T=function restoreTrackMode(){for(var b=0;b<v.length;b++){var T=v[b];"disabled"===T.track.mode&&T.track.mode!==T.storedMode&&(T.track.mode=T.storedMode)}_.removeEventListener("change",restoreTrackMode)};this.on("webkitbeginfullscreen",(function(){_.removeEventListener("change",b),_.removeEventListener("change",T),_.addEventListener("change",T)})),this.on("webkitendfullscreen",(function(){_.removeEventListener("change",b),_.addEventListener("change",b),_.removeEventListener("change",T)}))},_.overrideNative_=function overrideNative_(v,_){var b=this;if(_===this["featuresNative"+v+"Tracks"]){var T=v.toLowerCase();this[T+"TracksListeners_"]&&Object.keys(this[T+"TracksListeners_"]).forEach((function(v){b.el()[T+"Tracks"].removeEventListener(v,b[T+"TracksListeners_"][v])})),this["featuresNative"+v+"Tracks"]=!_,this[T+"TracksListeners_"]=null,this.proxyNativeTracksForType_(T)}},_.overrideNativeAudioTracks=function overrideNativeAudioTracks(v){this.overrideNative_("Audio",v)},_.overrideNativeVideoTracks=function overrideNativeVideoTracks(v){this.overrideNative_("Video",v)},_.proxyNativeTracksForType_=function proxyNativeTracksForType_(v){var _=this,b=ca[v],T=this.el()[b.getterName],S=this[b.getterName]();if(this["featuresNative"+b.capitalName+"Tracks"]&&T&&T.addEventListener){var w={"change":function change(b){var T={"type":"change","target":S,"currentTarget":S,"srcElement":S};S.trigger(T),"text"===v&&_[ua.remoteText.getterName]().trigger(T)},"addtrack":function addtrack(v){S.addTrack(v.track)},"removetrack":function removetrack(v){S.removeTrack(v.track)}},E=function removeOldTracks(){for(var v=[],_=0;_<S.length;_++){for(var b=!1,w=0;w<T.length;w++)if(T[w]===S[_]){b=!0;break}b||v.push(S[_])}for(;v.length;)S.removeTrack(v.shift())};this[b.getterName+"Listeners_"]=w,Object.keys(w).forEach((function(v){var b=w[v];T.addEventListener(v,b),_.on("dispose",(function(_){return T.removeEventListener(v,b)}))})),this.on("loadstart",E),this.on("dispose",(function(v){return _.off("loadstart",E)}))}},_.proxyNativeTracks_=function proxyNativeTracks_(){var v=this;ca.names.forEach((function(_){v.proxyNativeTracksForType_(_)}))},_.createEl=function createEl(){var v=this.options_.tag;if(!v||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(v){var _=v.cloneNode(!0);v.parentNode&&v.parentNode.insertBefore(_,v),Html5.disposeMediaElement(v),v=_}else{v=E.a.createElement("video");var b=mergeOptions({},this.options_.tag&&getAttributes(this.options_.tag));Tr&&!0===this.options_.nativeControlsForTouch||delete b.controls,setAttributes(v,video_es_assign(b,{"id":this.options_.techId,"class":"vjs-tech"}))}v.playerId=this.options_.playerId}void 0!==this.options_.preload&&setAttribute(v,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(v.disablePictureInPicture=this.options_.disablePictureInPicture);for(var T=["loop","muted","playsinline","autoplay"],S=0;S<T.length;S++){var w=T[S],C=this.options_[w];void 0!==C&&(C?setAttribute(v,w,w):removeAttribute(v,w),v[w]=C)}return v},_.handleLateInit_=function handleLateInit_(v){if(0!==v.networkState&&3!==v.networkState){if(0===v.readyState){var _=!1,b=function setLoadstartFired(){_=!0};this.on("loadstart",b);var T=function triggerLoadstart(){_||this.trigger("loadstart")};return this.on("loadedmetadata",T),void this.ready((function(){this.off("loadstart",b),this.off("loadedmetadata",T),_||this.trigger("loadstart")}))}var S=["loadstart"];S.push("loadedmetadata"),v.readyState>=2&&S.push("loadeddata"),v.readyState>=3&&S.push("canplay"),v.readyState>=4&&S.push("canplaythrough"),this.ready((function(){S.forEach((function(v){this.trigger(v)}),this)}))}},_.setScrubbing=function setScrubbing(v){this.isScrubbing_=v},_.scrubbing=function scrubbing(){return this.isScrubbing_},_.setCurrentTime=function setCurrentTime(v){try{this.isScrubbing_&&this.el_.fastSeek&&Cr?this.el_.fastSeek(v):this.el_.currentTime=v}catch(v){bi(v,"Video is not ready. (Video.js)")}},_.duration=function duration(){var v=this;if(this.el_.duration===1/0&&dr&&gr&&0===this.el_.currentTime){return this.on("timeupdate",(function checkProgress(){v.el_.currentTime>0&&(v.el_.duration===1/0&&v.trigger("durationchange"),v.off("timeupdate",checkProgress))})),NaN}return this.el_.duration||NaN},_.width=function width(){return this.el_.offsetWidth},_.height=function height(){return this.el_.offsetHeight},_.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var v=this;if("webkitDisplayingFullscreen"in this.el_){var _=function endFn(){this.trigger("fullscreenchange",{"isFullscreen":!1})},b=function beginFn(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",_),this.trigger("fullscreenchange",{"isFullscreen":!0,"nativeIOSFullscreen":!0}))};this.on("webkitbeginfullscreen",b),this.on("dispose",(function(){v.off("webkitbeginfullscreen",b),v.off("webkitendfullscreen",_)}))}},_.supportsFullScreen=function supportsFullScreen(){if("function"==typeof this.el_.webkitEnterFullScreen){var v=S.a.navigator&&S.a.navigator.userAgent||"";if(/Android/.test(v)||!/Chrome|Mac OS X 10.5/.test(v))return!0}return!1},_.enterFullScreen=function enterFullScreen(){var v=this.el_;if(v.paused&&v.networkState<=v.HAVE_METADATA)silencePromise(this.el_.play()),this.setTimeout((function(){v.pause();try{v.webkitEnterFullScreen()}catch(v){this.trigger("fullscreenerror",v)}}),0);else try{v.webkitEnterFullScreen()}catch(v){this.trigger("fullscreenerror",v)}},_.exitFullScreen=function exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},_.requestPictureInPicture=function requestPictureInPicture(){return this.el_.requestPictureInPicture()},_.src=function src(v){if(void 0===v)return this.el_.src;this.setSrc(v)},_.reset=function reset(){Html5.resetMediaElement(this.el_)},_.currentSrc=function currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},_.setControls=function setControls(v){this.el_.controls=!!v},_.addTextTrack=function addTextTrack(_,b,T){return this.featuresNativeTextTracks?this.el_.addTextTrack(_,b,T):v.prototype.addTextTrack.call(this,_,b,T)},_.createRemoteTextTrack=function createRemoteTextTrack(_){if(!this.featuresNativeTextTracks)return v.prototype.createRemoteTextTrack.call(this,_);var b=E.a.createElement("track");return _.kind&&(b.kind=_.kind),_.label&&(b.label=_.label),(_.language||_.srclang)&&(b.srclang=_.language||_.srclang),_.default&&(b.default=_.default),_.id&&(b.id=_.id),_.src&&(b.src=_.src),b},_.addRemoteTextTrack=function addRemoteTextTrack(_,b){var T=v.prototype.addRemoteTextTrack.call(this,_,b);return this.featuresNativeTextTracks&&this.el().appendChild(T),T},_.removeRemoteTextTrack=function removeRemoteTextTrack(_){if(v.prototype.removeRemoteTextTrack.call(this,_),this.featuresNativeTextTracks)for(var b=this.$$("track"),T=b.length;T--;)_!==b[T]&&_!==b[T].track||this.el().removeChild(b[T])},_.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var v={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(v.droppedVideoFrames=this.el().webkitDroppedFrameCount,v.totalVideoFrames=this.el().webkitDecodedFrameCount),S.a.performance&&"function"==typeof S.a.performance.now?v.creationTime=S.a.performance.now():S.a.performance&&S.a.performance.timing&&"number"==typeof S.a.performance.timing.navigationStart&&(v.creationTime=S.a.Date.now()-S.a.performance.timing.navigationStart),v},Html5}(ha);Es(Cs,"TEST_VID",(function(){if(isReal()){var v=E.a.createElement("video"),_=E.a.createElement("track");return _.kind="captions",_.srclang="en",_.label="English",v.appendChild(_),v}})),Cs.isSupported=function(){try{Cs.TEST_VID.volume=.5}catch(v){return!1}return!(!Cs.TEST_VID||!Cs.TEST_VID.canPlayType)},Cs.canPlayType=function(v){return Cs.TEST_VID.canPlayType(v)},Cs.canPlaySource=function(v,_){return Cs.canPlayType(v.type)},Cs.canControlVolume=function(){try{var v=Cs.TEST_VID.volume;return Cs.TEST_VID.volume=v/2+.1,v!==Cs.TEST_VID.volume}catch(v){return!1}},Cs.canMuteVolume=function(){try{var v=Cs.TEST_VID.muted;return Cs.TEST_VID.muted=!v,Cs.TEST_VID.muted?setAttribute(Cs.TEST_VID,"muted","muted"):removeAttribute(Cs.TEST_VID,"muted"),v!==Cs.TEST_VID.muted}catch(v){return!1}},Cs.canControlPlaybackRate=function(){if(dr&&gr&&vr<58)return!1;try{var v=Cs.TEST_VID.playbackRate;return Cs.TEST_VID.playbackRate=v/2+.1,v!==Cs.TEST_VID.playbackRate}catch(v){return!1}},Cs.canOverrideAttributes=function(){try{var v=function noop(){};Object.defineProperty(E.a.createElement("video"),"src",{"get":v,"set":v}),Object.defineProperty(E.a.createElement("audio"),"src",{"get":v,"set":v}),Object.defineProperty(E.a.createElement("video"),"innerHTML",{"get":v,"set":v}),Object.defineProperty(E.a.createElement("audio"),"innerHTML",{"get":v,"set":v})}catch(v){return!1}return!0},Cs.supportsNativeTextTracks=function(){return Cr||Er&&gr},Cs.supportsNativeVideoTracks=function(){return!(!Cs.TEST_VID||!Cs.TEST_VID.videoTracks)},Cs.supportsNativeAudioTracks=function(){return!(!Cs.TEST_VID||!Cs.TEST_VID.audioTracks)},Cs.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(v){var _=v[0],b=v[1];Es(Cs.prototype,_,(function(){return Cs[b]()}),!0)})),Cs.prototype.movingMediaElementInDOM=!Er,Cs.prototype.featuresFullscreenResize=!0,Cs.prototype.featuresProgressEvents=!0,Cs.prototype.featuresTimeupdateEvents=!0,Cs.patchCanPlayType=function(){hr>=4&&!fr&&!gr&&(vs=Cs.TEST_VID&&Cs.TEST_VID.constructor.prototype.canPlayType,Cs.TEST_VID.constructor.prototype.canPlayType=function(v){return v&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(v)?"maybe":vs.call(this,v)})},Cs.unpatchCanPlayType=function(){var v=Cs.TEST_VID.constructor.prototype.canPlayType;return vs&&(Cs.TEST_VID.constructor.prototype.canPlayType=vs),v},Cs.patchCanPlayType(),Cs.disposeMediaElement=function(v){if(v){for(v.parentNode&&v.parentNode.removeChild(v);v.hasChildNodes();)v.removeChild(v.firstChild);v.removeAttribute("src"),"function"==typeof v.load&&function(){try{v.load()}catch(v){}}()}},Cs.resetMediaElement=function(v){if(v){for(var _=v.querySelectorAll("source"),b=_.length;b--;)v.removeChild(_[b]);v.removeAttribute("src"),"function"==typeof v.load&&function(){try{v.load()}catch(v){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(v){Cs.prototype[v]=function(){return this.el_[v]||this.el_.hasAttribute(v)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(v){Cs.prototype["set"+Zi(v)]=function(_){this.el_[v]=_,_?this.el_.setAttribute(v,v):this.el_.removeAttribute(v)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(v){Cs.prototype[v]=function(){return this.el_[v]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(v){Cs.prototype["set"+Zi(v)]=function(_){this.el_[v]=_}})),["pause","load","play"].forEach((function(v){Cs.prototype[v]=function(){return this.el_[v]()}})),ha.withSourceHandlers(Cs),Cs.nativeSourceHandler={},Cs.nativeSourceHandler.canPlayType=function(v){try{return Cs.TEST_VID.canPlayType(v)}catch(v){return""}},Cs.nativeSourceHandler.canHandleSource=function(v,_){if(v.type)return Cs.nativeSourceHandler.canPlayType(v.type);if(v.src){var b=ea(v.src);return Cs.nativeSourceHandler.canPlayType("video/"+b)}return""},Cs.nativeSourceHandler.handleSource=function(v,_,b){_.setSrc(v.src)},Cs.nativeSourceHandler.dispose=function(){},Cs.registerSourceHandler(Cs.nativeSourceHandler),ha.registerTech("Html5",Cs);var ks=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],xs={"canplay":"CanPlay","canplaythrough":"CanPlayThrough","playing":"Playing","seeked":"Seeked"},As=["tiny","xsmall","small","medium","large","xlarge","huge"],Ps={};As.forEach((function(v){var _="x"===v.charAt(0)?"x-"+v.substring(1):v;Ps[v]="vjs-layout-"+_}));var Is={"tiny":210,"xsmall":320,"small":425,"medium":768,"large":1440,"xlarge":2560,"huge":1/0},Os=function(v){function Player(_,b,T){var S;if(_.id=_.id||b.id||"vjs_video_"+newGUID(),(b=video_es_assign(Player.getTagSettings(_),b)).initChildren=!1,b.createEl=!1,b.evented=!1,b.reportTouchActivity=!1,!b.language)if("function"==typeof _.closest){var w=_.closest("[lang]");w&&w.getAttribute&&(b.language=w.getAttribute("lang"))}else for(var C=_;C&&1===C.nodeType;){if(getAttributes(C).hasOwnProperty("lang")){b.language=C.getAttribute("lang");break}C=C.parentNode}if((S=v.call(this,null,b,T)||this).boundDocumentFullscreenChange_=function(v){return S.documentFullscreenChange_(v)},S.boundFullWindowOnEscKey_=function(v){return S.fullWindowOnEscKey(v)},S.isFullscreen_=!1,S.log=Ti(S.id_),S.fsApi_=Ar,S.isPosterFromTech_=!1,S.queuedCallbacks_=[],S.isReady_=!1,S.hasStarted_=!1,S.userActive_=!1,S.debugEnabled_=!1,!S.options_||!S.options_.techOrder||!S.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(S.tag=_,S.tagAttributes=_&&getAttributes(_),S.language(S.options_.language),b.languages){var k={};Object.getOwnPropertyNames(b.languages).forEach((function(v){k[v.toLowerCase()]=b.languages[v]})),S.languages_=k}else S.languages_=Player.prototype.options_.languages;S.resetCache_(),S.poster_=b.poster||"",S.controls_=!!b.controls,_.controls=!1,_.removeAttribute("controls"),S.changingSrc_=!1,S.playCallbacks_=[],S.playTerminatedQueue_=[],_.hasAttribute("autoplay")?S.autoplay(!0):S.autoplay(S.options_.autoplay),b.plugins&&Object.keys(b.plugins).forEach((function(v){if("function"!=typeof S[v])throw new Error('plugin "'+v+'" does not exist')})),S.scrubbing_=!1,S.el_=S.createEl(),evented(P()(S),{"eventBusKey":"el_"}),S.fsApi_.requestFullscreen&&(on(E.a,S.fsApi_.fullscreenchange,S.boundDocumentFullscreenChange_),S.on(S.fsApi_.fullscreenchange,S.boundDocumentFullscreenChange_)),S.fluid_&&S.on(["playerreset","resize"],S.updateStyleEl_);var x=mergeOptions(S.options_);b.plugins&&Object.keys(b.plugins).forEach((function(v){S[v](b.plugins[v])})),b.debug&&S.debug(!0),S.options_.playerOptions=x,S.middleware_=[],S.initChildren(),S.isAudio("audio"===_.nodeName.toLowerCase()),S.controls()?S.addClass("vjs-controls-enabled"):S.addClass("vjs-controls-disabled"),S.el_.setAttribute("role","region"),S.isAudio()?S.el_.setAttribute("aria-label",S.localize("Audio Player")):S.el_.setAttribute("aria-label",S.localize("Video Player")),S.isAudio()&&S.addClass("vjs-audio"),S.flexNotSupported_()&&S.addClass("vjs-no-flex"),Tr&&S.addClass("vjs-touch-enabled"),Er||S.addClass("vjs-workinghover"),Player.players[S.id_]=P()(S);var I="7.11.4".split(".")[0];return S.addClass("vjs-v"+I),S.userActive(!0),S.reportUserActivity(),S.one("play",S.listenForUserActivity_),S.on("stageclick",S.handleStageClick_),S.on("keydown",S.handleKeyDown),S.on("languagechange",S.handleLanguagechange),S.breakpoints(S.options_.breakpoints),S.responsive(S.options_.responsive),S}O()(Player,v);var _=Player.prototype;return _.dispose=function dispose(){var _=this;this.trigger("dispose"),this.off("dispose"),off(E.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),off(E.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Player.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function clearCacheForPlayer(v){fa[v.id()]=null}(this),da.names.forEach((function(v){var b=da[v],T=_[b.getterName]();T&&T.off&&T.off()})),v.prototype.dispose.call(this)},_.createEl=function createEl(){var _,b=this.tag,T=this.playerElIngest_=b.parentNode&&b.parentNode.hasAttribute&&b.parentNode.hasAttribute("data-vjs-player"),w="video-js"===this.tag.tagName.toLowerCase();T?_=this.el_=b.parentNode:w||(_=this.el_=v.prototype.createEl.call(this,"div"));var C=getAttributes(b);if(w){for(_=this.el_=b,b=this.tag=E.a.createElement("video");_.children.length;)b.appendChild(_.firstChild);hasClass(_,"video-js")||addClass(_,"video-js"),_.appendChild(b),T=this.playerElIngest_=_,Object.keys(_).forEach((function(v){try{b[v]=_[v]}catch(v){}}))}if(b.setAttribute("tabindex","-1"),C.tabindex="-1",(yr||gr&&br)&&(b.setAttribute("role","application"),C.role="application"),b.removeAttribute("width"),b.removeAttribute("height"),"width"in C&&delete C.width,"height"in C&&delete C.height,Object.getOwnPropertyNames(C).forEach((function(v){w&&"class"===v||_.setAttribute(v,C[v]),w&&b.setAttribute(v,C[v])})),b.playerId=b.id,b.id+="_html5_api",b.className="vjs-tech",b.player=_.player=this,this.addClass("vjs-paused"),!0!==S.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Oi("vjs-styles-dimensions");var k=Ci(".vjs-styles-defaults"),x=Ci("head");x.insertBefore(this.styleEl_,k?k.nextSibling:x.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var P=b.getElementsByTagName("a"),I=0;I<P.length;I++){var O=P.item(I);addClass(O,"vjs-hidden"),O.setAttribute("hidden","hidden")}return b.initNetworkState_=b.networkState,b.parentNode&&!T&&b.parentNode.insertBefore(_,b),prependTo(b,_),this.children_.unshift(b),this.el_.setAttribute("lang",this.language_),this.el_=_,_},_.crossOrigin=function crossOrigin(v){if(!v)return this.techGet_("crossOrigin");"anonymous"===v||"use-credentials"===v?this.techCall_("setCrossOrigin",v):bi.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+v+'"')},_.width=function width(v){return this.dimension("width",v)},_.height=function height(v){return this.dimension("height",v)},_.dimension=function dimension(v,_){var b=v+"_";if(void 0===_)return this[b]||0;if(""===_||"auto"===_)return this[b]=void 0,void this.updateStyleEl_();var T=parseFloat(_);isNaN(T)?bi.error('Improper value "'+_+'" supplied for for '+v):(this[b]=T,this.updateStyleEl_())},_.fluid=function fluid(v){var _=this;if(void 0===v)return!!this.fluid_;this.fluid_=!!v,Wi(this)&&this.off(["playerreset","resize"],this.updateStyleEl_),v?(this.addClass("vjs-fluid"),this.fill(!1),function addEventedCallback(v,_){Wi(v)?_():(v.eventedCallbacks||(v.eventedCallbacks=[]),v.eventedCallbacks.push(_))}(this,(function(){_.on(["playerreset","resize"],_.updateStyleEl_)}))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},_.fill=function fill(v){if(void 0===v)return!!this.fill_;this.fill_=!!v,v?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},_.aspectRatio=function aspectRatio(v){if(void 0===v)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(v))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=v,this.fluid(!0),this.updateStyleEl_()},_.updateStyleEl_=function updateStyleEl_(){if(!0!==S.a.VIDEOJS_NO_DYNAMIC_STYLE){var v,_,b,T=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),w=T[1]/T[0];v=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/w:this.videoWidth()||300,_=void 0!==this.height_?this.height_:v*w,b=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(b),Li(this.styleEl_,"\n      ."+b+" {\n        width: "+v+"px;\n        height: "+_+"px;\n      }\n\n      ."+b+".vjs-fluid {\n        padding-top: "+100*w+"%;\n      }\n    ")}else{var E="number"==typeof this.width_?this.width_:this.options_.width,C="number"==typeof this.height_?this.height_:this.options_.height,k=this.tech_&&this.tech_.el();k&&(E>=0&&(k.width=E),C>=0&&(k.height=C))}},_.loadTech_=function loadTech_(v,_){var b=this;this.tech_&&this.unloadTech_();var T=Zi(v),S=v.charAt(0).toLowerCase()+v.slice(1);"Html5"!==T&&this.tag&&(ha.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=T,this.isReady_=!1;var w={"source":_,"autoplay":"string"!=typeof this.autoplay()&&this.autoplay(),"nativeControlsForTouch":this.options_.nativeControlsForTouch,"playerId":this.id(),"techId":this.id()+"_"+S+"_api","playsinline":this.options_.playsinline,"preload":this.options_.preload,"loop":this.options_.loop,"disablePictureInPicture":this.options_.disablePictureInPicture,"muted":this.options_.muted,"poster":this.poster(),"language":this.language(),"playerElIngest":this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],"canOverridePoster":!!this.options_.techCanOverridePoster,"enableSourceset":this.options_.enableSourceset,"Promise":this.options_.Promise};da.names.forEach((function(v){var _=da[v];w[_.getterName]=b[_.privateName]})),video_es_assign(w,this.options_[T]),video_es_assign(w,this.options_[S]),video_es_assign(w,this.options_[v.toLowerCase()]),this.tag&&(w.tag=this.tag),_&&_.src===this.cache_.src&&this.cache_.currentTime>0&&(w.startTime=this.cache_.currentTime);var E=ha.getTech(v);if(!E)throw new Error("No Tech named '"+T+"' exists! '"+T+"' should be registered using videojs.registerTech()'");this.tech_=new E(w),this.tech_.ready(Ui(this,this.handleTechReady_),!0),Rr(this.textTracksJson_||[],this.tech_),ks.forEach((function(v){b.on(b.tech_,v,b["handleTech"+Zi(v)+"_"])})),Object.keys(xs).forEach((function(v){b.on(b.tech_,v,(function(_){0===b.tech_.playbackRate()&&b.tech_.seeking()?b.queuedCallbacks_.push({"callback":b["handleTech"+xs[v]+"_"].bind(b),"event":_}):b["handleTech"+xs[v]+"_"](_)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===T&&this.tag||prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},_.unloadTech_=function unloadTech_(){var v=this;da.names.forEach((function(_){var b=da[_];v[b.privateName]=v[b.getterName]()})),this.textTracksJson_=Nr(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},_.tech=function tech(v){return void 0===v&&bi.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},_.addTechControlsListeners_=function addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},_.removeTechControlsListeners_=function removeTechControlsListeners_(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},_.handleTechReady_=function handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},_.handleTechLoadStart_=function handleTechLoadStart_(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},_.manualAutoplay_=function manualAutoplay_(v){var _=this;if(this.tech_&&"string"==typeof v){var b,T=function muted(){var v=_.muted();_.muted(!0);var b=function restoreMuted(){_.muted(v)};_.playTerminatedQueue_.push(b);var T=_.play();if(isPromise(T))return T.catch(b)};if("any"===v&&!0!==this.muted()?isPromise(b=this.play())&&(b=b.catch(T)):b="muted"===v&&!0!==this.muted()?T():this.play(),isPromise(b))return b.then((function(){_.trigger({"type":"autoplay-success","autoplay":v})})).catch((function(b){_.trigger({"type":"autoplay-failure","autoplay":v})}))}},_.updateSourceCaches_=function updateSourceCaches_(v){void 0===v&&(v="");var _=v,b="";"string"!=typeof _&&(_=v.src,b=v.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],_&&!b&&(b=function findMimetype(v,_){if(!_)return"";if(v.cache_.source.src===_&&v.cache_.source.type)return v.cache_.source.type;var b=v.cache_.sources.filter((function(v){return v.src===_}));if(b.length)return b[0].type;for(var T=v.$$("source"),S=0;S<T.length;S++){var w=T[S];if(w.type&&w.src&&w.src===_)return w.type}return ba(_)}(this,_)),this.cache_.source=mergeOptions({},v,{"src":_,"type":b});for(var T=this.cache_.sources.filter((function(v){return v.src&&v.src===_})),S=[],w=this.$$("source"),E=[],C=0;C<w.length;C++){var k=getAttributes(w[C]);S.push(k),k.src&&k.src===_&&E.push(k.src)}E.length&&!T.length?this.cache_.sources=S:T.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=_},_.handleTechSourceset_=function handleTechSourceset_(v){var _=this;if(!this.changingSrc_){var b=function updateSourceCaches(v){return _.updateSourceCaches_(v)},T=this.currentSource().src,S=v.src;T&&!/^blob:/.test(T)&&/^blob:/.test(S)&&(!this.lastSource_||this.lastSource_.tech!==S&&this.lastSource_.player!==T)&&(b=function updateSourceCaches(){}),b(S),v.src||this.tech_.any(["sourceset","loadstart"],(function(v){if("sourceset"!==v.type){var b=_.techGet("currentSrc");_.lastSource_.tech=b,_.updateSourceCaches_(b)}}))}this.lastSource_={"player":this.currentSource().src,"tech":v.src},this.trigger({"src":v.src,"type":"sourceset"})},_.hasStarted=function hasStarted(v){if(void 0===v)return this.hasStarted_;v!==this.hasStarted_&&(this.hasStarted_=v,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},_.handleTechPlay_=function handleTechPlay_(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},_.handleTechRateChange_=function handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(v){return v.callback(v.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},_.handleTechWaiting_=function handleTechWaiting_(){var v=this;this.addClass("vjs-waiting"),this.trigger("waiting");var _=this.currentTime();this.on("timeupdate",(function timeUpdateListener(){_!==v.currentTime()&&(v.removeClass("vjs-waiting"),v.off("timeupdate",timeUpdateListener))}))},_.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")},_.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},_.handleTechPlaying_=function handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")},_.handleTechSeeking_=function handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")},_.handleTechSeeked_=function handleTechSeeked_(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},_.handleTechFirstPlay_=function handleTechFirstPlay_(){this.options_.starttime&&(bi.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},_.handleTechPause_=function handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},_.handleTechEnded_=function handleTechEnded_(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},_.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_("duration"))},_.handleTechClick_=function handleTechClick_(v){isSingleLeftClick(v)&&this.controls_&&(this.paused()?silencePromise(this.play()):this.pause())},_.handleTechDoubleClick_=function handleTechDoubleClick_(v){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(_){return _.contains(v.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,v):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},_.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive())},_.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive()},_.handleTechTouchMove_=function handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()},_.handleTechTouchEnd_=function handleTechTouchEnd_(v){v.cancelable&&v.preventDefault()},_.handleStageClick_=function handleStageClick_(){this.reportUserActivity()},_.toggleFullscreenClass_=function toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},_.documentFullscreenChange_=function documentFullscreenChange_(v){var _=v.target.player;if(!_||_===this){var b=this.el(),T=E.a[this.fsApi_.fullscreenElement]===b;!T&&b.matches?T=b.matches(":"+this.fsApi_.fullscreen):!T&&b.msMatchesSelector&&(T=b.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(T)}},_.handleTechFullscreenChange_=function handleTechFullscreenChange_(v,_){_&&(_.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(_.isFullscreen))},_.handleTechFullscreenError_=function handleTechFullscreenError_(v,_){this.trigger("fullscreenerror",_)},_.togglePictureInPictureClass_=function togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},_.handleTechEnterPictureInPicture_=function handleTechEnterPictureInPicture_(v){this.isInPictureInPicture(!0)},_.handleTechLeavePictureInPicture_=function handleTechLeavePictureInPicture_(v){this.isInPictureInPicture(!1)},_.handleTechError_=function handleTechError_(){var v=this.tech_.error();this.error(v)},_.handleTechTextData_=function handleTechTextData_(){var v=null;arguments.length>1&&(v=arguments[1]),this.trigger("textdata",v)},_.getCache=function getCache(){return this.cache_},_.resetCache_=function resetCache_(){this.cache_={"currentTime":0,"initTime":0,"inactivityTimeout":this.options_.inactivityTimeout,"duration":NaN,"lastVolume":1,"lastPlaybackRate":this.defaultPlaybackRate(),"media":null,"src":"","source":{},"sources":[],"volume":1}},_.techCall_=function techCall_(v,_){this.ready((function(){if(v in va)return function video_es_set(v,_,b,T){return _[b](v.reduce(middlewareIterator(b),T))}(this.middleware_,this.tech_,v,_);if(v in ya)return mediate(this.middleware_,this.tech_,v,_);try{this.tech_&&this.tech_[v](_)}catch(v){throw bi(v),v}}),!0)},_.techGet_=function techGet_(v){if(this.tech_&&this.tech_.isReady_){if(v in ga)return function video_es_get(v,_,b){return v.reduceRight(middlewareIterator(b),_[b]())}(this.middleware_,this.tech_,v);if(v in ya)return mediate(this.middleware_,this.tech_,v);try{return this.tech_[v]()}catch(_){if(void 0===this.tech_[v])throw bi("Video.js: "+v+" method not defined for "+this.techName_+" playback technology.",_),_;if("TypeError"===_.name)throw bi("Video.js: "+v+" unavailable on "+this.techName_+" playback technology element.",_),this.tech_.isReady_=!1,_;throw bi(_),_}}},_.play=function play(){var v=this,_=this.options_.Promise||S.a.Promise;return _?new _((function(_){v.play_(_)})):this.play_()},_.play_=function play_(v){var _=this;void 0===v&&(v=silencePromise),this.playCallbacks_.push(v);var b=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!b)return this.waitToPlay_=function(v){_.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(b||!Cr&&!Er||this.load());var T=this.techGet_("play");null===T?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(T)},_.runPlayTerminatedQueue_=function runPlayTerminatedQueue_(){var v=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],v.forEach((function(v){v()}))},_.runPlayCallbacks_=function runPlayCallbacks_(v){var _=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],_.forEach((function(_){_(v)}))},_.pause=function pause(){this.techCall_("pause")},_.paused=function paused(){return!1!==this.techGet_("paused")},_.played=function played(){return this.techGet_("played")||createTimeRanges(0,0)},_.scrubbing=function scrubbing(v){if(void 0===v)return this.scrubbing_;this.scrubbing_=!!v,this.techCall_("setScrubbing",this.scrubbing_),v?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},_.currentTime=function currentTime(v){return void 0!==v?(v<0&&(v=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",v),void(this.cache_.initTime=0)):(this.cache_.initTime=v,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},_.applyInitTime_=function applyInitTime_(){this.currentTime(this.cache_.initTime)},_.duration=function duration(v){if(void 0===v)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(v=parseFloat(v))<0&&(v=1/0),v!==this.cache_.duration&&(this.cache_.duration=v,v===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(v)||this.trigger("durationchange"))},_.remainingTime=function remainingTime(){return this.duration()-this.currentTime()},_.remainingTimeDisplay=function remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())},_.buffered=function buffered(){var buffered=this.techGet_("buffered");return buffered&&buffered.length||(buffered=createTimeRanges(0,0)),buffered},_.bufferedPercent=function bufferedPercent$1(){return bufferedPercent(this.buffered(),this.duration())},_.bufferedEnd=function bufferedEnd(){var v=this.buffered(),_=this.duration(),b=v.end(v.length-1);return b>_&&(b=_),b},_.volume=function volume(v){var _;return void 0!==v?(_=Math.max(0,Math.min(1,parseFloat(v))),this.cache_.volume=_,this.techCall_("setVolume",_),void(_>0&&this.lastVolume_(_))):(_=parseFloat(this.techGet_("volume")),isNaN(_)?1:_)},_.muted=function muted(v){if(void 0===v)return this.techGet_("muted")||!1;this.techCall_("setMuted",v)},_.defaultMuted=function defaultMuted(v){return void 0!==v?this.techCall_("setDefaultMuted",v):this.techGet_("defaultMuted")||!1},_.lastVolume_=function lastVolume_(v){if(void 0===v||0===v)return this.cache_.lastVolume;this.cache_.lastVolume=v},_.supportsFullScreen=function supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1},_.isFullscreen=function isFullscreen(v){if(void 0!==v){var _=this.isFullscreen_;return this.isFullscreen_=Boolean(v),this.isFullscreen_!==_&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},_.requestFullscreen=function requestFullscreen(v){var _=this.options_.Promise||S.a.Promise;if(_){var b=this;return new _((function(_,T){function offHandler(){b.off("fullscreenerror",errorHandler),b.off("fullscreenchange",changeHandler)}function changeHandler(){offHandler(),_()}function errorHandler(v,_){offHandler(),T(_)}b.one("fullscreenchange",changeHandler),b.one("fullscreenerror",errorHandler);var S=b.requestFullscreenHelper_(v);if(S)return S.then(offHandler,offHandler),S}))}return this.requestFullscreenHelper_()},_.requestFullscreenHelper_=function requestFullscreenHelper_(v){var _,b=this;if(this.fsApi_.prefixed||(_=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==v&&(_=v)),this.fsApi_.requestFullscreen){var T=this.el_[this.fsApi_.requestFullscreen](_);return T&&T.then((function(){return b.isFullscreen(!0)}),(function(){return b.isFullscreen(!1)})),T}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},_.exitFullscreen=function exitFullscreen(){var v=this.options_.Promise||S.a.Promise;if(v){var _=this;return new v((function(v,b){function offHandler(){_.off("fullscreenerror",errorHandler),_.off("fullscreenchange",changeHandler)}function changeHandler(){offHandler(),v()}function errorHandler(v,_){offHandler(),b(_)}_.one("fullscreenchange",changeHandler),_.one("fullscreenerror",errorHandler);var T=_.exitFullscreenHelper_();if(T)return T.then(offHandler,offHandler),T}))}return this.exitFullscreenHelper_()},_.exitFullscreenHelper_=function exitFullscreenHelper_(){var v=this;if(this.fsApi_.requestFullscreen){var _=E.a[this.fsApi_.exitFullscreen]();return _&&_.then((function(){return v.isFullscreen(!1)})),_}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},_.enterFullWindow=function enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=E.a.documentElement.style.overflow,on(E.a,"keydown",this.boundFullWindowOnEscKey_),E.a.documentElement.style.overflow="hidden",addClass(E.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},_.fullWindowOnEscKey=function fullWindowOnEscKey(v){R.a.isEventKey(v,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},_.exitFullWindow=function exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,off(E.a,"keydown",this.boundFullWindowOnEscKey_),E.a.documentElement.style.overflow=this.docOrigOverflow,removeClass(E.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},_.disablePictureInPicture=function disablePictureInPicture(v){if(void 0===v)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",v),this.options_.disablePictureInPicture=v,this.trigger("disablepictureinpicturechanged")},_.isInPictureInPicture=function isInPictureInPicture(v){return void 0!==v?(this.isInPictureInPicture_=!!v,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},_.requestPictureInPicture=function requestPictureInPicture(){if("pictureInPictureEnabled"in E.a&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},_.exitPictureInPicture=function exitPictureInPicture(){if("pictureInPictureEnabled"in E.a)return E.a.exitPictureInPicture()},_.handleKeyDown=function handleKeyDown(v){var _=this.options_.userActions;if(_&&_.hotkeys){(function excludeElement(v){var _=v.tagName.toLowerCase();if(v.isContentEditable)return!0;if("input"===_)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(v.type);return-1!==["textarea"].indexOf(_)})(this.el_.ownerDocument.activeElement)||("function"==typeof _.hotkeys?_.hotkeys.call(this,v):this.handleHotkeys(v))}},_.handleHotkeys=function handleHotkeys(v){var _=this.options_.userActions?this.options_.userActions.hotkeys:{},b=_.fullscreenKey,T=void 0===b?function(v){return R.a.isEventKey(v,"f")}:b,S=_.muteKey,w=void 0===S?function(v){return R.a.isEventKey(v,"m")}:S,C=_.playPauseKey,k=void 0===C?function(v){return R.a.isEventKey(v,"k")||R.a.isEventKey(v,"Space")}:C;if(T.call(this,v)){v.preventDefault(),v.stopPropagation();var x=rr.getComponent("FullscreenToggle");!1!==E.a[this.fsApi_.fullscreenEnabled]&&x.prototype.handleClick.call(this,v)}else if(w.call(this,v)){v.preventDefault(),v.stopPropagation(),rr.getComponent("MuteToggle").prototype.handleClick.call(this,v)}else if(k.call(this,v)){v.preventDefault(),v.stopPropagation(),rr.getComponent("PlayToggle").prototype.handleClick.call(this,v)}},_.canPlayType=function canPlayType(v){for(var _,b=0,T=this.options_.techOrder;b<T.length;b++){var S=T[b],w=ha.getTech(S);if(w||(w=rr.getComponent(S)),w){if(w.isSupported()&&(_=w.canPlayType(v)))return _}else bi.error('The "'+S+'" tech is undefined. Skipped browser support check for that tech.')}return""},_.selectSource=function selectSource(v){var _=this,b=this.options_.techOrder.map((function(v){return[v,ha.getTech(v)]})).filter((function(v){var _=v[0],b=v[1];return b?b.isSupported():(bi.error('The "'+_+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),T=function findFirstPassingTechSourcePair(v,_,b){var T;return v.some((function(v){return _.some((function(_){if(T=b(v,_))return!0}))})),T},S=function finder(v,b){var T=v[0];if(v[1].canPlaySource(b,_.options_[T.toLowerCase()]))return{"source":b,"tech":T}};return(this.options_.sourceOrder?T(v,b,function flip(v){return function(_,b){return v(b,_)}}(S)):T(b,v,S))||!1},_.src=function src(v){var _=this;if(void 0===v)return this.cache_.src||"";var b=function filterSource(v){if(Array.isArray(v)){var _=[];v.forEach((function(v){v=filterSource(v),Array.isArray(v)?_=_.concat(v):video_es_isObject(v)&&_.push(v)})),v=_}else v="string"==typeof v&&v.trim()?[fixSource({"src":v})]:video_es_isObject(v)&&"string"==typeof v.src&&v.src&&v.src.trim()?[fixSource(v)]:[];return v}(v);b.length?(this.changingSrc_=!0,this.cache_.sources=b,this.updateSourceCaches_(b[0]),setSource(this,b[0],(function(v,T){if(_.middleware_=T,_.cache_.sources=b,_.updateSourceCaches_(v),_.src_(v))return b.length>1?_.src(b.slice(1)):(_.changingSrc_=!1,_.setTimeout((function(){this.error({"code":4,"message":this.localize(this.options_.notSupportedMessage)})}),0),void _.triggerReady());!function setTech(v,_){v.forEach((function(v){return v.setTech&&v.setTech(_)}))}(T,_.tech_)}))):this.setTimeout((function(){this.error({"code":4,"message":this.localize(this.options_.notSupportedMessage)})}),0)},_.src_=function src_(v){var _=this,b=this.selectSource([v]);return!b||(function titleCaseEquals(v,_){return Zi(v)===Zi(_)}(b.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",v):this.techCall_("src",v.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(b.tech,b.source),this.tech_.ready((function(){_.changingSrc_=!1})),!1))},_.load=function load(){this.techCall_("load")},_.reset=function reset(){var v=this,_=this.options_.Promise||S.a.Promise;this.paused()||!_?this.doReset_():silencePromise(this.play().then((function(){return v.doReset_()})))},_.doReset_=function doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Wi(this)&&this.trigger("playerreset")},_.resetControlBarUI_=function resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},_.resetProgressBar_=function resetProgressBar_(){this.currentTime(0);var v=this.controlBar,_=v.durationDisplay,b=v.remainingTimeDisplay;_&&_.updateContent(),b&&b.updateContent()},_.resetPlaybackRate_=function resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},_.resetVolumeBar_=function resetVolumeBar_(){this.volume(1),this.trigger("volumechange")},_.currentSources=function currentSources(){var v=this.currentSource(),_=[];return 0!==Object.keys(v).length&&_.push(v),this.cache_.sources||_},_.currentSource=function currentSource(){return this.cache_.source||{}},_.currentSrc=function currentSrc(){return this.currentSource()&&this.currentSource().src||""},_.currentType=function currentType(){return this.currentSource()&&this.currentSource().type||""},_.preload=function preload(v){return void 0!==v?(this.techCall_("setPreload",v),void(this.options_.preload=v)):this.techGet_("preload")},_.autoplay=function autoplay(v){if(void 0===v)return this.options_.autoplay||!1;var _;"string"==typeof v&&/(any|play|muted)/.test(v)?(this.options_.autoplay=v,this.manualAutoplay_(v),_=!1):this.options_.autoplay=!!v,_=void 0===_?this.options_.autoplay:_,this.tech_&&this.techCall_("setAutoplay",_)},_.playsinline=function playsinline(v){return void 0!==v?(this.techCall_("setPlaysinline",v),this.options_.playsinline=v,this):this.techGet_("playsinline")},_.loop=function loop(v){return void 0!==v?(this.techCall_("setLoop",v),void(this.options_.loop=v)):this.techGet_("loop")},_.poster=function poster(v){if(void 0===v)return this.poster_;v||(v=""),v!==this.poster_&&(this.poster_=v,this.techCall_("setPoster",v),this.isPosterFromTech_=!1,this.trigger("posterchange"))},_.handleTechPosterChange_=function handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var v=this.tech_.poster()||"";v!==this.poster_&&(this.poster_=v,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},_.controls=function controls(v){if(void 0===v)return!!this.controls_;v=!!v,this.controls_!==v&&(this.controls_=v,this.usingNativeControls()&&this.techCall_("setControls",v),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},_.usingNativeControls=function usingNativeControls(v){if(void 0===v)return!!this.usingNativeControls_;v=!!v,this.usingNativeControls_!==v&&(this.usingNativeControls_=v,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},_.error=function error(v){if(void 0===v)return this.error_||null;if(this.options_.suppressNotSupportedError&&v&&4===v.code){var _=function triggerSuppressedError(){this.error(v)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],_),void this.one("loadstart",(function(){this.off(["click","touchstart"],_)}))}if(null===v)return this.error_=v,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new MediaError(v),this.addClass("vjs-error"),bi.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},_.reportUserActivity=function reportUserActivity(v){this.userActivity_=!0},_.userActive=function userActive(v){if(void 0===v)return this.userActive_;if((v=!!v)!==this.userActive_){if(this.userActive_=v,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(v){v.stopPropagation(),v.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},_.listenForUserActivity_=function listenForUserActivity_(){var v,_,b,T=Ui(this,this.reportUserActivity),S=function handleMouseUpAndMouseLeave(_){T(),this.clearInterval(v)};this.on("mousedown",(function handleMouseDown(){T(),this.clearInterval(v),v=this.setInterval(T,250)})),this.on("mousemove",(function handleMouseMove(v){v.screenX===_&&v.screenY===b||(_=v.screenX,b=v.screenY,T())})),this.on("mouseup",S),this.on("mouseleave",S);var w,E=this.getChild("controlBar");!E||Er||dr||(E.on("mouseenter",(function(v){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),E.on("mouseleave",(function(v){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",T),this.on("keyup",T),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(w);var v=this.options_.inactivityTimeout;v<=0||(w=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),v))}}),250)},_.playbackRate=function playbackRate(v){if(void 0===v)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",v)},_.defaultPlaybackRate=function defaultPlaybackRate(v){return void 0!==v?this.techCall_("setDefaultPlaybackRate",v):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},_.isAudio=function isAudio(v){if(void 0===v)return!!this.isAudio_;this.isAudio_=!!v},_.addTextTrack=function addTextTrack(v,_,b){if(this.tech_)return this.tech_.addTextTrack(v,_,b)},_.addRemoteTextTrack=function addRemoteTextTrack(v,_){if(this.tech_)return this.tech_.addRemoteTextTrack(v,_)},_.removeRemoteTextTrack=function removeRemoteTextTrack(v){void 0===v&&(v={});var _=v.track;if(_||(_=v),this.tech_)return this.tech_.removeRemoteTextTrack(_)},_.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")},_.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},_.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},_.language=function language(v){if(void 0===v)return this.language_;this.language_!==String(v).toLowerCase()&&(this.language_=String(v).toLowerCase(),Wi(this)&&this.trigger("languagechange"))},_.languages=function languages(){return mergeOptions(Player.prototype.options_.languages,this.languages_)},_.toJSON=function toJSON(){var v=mergeOptions(this.options_),_=v.tracks;v.tracks=[];for(var b=0;b<_.length;b++){var T=_[b];(T=mergeOptions(T)).player=void 0,v.tracks[b]=T}return v},_.createModal=function createModal(v,_){var b=this;(_=_||{}).content=v||"";var T=new Br(this,_);return this.addChild(T),T.on("dispose",(function(){b.removeChild(T)})),T.open(),T},_.updateCurrentBreakpoint_=function updateCurrentBreakpoint_(){if(this.responsive())for(var v=this.currentBreakpoint(),_=this.currentWidth(),b=0;b<As.length;b++){var T=As[b];if(_<=this.breakpoints_[T]){if(v===T)return;v&&this.removeClass(Ps[v]),this.addClass(Ps[T]),this.breakpoint_=T;break}}},_.removeCurrentBreakpoint_=function removeCurrentBreakpoint_(){var v=this.currentBreakpointClass();this.breakpoint_="",v&&this.removeClass(v)},_.breakpoints=function breakpoints(v){return void 0===v||(this.breakpoint_="",this.breakpoints_=video_es_assign({},Is,v),this.updateCurrentBreakpoint_()),video_es_assign(this.breakpoints_)},_.responsive=function responsive(v){return void 0===v?this.responsive_:(v=Boolean(v))!==this.responsive_?(this.responsive_=v,v?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),v):void 0},_.currentBreakpoint=function currentBreakpoint(){return this.breakpoint_},_.currentBreakpointClass=function currentBreakpointClass(){return Ps[this.breakpoint_]||""},_.loadMedia=function loadMedia(v,_){var b=this;if(v&&"object"==typeof v){this.reset(),this.cache_.media=mergeOptions(v);var T=this.cache_.media,S=T.artwork,w=T.poster,E=T.src,C=T.textTracks;!S&&w&&(this.cache_.media.artwork=[{"src":w,"type":ba(w)}]),E&&this.src(E),w&&this.poster(w),Array.isArray(C)&&C.forEach((function(v){return b.addRemoteTextTrack(v,!1)})),this.ready(_)}},_.getMedia=function getMedia(){if(!this.cache_.media){var v=this.poster(),_={"src":this.currentSources(),"textTracks":Array.prototype.map.call(this.remoteTextTracks(),(function(v){return{"kind":v.kind,"label":v.label,"language":v.language,"src":v.src}}))};return v&&(_.poster=v,_.artwork=[{"src":_.poster,"type":ba(_.poster)}]),_}return mergeOptions(this.cache_.media)},Player.getTagSettings=function getTagSettings(v){var _={"sources":[],"tracks":[]},b=getAttributes(v),T=b["data-setup"];if(hasClass(v,"vjs-fill")&&(b.fill=!0),hasClass(v,"vjs-fluid")&&(b.fluid=!0),null!==T){var S=D()(T||"{}"),w=S[0],E=S[1];w&&bi.error(w),video_es_assign(b,E)}if(video_es_assign(_,b),v.hasChildNodes())for(var C=v.childNodes,k=0,x=C.length;k<x;k++){var P=C[k],I=P.nodeName.toLowerCase();"source"===I?_.sources.push(getAttributes(P)):"track"===I&&_.tracks.push(getAttributes(P))}return _},_.flexNotSupported_=function flexNotSupported_(){var v=E.a.createElement("i");return!("flexBasis"in v.style||"webkitFlexBasis"in v.style||"mozFlexBasis"in v.style||"msFlexBasis"in v.style||"msFlexOrder"in v.style)},_.debug=function debug(v){if(void 0===v)return this.debugEnabled_;v?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},Player}(rr);da.names.forEach((function(v){var _=da[v];Os.prototype[_.getterName]=function(){return this.tech_?this.tech_[_.getterName]():(this[_.privateName]=this[_.privateName]||new _.ListClass,this[_.privateName])}})),Os.prototype.crossorigin=Os.prototype.crossOrigin,Os.players={};var Ls=S.a.navigator;Os.prototype.options_={"techOrder":ha.defaultTechOrder_,"html5":{},"inactivityTimeout":2e3,"playbackRates":[],"liveui":!1,"children":["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],"language":Ls&&(Ls.languages&&Ls.languages[0]||Ls.userLanguage||Ls.language)||"en","languages":{},"notSupportedMessage":"No compatible source was found for this media.","fullscreen":{"options":{"navigationUI":"hide"}},"breakpoints":{},"responsive":!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(v){Os.prototype[v]=function(){return this.techGet_(v)}})),ks.forEach((function(v){Os.prototype["handleTech"+Zi(v)+"_"]=function(){return this.trigger(v)}})),rr.registerComponent("Player",Os);var Ms={},Ds=function pluginExists(v){return Ms.hasOwnProperty(v)},Ns=function getPlugin(v){return Ds(v)?Ms[v]:void 0},Rs=function markPluginAsActive(v,_){v.activePlugins_=v.activePlugins_||{},v.activePlugins_[_]=!0},Bs=function triggerSetupEvent(v,_,b){var T=(b?"before":"")+"pluginsetup";v.trigger(T,_),v.trigger(T+":"+_.name,_)},js=function createPluginFactory(v,_){return _.prototype.name=v,function(){Bs(this,{"name":v,"plugin":_,"instance":null},!0);for(var b=arguments.length,T=new Array(b),S=0;S<b;S++)T[S]=arguments[S];var w=W()(_,[this].concat(T));return this[v]=function(){return w},Bs(this,w.getEventHash()),w}},Us=function(){function Plugin(v){if(this.constructor===Plugin)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=v,this.log||(this.log=this.player.log.createLogger(this.name)),evented(this),delete this.trigger,stateful(this,this.constructor.defaultState),Rs(v,this.name),this.dispose=Ui(this,this.dispose),v.on("dispose",this.dispose)}var v=Plugin.prototype;return v.version=function version(){return this.constructor.VERSION},v.getEventHash=function getEventHash(v){return void 0===v&&(v={}),v.name=this.name,v.plugin=this.constructor,v.instance=this,v},v.trigger=function trigger$1(v,_){return void 0===_&&(_={}),trigger(this.eventBusEl_,v,this.getEventHash(_))},v.handleStateChanged=function handleStateChanged(v){},v.dispose=function dispose(){var v=this.name,_=this.player;this.trigger("dispose"),this.off(),_.off("dispose",this.dispose),_.activePlugins_[v]=!1,this.player=this.state=null,_[v]=js(v,Ms[v])},Plugin.isBasic=function isBasic(v){var _="string"==typeof v?Ns(v):v;return"function"==typeof _&&!Plugin.prototype.isPrototypeOf(_.prototype)},Plugin.registerPlugin=function registerPlugin(v,_){if("string"!=typeof v)throw new Error('Illegal plugin name, "'+v+'", must be a string, was '+typeof v+".");if(Ds(v))bi.warn('A plugin named "'+v+'" already exists. You may want to avoid re-registering plugins!');else if(Os.prototype.hasOwnProperty(v))throw new Error('Illegal plugin name, "'+v+'", cannot share a name with an existing player method!');if("function"!=typeof _)throw new Error('Illegal plugin for "'+v+'", must be a function, was '+typeof _+".");return Ms[v]=_,"plugin"!==v&&(Plugin.isBasic(_)?Os.prototype[v]=function createBasicPlugin(v,_){var b=function basicPluginWrapper(){Bs(this,{"name":v,"plugin":_,"instance":null},!0);var b=_.apply(this,arguments);return Rs(this,v),Bs(this,{"name":v,"plugin":_,"instance":b}),b};return Object.keys(_).forEach((function(v){b[v]=_[v]})),b}(v,_):Os.prototype[v]=js(v,_)),_},Plugin.deregisterPlugin=function deregisterPlugin(v){if("plugin"===v)throw new Error("Cannot de-register base plugin.");Ds(v)&&(delete Ms[v],delete Os.prototype[v])},Plugin.getPlugins=function getPlugins(v){var _;return void 0===v&&(v=Object.keys(Ms)),v.forEach((function(v){var b=Ns(v);b&&((_=_||{})[v]=b)})),_},Plugin.getPluginVersion=function getPluginVersion(v){var _=Ns(v);return _&&_.VERSION||""},Plugin}();Us.getPlugin=Ns,Us.BASE_PLUGIN_NAME="plugin",Us.registerPlugin("plugin",Us),Os.prototype.usingPlugin=function(v){return!!this.activePlugins_&&!0===this.activePlugins_[v]},Os.prototype.hasPlugin=function(v){return!!Ds(v)};var Fs=function normalizeId(v){return 0===v.indexOf("#")?v.slice(1):v};function videojs$1(v,_,b){var T=videojs$1.getPlayer(v);if(T)return _&&bi.warn('Player "'+v+'" is already initialised. Options will not be applied.'),b&&T.ready(b),T;var S="string"==typeof v?Ci("#"+Fs(v)):v;if(!isEl(S))throw new TypeError("The element or ID supplied is not valid. (videojs)");S.ownerDocument.defaultView&&S.ownerDocument.body.contains(S)||bi.warn("The element supplied is not included in the DOM"),_=_||{},videojs$1.hooks("beforesetup").forEach((function(v){var b=v(S,mergeOptions(_));video_es_isObject(b)&&!Array.isArray(b)?_=mergeOptions(_,b):bi.error("please return an object in beforesetup hooks")}));var w=rr.getComponent("Player");return T=new w(S,_,b),videojs$1.hooks("setup").forEach((function(v){return v(T)})),T}if(videojs$1.hooks_={},videojs$1.hooks=function(v,_){return videojs$1.hooks_[v]=videojs$1.hooks_[v]||[],_&&(videojs$1.hooks_[v]=videojs$1.hooks_[v].concat(_)),videojs$1.hooks_[v]},videojs$1.hook=function(v,_){videojs$1.hooks(v,_)},videojs$1.hookOnce=function(v,_){videojs$1.hooks(v,[].concat(_).map((function(_){return function wrapper(){return videojs$1.removeHook(v,wrapper),_.apply(void 0,arguments)}})))},videojs$1.removeHook=function(v,_){var b=videojs$1.hooks(v).indexOf(_);return!(b<=-1)&&(videojs$1.hooks_[v]=videojs$1.hooks_[v].slice(),videojs$1.hooks_[v].splice(b,1),!0)},!0!==S.a.VIDEOJS_NO_DYNAMIC_STYLE&&isReal()){var Vs=Ci(".vjs-styles-defaults");if(!Vs){Vs=Oi("vjs-styles-defaults");var Hs=Ci("head");Hs&&Hs.insertBefore(Vs,Hs.firstChild),Li(Vs,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}autoSetupTimeout(1,videojs$1),videojs$1.VERSION="7.11.4",videojs$1.options=Os.prototype.options_,videojs$1.getPlayers=function(){return Os.players},videojs$1.getPlayer=function(v){var _,b=Os.players;if("string"==typeof v){var T=Fs(v),S=b[T];if(S)return S;_=Ci("#"+T)}else _=v;if(isEl(_)){var w=_,E=w.player,C=w.playerId;if(E||b[C])return E||b[C]}},videojs$1.getAllPlayers=function(){return Object.keys(Os.players).map((function(v){return Os.players[v]})).filter(Boolean)},videojs$1.players=Os.players,videojs$1.getComponent=rr.getComponent,videojs$1.registerComponent=function(v,_){ha.isTech(_)&&bi.warn("The "+v+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),rr.registerComponent.call(rr,v,_)},videojs$1.getTech=ha.getTech,videojs$1.registerTech=ha.registerTech,videojs$1.use=function use(v,_){pa[v]=pa[v]||[],pa[v].push(_)},Object.defineProperty(videojs$1,"middleware",{"value":{},"writeable":!1,"enumerable":!0}),Object.defineProperty(videojs$1.middleware,"TERMINATOR",{"value":ma,"writeable":!1,"enumerable":!0}),videojs$1.browser=kr,videojs$1.TOUCH_ENABLED=Tr,videojs$1.extend=function extend(v,_){void 0===_&&(_={});var b=function subClass(){v.apply(this,arguments)},T={};for(var S in"object"==typeof _?(_.constructor!==Object.prototype.constructor&&(b=_.constructor),T=_):"function"==typeof _&&(b=_),G()(b,v),v&&(b.super_=v),T)T.hasOwnProperty(S)&&(b.prototype[S]=T[S]);return b},videojs$1.mergeOptions=mergeOptions,videojs$1.bind=Ui,videojs$1.registerPlugin=Us.registerPlugin,videojs$1.deregisterPlugin=Us.deregisterPlugin,videojs$1.plugin=function(v,_){return bi.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Us.registerPlugin(v,_)},videojs$1.getPlugins=Us.getPlugins,videojs$1.getPlugin=Us.getPlugin,videojs$1.getPluginVersion=Us.getPluginVersion,videojs$1.addLanguage=function(v,_){var b;return v=(""+v).toLowerCase(),videojs$1.options.languages=mergeOptions(videojs$1.options.languages,((b={})[v]=_,b)),videojs$1.options.languages[v]},videojs$1.log=bi,videojs$1.createLogger=Ti,videojs$1.createTimeRange=videojs$1.createTimeRanges=createTimeRanges,videojs$1.formatTime=formatTime,videojs$1.setFormatTime=function setFormatTime(v){La=v},videojs$1.resetFormatTime=function resetFormatTime(){La=Oa},videojs$1.parseUrl=Jr,videojs$1.isCrossOrigin=ta,videojs$1.EventTarget=Vi,videojs$1.on=on,videojs$1.one=one,videojs$1.off=off,videojs$1.trigger=trigger,videojs$1.xhr=j.a,videojs$1.TextTrack=aa,videojs$1.AudioTrack=oa,videojs$1.VideoTrack=sa,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(v){videojs$1[v]=function(){return bi.warn("videojs."+v+"() is deprecated; use videojs.dom."+v+"() instead"),xi[v].apply(null,arguments)}})),videojs$1.computedStyle=computedStyle,videojs$1.dom=xi,videojs$1.url=na,videojs$1.defineLazyProperty=Es;var Ws,qs=X.a,zs=function resolveManifestRedirect(v,_,b){return v&&b&&b.responseURL&&_!==b.responseURL?b.responseURL:_},Gs=videojs$1.log,Ys=function createPlaylistID(v,_){return v+"-"+_},Xs=function parseManifest(v){var _=v.manifestString,b=v.customTagParsers,T=void 0===b?[]:b,S=v.customTagMappers,w=void 0===S?[]:S,E=new oe;return T.forEach((function(v){return E.addParser(v)})),w.forEach((function(v){return E.addTagMapper(v)})),E.push(_),E.end(),E.manifest},Ks=function forEachMediaGroup(v,_){["AUDIO","SUBTITLES"].forEach((function(b){for(var T in v.mediaGroups[b])for(var S in v.mediaGroups[b][T]){var w=v.mediaGroups[b][T][S];_(w,b,T,S)}}))},Qs=function setupMediaPlaylist(v){var _=v.playlist,b=v.uri,T=v.id;_.id=T,b&&(_.uri=b),_.attributes=_.attributes||{}},$s=function addPropertiesToMaster(v,_){v.uri=_;for(var b=0;b<v.playlists.length;b++)if(!v.playlists[b].uri){var T="placeholder-uri-"+b;v.playlists[b].uri=T}Ks(v,(function(_,b,T,S){if(_.playlists&&_.playlists.length&&!_.playlists[0].uri){var w="placeholder-uri-"+b+"-"+T+"-"+S,E=Ys(0,w);_.playlists[0].uri=w,_.playlists[0].id=E,v.playlists[E]=_.playlists[0],v.playlists[w]=_.playlists[0]}})),function setupMediaPlaylists(v){for(var _=v.playlists.length;_--;){var b=v.playlists[_];Qs({"playlist":b,"id":Ys(_,b.uri)}),b.resolvedUri=qs(v.uri,b.uri),v.playlists[b.id]=b,v.playlists[b.uri]=b,b.attributes.BANDWIDTH||Gs.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(v),function resolveMediaGroupUris(v){Ks(v,(function(_){_.uri&&(_.resolvedUri=qs(v.uri,_.uri))}))}(v)},Js=videojs$1.mergeOptions,Zs=videojs$1.EventTarget,tl=function resolveSegmentUris(v,_){v.resolvedUri||(v.resolvedUri=qs(_,v.uri)),v.key&&!v.key.resolvedUri&&(v.key.resolvedUri=qs(_,v.key.uri)),v.map&&!v.map.resolvedUri&&(v.map.resolvedUri=qs(_,v.map.uri))},nl=function updateMaster(v,_){var b=Js(v,{}),T=b.playlists[_.id];if(!T)return null;if(T.segments&&_.segments&&T.segments.length===_.segments.length&&T.endList===_.endList&&T.mediaSequence===_.mediaSequence)return null;var S=Js(T,_);T.segments&&(S.segments=function updateSegments(v,_,b){var T=_.slice();b=b||0;for(var S=Math.min(v.length,_.length+b),w=b;w<S;w++)T[w-b]=Js(v[w],T[w-b]);return T}(T.segments,_.segments,_.mediaSequence-T.mediaSequence)),S.segments.forEach((function(v){tl(v,S.resolvedUri)}));for(var w=0;w<b.playlists.length;w++)b.playlists[w].id===_.id&&(b.playlists[w]=S);return b.playlists[_.id]=S,b.playlists[_.uri]=S,b},il=function refreshDelay(v,_){var b=v.segments[v.segments.length-1];return _&&b&&b.duration?1e3*b.duration:500*(v.targetDuration||10)},rl=function(v){function PlaylistLoader(_,b,T){var S;if(void 0===T&&(T={}),S=v.call(this)||this,!_)throw new Error("A non-empty playlist URL or object is required");var w=T,E=w.withCredentials,C=void 0!==E&&E,k=w.handleManifestRedirects,x=void 0!==k&&k;S.src=_,S.vhs_=b,S.withCredentials=C,S.handleManifestRedirects=x;var P=b.options_;return S.customTagParsers=P&&P.customTagParsers||[],S.customTagMappers=P&&P.customTagMappers||[],S.state="HAVE_NOTHING",S.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===S.state&&(S.state="HAVE_CURRENT_METADATA",S.request=S.vhs_.xhr({"uri":qs(S.master.uri,S.media().uri),"withCredentials":S.withCredentials},(function(v,_){if(S.request)return v?S.playlistRequestError(S.request,S.media(),"HAVE_METADATA"):void S.haveMetadata({"playlistString":S.request.responseText,"url":S.media().uri,"id":S.media().id})})))})),S}O()(PlaylistLoader,v);var _=PlaylistLoader.prototype;return _.playlistRequestError=function playlistRequestError(v,_,b){var T=_.uri,S=_.id;this.request=null,b&&(this.state=b),this.error={"playlist":this.master.playlists[S],"status":v.status,"message":"HLS playlist request error at URL: "+T+".","responseText":v.responseText,"code":v.status>=500?4:2},this.trigger("error")},_.haveMetadata=function haveMetadata(v){var _=this,b=v.playlistString,T=v.playlistObject,w=v.url,E=v.id;this.request=null,this.state="HAVE_METADATA";var C=T||Xs({"manifestString":b,"customTagParsers":this.customTagParsers,"customTagMappers":this.customTagMappers});C.lastRequest=Date.now(),Qs({"playlist":C,"uri":w,"id":E});var k=nl(this.master,C);this.targetDuration=C.targetDuration,k?(this.master=k,this.media_=this.master.playlists[E]):this.trigger("playlistunchanged"),this.media().endList||(S.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=S.a.setTimeout((function(){_.trigger("mediaupdatetimeout")}),il(this.media(),!!k))),this.trigger("loadedplaylist")},_.dispose=function dispose(){this.trigger("dispose"),this.stopRequest(),S.a.clearTimeout(this.mediaUpdateTimeout),S.a.clearTimeout(this.finalRenditionTimeout),this.off()},_.stopRequest=function stopRequest(){if(this.request){var v=this.request;this.request=null,v.onreadystatechange=null,v.abort()}},_.media=function media(v,_){var b=this;if(!v)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof v){if(!this.master.playlists[v])throw new Error("Unknown playlist URI: "+v);v=this.master.playlists[v]}if(S.a.clearTimeout(this.finalRenditionTimeout),_){var T=v.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=S.a.setTimeout(this.media.bind(this,v,!1),T)}else{var w=this.state,E=!this.media_||v.id!==this.media_.id;if(this.master.playlists[v.id].endList||v.endList&&v.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=v,void(E&&(this.trigger("mediachanging"),"HAVE_MASTER"===w?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(E){if(this.state="SWITCHING_MEDIA",this.request){if(v.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({"uri":v.resolvedUri,"withCredentials":this.withCredentials},(function(_,T){if(b.request){if(v.lastRequest=Date.now(),v.resolvedUri=zs(b.handleManifestRedirects,v.resolvedUri,T),_)return b.playlistRequestError(b.request,v,w);b.haveMetadata({"playlistString":T.responseText,"url":v.uri,"id":v.id}),"HAVE_MASTER"===w?b.trigger("loadedmetadata"):b.trigger("mediachange")}}))}}},_.pause=function pause(){this.stopRequest(),S.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},_.load=function load(v){var _=this;S.a.clearTimeout(this.mediaUpdateTimeout);var b=this.media();if(v){var T=b?b.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=S.a.setTimeout((function(){return _.load()}),T)}else this.started?b&&!b.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},_.start=function start(){var v=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=S.a.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){v.setupInitialPlaylist(v.src)}),0);this.request=this.vhs_.xhr({"uri":this.src,"withCredentials":this.withCredentials},(function(_,b){if(v.request){if(v.request=null,_)return v.error={"status":b.status,"message":"HLS playlist request error at URL: "+v.src+".","responseText":b.responseText,"code":2},"HAVE_NOTHING"===v.state&&(v.started=!1),v.trigger("error");v.src=zs(v.handleManifestRedirects,v.src,b);var T=Xs({"manifestString":b.responseText,"customTagParsers":v.customTagParsers,"customTagMappers":v.customTagMappers});v.setupInitialPlaylist(T)}}))},_.srcUri=function srcUri(){return"string"==typeof this.src?this.src:this.src.uri},_.setupInitialPlaylist=function setupInitialPlaylist(v){if(this.state="HAVE_MASTER",v.playlists)return this.master=v,$s(this.master,this.srcUri()),v.playlists.forEach((function(v){v.segments&&v.segments.forEach((function(_){tl(_,v.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var _=this.srcUri()||S.a.location.href;this.master=function masterForMedia(v,_){var b=Ys(0,_),T={"mediaGroups":{"AUDIO":{},"VIDEO":{},"CLOSED-CAPTIONS":{},"SUBTITLES":{}},"uri":S.a.location.href,"resolvedUri":S.a.location.href,"playlists":[{"uri":_,"id":b,"resolvedUri":_,"attributes":{}}]};return T.playlists[b]=T.playlists[0],T.playlists[_]=T.playlists[0],T}(0,_),this.haveMetadata({"playlistObject":v,"url":_,"id":this.master.playlists[0].id}),this.trigger("loadedmetadata")},PlaylistLoader}(Zs),al=function filterRanges(v,_){var b,T=[];if(v&&v.length)for(b=0;b<v.length;b++)_(v.start(b),v.end(b))&&T.push([v.start(b),v.end(b)]);return videojs$1.createTimeRanges(T)},ol=function findRange(v,_){return al(v,(function(v,b){return v-.1<=_&&b+.1>=_}))},sl=function findNextRange(v,_){return al(v,(function(v){return v-1/30>=_}))},ll=function printableRange(v){var _=[];if(!v||!v.length)return"";for(var b=0;b<v.length;b++)_.push(v.start(b)+" => "+v.end(b));return _.join(", ")},cl=function timeRangesToArray(v){for(var _=[],b=0;b<v.length;b++)_.push({"start":v.start(b),"end":v.end(b)});return _},ul=videojs$1.createTimeRange,dl=function intervalDuration(v,_,b){if(void 0===_&&(_=v.mediaSequence+v.segments.length),_<v.mediaSequence)return 0;var T=function backwardDuration(v,_){var b=0,T=_-v.mediaSequence,S=v.segments[T];if(S){if(void 0!==S.start)return{"result":S.start,"precise":!0};if(void 0!==S.end)return{"result":S.end-S.duration,"precise":!0}}for(;T--;){if(void 0!==(S=v.segments[T]).end)return{"result":b+S.end,"precise":!0};if(b+=S.duration,void 0!==S.start)return{"result":b+S.start,"precise":!0}}return{"result":b,"precise":!1}}(v,_);if(T.precise)return T.result;var S=function forwardDuration(v,_){for(var b,T=0,S=_-v.mediaSequence;S<v.segments.length;S++){if(void 0!==(b=v.segments[S]).start)return{"result":b.start-T,"precise":!0};if(T+=b.duration,void 0!==b.end)return{"result":b.end-T,"precise":!0}}return{"result":-1,"precise":!1}}(v,_);return S.precise?S.result:T.result+b},hl=function duration(v,_,b){if(!v)return 0;if("number"!=typeof b&&(b=0),void 0===_){if(v.totalDuration)return v.totalDuration;if(!v.endList)return S.a.Infinity}return dl(v,_,b)},pl=function sumDurations(v,_,b){var T=0;if(_>b){var S=[b,_];_=S[0],b=S[1]}if(_<0){for(var w=_;w<Math.min(0,b);w++)T+=v.targetDuration;_=0}for(var E=_;E<b;E++)T+=v.segments[E].duration;return T},fl=function safeLiveIndex(v,_){if(!v.segments.length)return 0;var b=v.segments.length,T=v.segments[b-1].duration||v.targetDuration,S="number"==typeof _?_:T+2*v.targetDuration;if(0===S)return b;for(var w=0;b--&&!((w+=v.segments[b].duration)>=S););return Math.max(0,b)},ml=function playlistEnd(v,_,b,T){if(!v||!v.segments)return null;if(v.endList)return hl(v);if(null===_)return null;_=_||0;var S=b?fl(v,T):v.segments.length;return dl(v,v.mediaSequence+S,_)},gl=function isBlacklisted(v){return v.excludeUntil&&v.excludeUntil>Date.now()},vl=function isIncompatible(v){return v.excludeUntil&&v.excludeUntil===1/0},yl=function isEnabled(v){var _=gl(v);return!v.disabled&&!_},_l=function hasAttribute(v,_){return _.attributes&&_.attributes[v]},bl=function isLowestEnabledRendition(v,_){if(1===v.playlists.length)return!0;var b=_.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===v.playlists.filter((function(v){return!!yl(v)&&(v.attributes.BANDWIDTH||0)<b})).length},Tl={"duration":hl,"seekable":function seekable(v,_,b){var T=_||0,S=ml(v,_,!0,b);return null===S?ul():ul(T,S)},"safeLiveIndex":fl,"getMediaInfoForTime":function getMediaInfoForTime(v,_,b,T){var S,w=v.segments.length,E=_-T;if(E<0){if(b>0)for(S=b-1;S>=0;S--)if((E+=v.segments[S].duration+1/30)>0)return{"mediaIndex":S,"startTime":T-pl(v,b,S)};return{"mediaIndex":0,"startTime":_}}if(b<0){for(S=b;S<0;S++)if((E-=v.targetDuration)<0)return{"mediaIndex":0,"startTime":_};b=0}for(S=b;S<w;S++)if((E-=v.segments[S].duration+1/30)<0)return{"mediaIndex":S,"startTime":T+pl(v,b,S)};return{"mediaIndex":w-1,"startTime":_}},"isEnabled":yl,"isDisabled":function isDisabled(v){return v.disabled},"isBlacklisted":gl,"isIncompatible":vl,"playlistEnd":ml,"isAes":function isAes(v){for(var _=0;_<v.segments.length;_++)if(v.segments[_].key)return!0;return!1},"hasAttribute":_l,"estimateSegmentRequestTime":function estimateSegmentRequestTime(v,_,b,T){return void 0===T&&(T=0),_l("BANDWIDTH",b)?(v*b.attributes.BANDWIDTH-8*T)/_:NaN},"isLowestEnabledRendition":bl},Sl=videojs$1.xhr,wl=videojs$1.mergeOptions,El=function callbackWrapper(v,_,b,T){var S="arraybuffer"===v.responseType?v.response:v.responseText;!_&&S&&(v.responseTime=Date.now(),v.roundTripTime=v.responseTime-v.requestTime,v.bytesReceived=S.byteLength||S.length,v.bandwidth||(v.bandwidth=Math.floor(v.bytesReceived/v.roundTripTime*8*1e3))),b.headers&&(v.responseHeaders=b.headers),_&&"ETIMEDOUT"===_.code&&(v.timedout=!0),_||v.aborted||200===b.statusCode||206===b.statusCode||0===b.statusCode||(_=new Error("XHR Failed with a response of: "+(v&&(S||v.responseText)))),T(_,v)},Cl=function xhrFactory(){return function XhrFunction(v,_){v=wl({"timeout":45e3},v);var b=XhrFunction.beforeRequest||videojs$1.Vhs.xhr.beforeRequest;if(b&&"function"==typeof b){var T=b(v);T&&(v=T)}var S=Sl(v,(function(v,b){return El(S,v,b,_)})),w=S.abort;return S.abort=function(){return S.aborted=!0,w.apply(S,arguments)},S.uri=v.uri,S.requestTime=Date.now(),S}},kl=function segmentXhrHeaders(v){var _={};return v.byterange&&(_.Range=function byterangeStr(v){var _=v.offset+v.length-1;return"bytes="+v.offset+"-"+_}(v.byterange)),_},xl=function textRange(v,_){return v.start(_)+"-"+v.end(_)},Al=function formatHexString(v,_){var b=v.toString(16);return"00".substring(0,2-b.length)+b+(_%2?" ":"")},Pl=function formatAsciiString(v){return v>=32&&v<126?String.fromCharCode(v):"."},Il=function createTransferableMessage(v){var _={};return Object.keys(v).forEach((function(b){var T=v[b];ArrayBuffer.isView(T)?_[b]={"bytes":T.buffer,"byteOffset":T.byteOffset,"byteLength":T.byteLength}:_[b]=T})),_},Ol=function initSegmentId(v){var _=v.byterange||{"length":1/0,"offset":0};return[_.length,_.offset,v.resolvedUri].join(",")},Ll=function segmentKeyId(v){return v.resolvedUri},Ml=function hexDump(v){for(var _=Array.prototype.slice.call(v),b="",T=0;T<_.length/16;T++)b+=_.slice(16*T,16*T+16).map(Al).join("")+" "+_.slice(16*T,16*T+16).map(Pl).join("")+"\n";return b},Dl=Object.freeze({"__proto__":null,"createTransferableMessage":Il,"initSegmentId":Ol,"segmentKeyId":Ll,"hexDump":Ml,"tagDump":function tagDump(v){var _=v.bytes;return Ml(_)},"textRanges":function textRanges(v){var _,b="";for(_=0;_<v.length;_++)b+=xl(v,_)+" ";return b}}),Nl=function getProgramTime(v){var _=v.playlist,b=v.time,T=void 0===b?void 0:b,S=v.callback;if(!S)throw new Error("getProgramTime: callback must be provided");if(!_||void 0===T)return S({"message":"getProgramTime: playlist and time must be provided"});var w=function findSegmentForPlayerTime(v,_){if(!_||!_.segments||0===_.segments.length)return null;for(var b,T=0,S=0;S<_.segments.length&&!(v<=(T=(b=_.segments[S]).videoTimingInfo?b.videoTimingInfo.transmuxedPresentationEnd:T+b.duration));S++);var w=_.segments[_.segments.length-1];if(w.videoTimingInfo&&w.videoTimingInfo.transmuxedPresentationEnd<v)return null;if(v>T){if(v>T+.25*w.duration)return null;b=w}return{"segment":b,"estimatedStart":b.videoTimingInfo?b.videoTimingInfo.transmuxedPresentationStart:T-b.duration,"type":b.videoTimingInfo?"accurate":"estimate"}}(T,_);if(!w)return S({"message":"valid programTime was not found"});if("estimate"===w.type)return S({"message":"Accurate programTime could not be determined. Please seek to e.seekTime and try again","seekTime":w.estimatedStart});var E={"mediaSeconds":T},C=function playerTimeToProgramTime(v,_){if(!_.dateTimeObject)return null;var b=_.videoTimingInfo.transmuxerPrependedSeconds,T=v-(_.videoTimingInfo.transmuxedPresentationStart+b);return new Date(_.dateTimeObject.getTime()+1e3*T)}(T,w.segment);return C&&(E.programDateTime=C.toISOString()),S(null,E)},Rl=function seekToProgramTime(v){var _=v.programTime,b=v.playlist,T=v.retryCount,S=void 0===T?2:T,w=v.seekTo,E=v.pauseAfterSeek,C=void 0===E||E,k=v.tech,x=v.callback;if(!x)throw new Error("seekToProgramTime: callback must be provided");if(void 0===_||!b||!w)return x({"message":"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!b.endList&&!k.hasStarted_)return x({"message":"player must be playing a live stream to start buffering"});if(!function verifyProgramDateTimeTags(v){if(!v.segments||0===v.segments.length)return!1;for(var _=0;_<v.segments.length;_++){if(!v.segments[_].dateTimeObject)return!1}return!0}(b))return x({"message":"programDateTime tags must be provided in the manifest "+b.resolvedUri});var P=function findSegmentForProgramTime(v,_){var b;try{b=new Date(v)}catch(v){return null}if(!_||!_.segments||0===_.segments.length)return null;var T=_.segments[0];if(b<T.dateTimeObject)return null;for(var S=0;S<_.segments.length-1;S++){if(T=_.segments[S],b<_.segments[S+1].dateTimeObject)break}var w=_.segments[_.segments.length-1],E=w.dateTimeObject,C=w.videoTimingInfo?function originalSegmentVideoDuration(v){return v.transmuxedPresentationEnd-v.transmuxedPresentationStart-v.transmuxerPrependedSeconds}(w.videoTimingInfo):w.duration+.25*w.duration;return b>new Date(E.getTime()+1e3*C)?null:(b>E&&(T=w),{"segment":T,"estimatedStart":T.videoTimingInfo?T.videoTimingInfo.transmuxedPresentationStart:Tl.duration(_,_.mediaSequence+_.segments.indexOf(T)),"type":T.videoTimingInfo?"accurate":"estimate"})}(_,b);if(!P)return x({"message":_+" was not found in the stream"});var I=P.segment,O=function getOffsetFromTimestamp(v,_){var b,T;try{b=new Date(v),T=new Date(_)}catch(v){}var S=b.getTime();return(T.getTime()-S)/1e3}(I.dateTimeObject,_);if("estimate"===P.type)return 0===S?x({"message":_+" is not buffered yet. Try again"}):(w(P.estimatedStart+O),void k.one("seeked",(function(){seekToProgramTime({"programTime":_,"playlist":b,"retryCount":S-1,"seekTo":w,"pauseAfterSeek":C,"tech":k,"callback":x})})));var L=I.start+O;k.one("seeked",(function seekedCallback(){return x(null,k.currentTime())})),C&&k.pause(),w(L)},Bl=function callbackOnCompleted(v,_){if(4===v.readyState)return _()},jl=videojs$1.EventTarget,Ul=videojs$1.mergeOptions,Fl=function generateSidxKey(v){var _=v.byterange.offset+v.byterange.length-1;return v.uri+"-"+v.byterange.offset+"-"+_},Vl=function equivalentSidx(v,_){return(Boolean(!v.map&&!_.map)||Boolean(v.map&&_.map&&v.map.byterange.offset===_.map.byterange.offset&&v.map.byterange.length===_.map.byterange.length))&&v.uri===_.uri&&v.byterange.offset===_.byterange.offset&&v.byterange.length===_.byterange.length},Hl=function compareSidxEntry(v,_){var b={};for(var T in v){var S=v[T].sidx;if(S){var w=Fl(S);if(!_[w])break;var E=_[w].sidxInfo;Vl(E,S)&&(b[w]=_[w])}}return b},Wl=function(v){function DashPlaylistLoader(_,b,T,S){var w;void 0===T&&(T={}),(w=v.call(this)||this).masterPlaylistLoader_=S||P()(w),S||(w.isMaster_=!0);var E=T,C=E.withCredentials,k=void 0!==C&&C,x=E.handleManifestRedirects,I=void 0!==x&&x;if(w.vhs_=b,w.withCredentials=k,w.handleManifestRedirects=I,!_)throw new Error("A non-empty playlist URL or object is required");return w.on("minimumUpdatePeriod",(function(){w.refreshXml_()})),w.on("mediaupdatetimeout",(function(){w.refreshMedia_(w.media().id)})),w.state="HAVE_NOTHING",w.loadedPlaylists_={},w.isMaster_?(w.masterPlaylistLoader_.srcUrl=_,w.masterPlaylistLoader_.sidxMapping_={}):w.childPlaylist_=_,w}O()(DashPlaylistLoader,v);var _=DashPlaylistLoader.prototype;return _.requestErrored_=function requestErrored_(v,_,b){return!this.request||(this.request=null,v?(this.error="object"!=typeof v||v instanceof Error?{"status":_.status,"message":"DASH request error at URL: "+_.uri,"response":_.response,"code":2}:v,b&&(this.state=b),this.trigger("error"),!0):void 0)},_.addSidxSegments_=function addSidxSegments_(v,_,b){var T=this,w=v.sidx&&Fl(v.sidx);if(v.sidx&&w&&!this.masterPlaylistLoader_.sidxMapping_[w]){var E=zs(this.handleManifestRedirects,v.sidx.resolvedUri),C=this.masterPlaylistLoader_.sidxMapping_;C[w]={"sidxInfo":v.sidx};var k=function fin(S,E){if(!T.requestErrored_(S,E,_)){var k=ui()(Object(hi.toUint8)(E.response).subarray(8));return C[w].sidx=k,li(v,k,v.sidx.resolvedUri),b(!0)}};this.request=function containerRequest(v,_,b){var T,S=[],w=!1,E=function endRequestAndCallback(v,_,T,S){return _.abort(),w=!0,b(v,_,T,S)},C=function progressListener(v,_){if(!w){if(v)return E(v,_,"",S);var b=_.responseText.substring(S&&S.byteLength||0,_.responseText.length);if(S=Object(hi.concatTypedArrays)(S,Object(hi.stringToBytes)(b,!0)),T=T||Object(di.getId3Offset)(S),S.length<10||T&&S.length<T+2)return Bl(_,(function(){return E(v,_,"",S)}));var C=Object(di.detectContainerForBytes)(S);return"ts"===C&&S.length<188||!C&&S.length<376?Bl(_,(function(){return E(v,_,"",S)})):E(null,_,C,S)}},k=_({"uri":v,"beforeSend":function beforeSend(v){v.overrideMimeType("text/plain; charset=x-user-defined"),v.addEventListener("progress",(function(_){_.total,_.loaded;return El(v,null,{"statusCode":v.status},C)}))}},(function(v,_){return El(k,v,_,C)}));return k}(E,this.vhs_.xhr,(function(_,b,S,w){if(_)return k(_,b);if(!S||"mp4"!==S)return k({"status":b.status,"message":"Unsupported "+(S||"unknown")+" container type for sidx segment at URL: "+E,"response":"","playlist":v,"internal":!0,"blacklistDuration":1/0,"code":2},b);var C=v.sidx.byterange,x=C.offset,P=C.length;if(w.length>=P+x)return k(_,{"response":w.subarray(x,x+P),"status":b.status,"uri":b.uri});T.request=T.vhs_.xhr({"uri":E,"responseType":"arraybuffer","headers":kl({"byterange":v.sidx.byterange})},k)}))}else this.mediaRequest_=S.a.setTimeout((function(){return b(!1)}),0)},_.dispose=function dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},S.a.clearTimeout(this.minimumUpdatePeriodTimeout_),S.a.clearTimeout(this.mediaRequest_),S.a.clearTimeout(this.mediaUpdateTimeout),this.off()},_.hasPendingRequest=function hasPendingRequest(){return this.request||this.mediaRequest_},_.stopRequest=function stopRequest(){if(this.request){var v=this.request;this.request=null,v.onreadystatechange=null,v.abort()}},_.media=function media(v){var _=this;if(!v)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var b=this.state;if("string"==typeof v){if(!this.masterPlaylistLoader_.master.playlists[v])throw new Error("Unknown playlist URI: "+v);v=this.masterPlaylistLoader_.master.playlists[v]}var T=!this.media_||v.id!==this.media_.id;if(T&&this.loadedPlaylists_[v.id]&&this.loadedPlaylists_[v.id].endList)return this.state="HAVE_METADATA",this.media_=v,void(T&&(this.trigger("mediachanging"),this.trigger("mediachange")));T&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(v,b,(function(T){_.haveMetadata({"startingState":b,"playlist":v})})))},_.haveMetadata=function haveMetadata(v){var _=v.startingState,b=v.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[b.id]=b,this.mediaRequest_=null,this.refreshMedia_(b.id),"HAVE_MASTER"===_?this.trigger("loadedmetadata"):this.trigger("mediachange")},_.pause=function pause(){this.stopRequest(),S.a.clearTimeout(this.mediaUpdateTimeout),S.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)},_.load=function load(v){var _=this;S.a.clearTimeout(this.mediaUpdateTimeout),S.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var b=this.media();if(v){var T=b?b.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=S.a.setTimeout((function(){return _.load()}),T)}else this.started?b&&!b.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},_.start=function start(){var v=this;this.started=!0,this.isMaster_?this.requestMaster_((function(_,b){v.haveMaster_(),v.hasPendingRequest()||v.media_||v.media(v.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=S.a.setTimeout((function(){return v.haveMaster_()}),0)},_.requestMaster_=function requestMaster_(v){var _=this;this.request=this.vhs_.xhr({"uri":this.masterPlaylistLoader_.srcUrl,"withCredentials":this.withCredentials},(function(b,T){if(!_.requestErrored_(b,T)){var S=T.responseText!==_.masterPlaylistLoader_.masterXml_;return _.masterPlaylistLoader_.masterXml_=T.responseText,T.responseHeaders&&T.responseHeaders.date?_.masterLoaded_=Date.parse(T.responseHeaders.date):_.masterLoaded_=Date.now(),_.masterPlaylistLoader_.srcUrl=zs(_.handleManifestRedirects,_.masterPlaylistLoader_.srcUrl,T),S?(_.handleMaster_(),void _.syncClientServerClock_((function(){return v(T,S)}))):v(T,S)}"HAVE_NOTHING"===_.state&&(_.started=!1)}))},_.syncClientServerClock_=function syncClientServerClock_(v){var _=this,b=si(this.masterPlaylistLoader_.masterXml_);return null===b?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),v()):"DIRECT"===b.method?(this.masterPlaylistLoader_.clientOffset_=b.value-Date.now(),v()):void(this.request=this.vhs_.xhr({"uri":qs(this.masterPlaylistLoader_.srcUrl,b.value),"method":b.method,"withCredentials":this.withCredentials},(function(T,S){if(_.request){if(T)return _.masterPlaylistLoader_.clientOffset_=_.masterLoaded_-Date.now(),v();var w;w="HEAD"===b.method?S.responseHeaders&&S.responseHeaders.date?Date.parse(S.responseHeaders.date):_.masterLoaded_:Date.parse(S.responseText),_.masterPlaylistLoader_.clientOffset_=w-Date.now(),v()}})))},_.haveMaster_=function haveMaster_(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},_.handleMaster_=function handleMaster_(){this.mediaRequest_=null;var v=function parseMasterXml(v){var _=v.masterXml,b=v.srcUrl,T=v.clientOffset,S=v.sidxMapping,w=oi(_,{"manifestUri":b,"clientOffset":T,"sidxMapping":S});return $s(w,b),w}({"masterXml":this.masterPlaylistLoader_.masterXml_,"srcUrl":this.masterPlaylistLoader_.srcUrl,"clientOffset":this.masterPlaylistLoader_.clientOffset_,"sidxMapping":this.masterPlaylistLoader_.sidxMapping_}),_=this.masterPlaylistLoader_.master;_&&(v=function updateMaster$1(v,_,b){for(var T=!0,S=Ul(v,{"duration":_.duration,"minimumUpdatePeriod":_.minimumUpdatePeriod}),w=0;w<_.playlists.length;w++){var E=_.playlists[w];if(E.sidx){var C=Fl(E.sidx);b&&b[C]&&li(E,b[C].sidx,E.sidx.resolvedUri)}var k=nl(S,E);k&&(S=k,T=!1)}return Ks(_,(function(v,_,b,w){if(v.playlists&&v.playlists.length){var E=v.playlists[0].id,C=nl(S,v.playlists[0]);C&&((S=C).mediaGroups[_][b][w].playlists[0]=S.playlists[E],T=!1)}})),_.minimumUpdatePeriod!==v.minimumUpdatePeriod&&(T=!1),T?null:S}(_,v,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=v||_;var b=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return b&&b!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=b),(!_||v&&_.minimumUpdatePeriod!==v.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(v)},_.updateMinimumUpdatePeriodTimeout_=function updateMinimumUpdatePeriodTimeout_(){var v=this;S.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var _=function createMUPTimeout(_){v.minimumUpdatePeriodTimeout_=S.a.setTimeout((function(){v.trigger("minimumUpdatePeriod"),createMUPTimeout(_)}),_)},b=this.masterPlaylistLoader_.master&&this.masterPlaylistLoader_.master.minimumUpdatePeriod;b>0?_(b):0===b&&(this.media()?_(1e3*this.media().targetDuration):this.one("loadedplaylist",(function(){_(1e3*v.media().targetDuration)})))},_.refreshXml_=function refreshXml_(){var v=this;this.requestMaster_((function(_,b){b&&(v.media_&&(v.media_=v.masterPlaylistLoader_.master.playlists[v.media_.id]),v.masterPlaylistLoader_.sidxMapping_=function filterChangedSidxMappings(v,_){var b=Hl(v.playlists,_);return Ks(v,(function(v,T,S,w){if(v.playlists&&v.playlists.length){var E=v.playlists;b=Ul(b,Hl(E,_))}})),b}(v.masterPlaylistLoader_.master,v.masterPlaylistLoader_.sidxMapping_),v.addSidxSegments_(v.media(),v.state,(function(_){v.refreshMedia_(v.media().id)})))}))},_.refreshMedia_=function refreshMedia_(v){var _=this;if(!v)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var b=this.masterPlaylistLoader_.master.playlists,T=!this.media_||this.media_!==b[v];T?this.media_=b[v]:this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=S.a.setTimeout((function(){_.trigger("mediaupdatetimeout")}),il(this.media(),Boolean(T)))),this.trigger("loadedplaylist")},DashPlaylistLoader}(jl),ql={"GOAL_BUFFER_LENGTH":30,"MAX_GOAL_BUFFER_LENGTH":60,"BACK_BUFFER_LENGTH":30,"GOAL_BUFFER_LENGTH_RATE":1,"INITIAL_BANDWIDTH":4194304,"BANDWIDTH_VARIANCE":1.2,"BUFFER_LOW_WATER_LINE":0,"MAX_BUFFER_LOW_WATER_LINE":30,"EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE":16,"BUFFER_LOW_WATER_LINE_RATE":1,"BUFFER_HIGH_WATER_LINE":30},zl=function stringToArrayBuffer(v){for(var _=new Uint8Array(new ArrayBuffer(v.length)),b=0;b<v.length;b++)_[b]=v.charCodeAt(b);return _.buffer},Gl=[],Yl=function processTransmux(v){var _=v.transmuxer,b=v.bytes,T=v.audioAppendStart,S=v.gopsToAlignWith,w=v.isPartial,E=v.remux,C=v.onData,k=v.onTrackInfo,x=v.onAudioTimingInfo,P=v.onVideoTimingInfo,I=v.onVideoSegmentTimingInfo,O=v.onAudioSegmentTimingInfo,L=v.onId3,D=v.onCaptions,N=v.onDone,R={"isPartial":w,"buffer":[]};if(_.onmessage=function handleMessage(v){Ws&&("data"===v.data.action&&function handleData_(v,_,b){var T=v.data.segment,S=T.type,w=T.initSegment,E=T.captions,C=T.captionStreams,k=T.metadata,x=T.videoFrameDtsTime,P=T.videoFramePtsTime;_.buffer.push({"captions":E,"captionStreams":C,"metadata":k});var I=v.data.segment.boxes||{"data":v.data.segment.data},O={"type":S,"data":new Uint8Array(I.data,I.data.byteOffset,I.data.byteLength),"initSegment":new Uint8Array(w.data,w.byteOffset,w.byteLength)};void 0!==x&&(O.videoFrameDtsTime=x),void 0!==P&&(O.videoFramePtsTime=P),b(O)}(v,R,C),"trackinfo"===v.data.action&&k(v.data.trackInfo),"gopInfo"===v.data.action&&function handleGopInfo_(v,_){_.gopInfo=v.data.gopInfo}(v,R),"audioTimingInfo"===v.data.action&&x(v.data.audioTimingInfo),"videoTimingInfo"===v.data.action&&P(v.data.videoTimingInfo),"videoSegmentTimingInfo"===v.data.action&&I(v.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===v.data.action&&O(v.data.audioSegmentTimingInfo),"id3Frame"===v.data.action&&L([v.data.id3Frame],v.data.id3Frame.dispatchType),"caption"===v.data.action&&D(v.data.caption),"transmuxed"===v.data.type&&(_.onmessage=null,function handleDone_(v){var _=v.transmuxedData,b=v.callback;_.buffer=[],b(_)}({"transmuxedData":R,"callback":N}),Xl()))},T&&_.postMessage({"action":"setAudioAppendStart","appendStart":T}),Array.isArray(S)&&_.postMessage({"action":"alignGopsWith","gopsToAlignWith":S}),void 0!==E&&_.postMessage({"action":"setRemux","remux":E}),b.byteLength){var B=b instanceof ArrayBuffer?b:b.buffer,j=b instanceof ArrayBuffer?0:b.byteOffset;_.postMessage({"action":"push","data":B,"byteOffset":j,"byteLength":b.byteLength},[B])}_.postMessage({"action":w?"partialFlush":"flush"})},Xl=function dequeue(){Ws=null,Gl.length&&("function"==typeof(Ws=Gl.shift())?Ws():Yl(Ws))},Kl=function processAction(v,_){v.postMessage({"action":_}),Xl()},Ql=function enqueueAction(v,_){if(!Ws)return Ws=v,void Kl(_,v);Gl.push(Kl.bind(null,_,v))},$l=function transmux(v){if(!Ws)return Ws=v,void Yl(v);Gl.push(v)},Jl=function reset(v){Ql("reset",v)},Zl=function dispose(){Ws=null,Gl.length=0},ec=function endTimeline(v){Ql("endTimeline",v)},tc=2,nc=-101,ic=-102,rc=function abortAll(v){v.forEach((function(v){v.abort()}))},ac=function handleErrors(v,_){return _.timedout?{"status":_.status,"message":"HLS request timed-out at URL: "+_.uri,"code":nc,"xhr":_}:_.aborted?{"status":_.status,"message":"HLS request aborted at URL: "+_.uri,"code":ic,"xhr":_}:v?{"status":_.status,"message":"HLS request errored at URL: "+_.uri,"code":tc,"xhr":_}:null},oc=function transmuxAndNotify(v){var _=v.segment,b=v.bytes,T=v.isPartial,S=v.trackInfoFn,w=v.timingInfoFn,E=v.videoSegmentTimingInfoFn,C=v.audioSegmentTimingInfoFn,k=v.id3Fn,x=v.captionsFn,P=v.dataFn,I=v.doneFn,O=_.map&&_.map.tracks||{},L=Boolean(O.audio&&O.video),D=w.bind(null,_,"audio","start"),N=w.bind(null,_,"audio","end"),R=w.bind(null,_,"video","start"),B=w.bind(null,_,"video","end");if(!T&&!_.lastReachedChar){var j=function probeTsSegment(v,_){var b=fi.a.inspect(v,_*mi.ONE_SECOND_IN_TS);if(!b)return null;var T={"hasVideo":b.video&&2===b.video.length||!1,"hasAudio":b.audio&&2===b.audio.length||!1};return T.hasVideo&&(T.videoStart=b.video[0].ptsTime),T.hasAudio&&(T.audioStart=b.audio[0].ptsTime),T}(b,_.baseStartTime);j&&(S(_,{"hasAudio":j.hasAudio,"hasVideo":j.hasVideo,"isMuxed":L}),S=null,j.hasAudio&&!L&&D(j.audioStart),j.hasVideo&&R(j.videoStart),D=null,R=null)}$l({"bytes":b,"transmuxer":_.transmuxer,"audioAppendStart":_.audioAppendStart,"gopsToAlignWith":_.gopsToAlignWith,"isPartial":T,"remux":L,"onData":function onData(v){v.type="combined"===v.type?"video":v.type,P(_,v)},"onTrackInfo":function onTrackInfo(v){S&&(L&&(v.isMuxed=!0),S(_,v))},"onAudioTimingInfo":function onAudioTimingInfo(v){D&&void 0!==v.start&&(D(v.start),D=null),N&&void 0!==v.end&&N(v.end)},"onVideoTimingInfo":function onVideoTimingInfo(v){R&&void 0!==v.start&&(R(v.start),R=null),B&&void 0!==v.end&&B(v.end)},"onVideoSegmentTimingInfo":function onVideoSegmentTimingInfo(v){E(v)},"onAudioSegmentTimingInfo":function onAudioSegmentTimingInfo(v){C(v)},"onId3":function onId3(v,b){k(_,v,b)},"onCaptions":function onCaptions(v){x(_,[v])},"onDone":function onDone(v){I&&!T&&(v.type="combined"===v.type?"video":v.type,I(null,_,v))}})},sc=function handleSegmentBytes(v){var _=v.segment,b=v.bytes,T=v.isPartial,S=v.trackInfoFn,w=v.timingInfoFn,E=v.videoSegmentTimingInfoFn,C=v.audioSegmentTimingInfoFn,k=v.id3Fn,x=v.captionsFn,P=v.dataFn,I=v.doneFn,O=new Uint8Array(b);if(Object(di.isLikelyFmp4MediaSegment)(O)){_.isFmp4=!0;var L=_.map.tracks,D={"isFmp4":!0,"hasVideo":!!L.video,"hasAudio":!!L.audio};L.audio&&L.audio.codec&&"enca"!==L.audio.codec&&(D.audioCodec=L.audio.codec),L.video&&L.video.codec&&"encv"!==L.video.codec&&(D.videoCodec=L.video.codec),L.video&&L.audio&&(D.isMuxed=!0),S(_,D);var N=vi.a.startTime(_.map.timescales,O);D.hasAudio&&!D.isMuxed&&w(_,"audio","start",N),D.hasVideo&&w(_,"video","start",N);var R=function finishLoading(v){P(_,{"data":b,"type":D.hasAudio&&!D.isMuxed?"audio":"video"}),v&&v.length&&x(_,v),I(null,_,{})};if(!L.video||!b.byteLength||!_.transmuxer)return void R();var B=b instanceof ArrayBuffer?b:b.buffer,j=b instanceof ArrayBuffer?0:b.byteOffset;return _.transmuxer.addEventListener("message",(function listenForCaptions(v){if("mp4Captions"===v.data.action){_.transmuxer.removeEventListener("message",listenForCaptions);var T=v.data.data;_.bytes=b=new Uint8Array(T,T.byteOffset||0,T.byteLength),R(v.data.captions)}})),void _.transmuxer.postMessage({"action":"pushMp4Captions","timescales":_.map.timescales,"trackIds":[L.video.id],"data":B,"byteOffset":j,"byteLength":b.byteLength},[B])}if(_.transmuxer){if(void 0===_.container&&(_.container=Object(di.detectContainerForBytes)(O)),"ts"!==_.container&&"aac"!==_.container)return S(_,{"hasAudio":!1,"hasVideo":!1}),void I(null,_,{});oc({"segment":_,"bytes":b,"isPartial":T,"trackInfoFn":S,"timingInfoFn":w,"videoSegmentTimingInfoFn":E,"audioSegmentTimingInfoFn":C,"id3Fn":k,"captionsFn":x,"dataFn":P,"doneFn":I})}else I(null,_,{})},lc=function waitForCompletion(v){var _=v.activeXhrs,b=v.decryptionWorker,T=v.trackInfoFn,S=v.timingInfoFn,w=v.videoSegmentTimingInfoFn,E=v.audioSegmentTimingInfoFn,C=v.id3Fn,k=v.captionsFn,x=v.dataFn,P=v.doneFn,I=0,O=!1;return function(v,L){if(!O){if(v)return O=!0,rc(_),P(v,L);if((I+=1)===_.length){if(L.endOfAllRequests=Date.now(),L.encryptedBytes)return function decryptSegment(v){var _,b=v.decryptionWorker,T=v.segment,S=v.trackInfoFn,w=v.timingInfoFn,E=v.videoSegmentTimingInfoFn,C=v.audioSegmentTimingInfoFn,k=v.id3Fn,x=v.captionsFn,P=v.dataFn,I=v.doneFn;b.addEventListener("message",(function decryptionHandler(v){if(v.data.source===T.requestId){b.removeEventListener("message",decryptionHandler);var _=v.data.decrypted;T.bytes=new Uint8Array(_.bytes,_.byteOffset,_.byteLength),sc({"segment":T,"bytes":T.bytes,"isPartial":!1,"trackInfoFn":S,"timingInfoFn":w,"videoSegmentTimingInfoFn":E,"audioSegmentTimingInfoFn":C,"id3Fn":k,"captionsFn":x,"dataFn":P,"doneFn":I})}})),_=T.key.bytes.slice?T.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(T.key.bytes)),b.postMessage(Il({"source":T.requestId,"encrypted":T.encryptedBytes,"key":_,"iv":T.key.iv}),[T.encryptedBytes.buffer,_.buffer])}({"decryptionWorker":b,"segment":L,"trackInfoFn":T,"timingInfoFn":S,"videoSegmentTimingInfoFn":w,"audioSegmentTimingInfoFn":E,"id3Fn":C,"captionsFn":k,"dataFn":x,"doneFn":P});sc({"segment":L,"bytes":L.bytes,"isPartial":!1,"trackInfoFn":T,"timingInfoFn":S,"videoSegmentTimingInfoFn":w,"audioSegmentTimingInfoFn":E,"id3Fn":C,"captionsFn":k,"dataFn":x,"doneFn":P})}}}},cc=function handleProgress(v){var _=v.segment,b=v.progressFn,T=v.trackInfoFn,S=v.timingInfoFn,w=v.videoSegmentTimingInfoFn,E=v.audioSegmentTimingInfoFn,C=v.id3Fn,k=v.captionsFn,x=v.dataFn,P=v.handlePartialData;return function(v){var I=v.target;if(!I.aborted){if(P&&!_.key&&I.responseText&&I.responseText.length>=8){var O=zl(I.responseText.substring(_.lastReachedChar||0));!_.lastReachedChar&&Object(di.isLikelyFmp4MediaSegment)(new Uint8Array(O))||(_.lastReachedChar=I.responseText.length,sc({"segment":_,"bytes":O,"isPartial":!0,"trackInfoFn":T,"timingInfoFn":S,"videoSegmentTimingInfoFn":w,"audioSegmentTimingInfoFn":E,"id3Fn":C,"captionsFn":k,"dataFn":x}))}return _.stats=videojs$1.mergeOptions(_.stats,function getProgressStats(v){var _=v.target,b={"bandwidth":1/0,"bytesReceived":0,"roundTripTime":Date.now()-_.requestTime||0};return b.bytesReceived=v.loaded,b.bandwidth=Math.floor(b.bytesReceived/b.roundTripTime*8*1e3),b}(v)),!_.stats.firstBytesReceivedAt&&_.stats.bytesReceived&&(_.stats.firstBytesReceivedAt=Date.now()),b(v,_)}}},uc=function mediaSegmentRequest(v){var _=v.xhr,b=v.xhrOptions,T=v.decryptionWorker,S=v.segment,w=v.abortFn,E=v.progressFn,C=v.trackInfoFn,k=v.timingInfoFn,x=v.videoSegmentTimingInfoFn,P=v.audioSegmentTimingInfoFn,I=v.id3Fn,O=v.captionsFn,L=v.dataFn,D=v.doneFn,N=v.handlePartialData,R=[],B=lc({"activeXhrs":R,"decryptionWorker":T,"trackInfoFn":C,"timingInfoFn":k,"videoSegmentTimingInfoFn":x,"audioSegmentTimingInfoFn":P,"id3Fn":I,"captionsFn":O,"dataFn":L,"doneFn":D});if(S.key&&!S.key.bytes){var j=_(videojs$1.mergeOptions(b,{"uri":S.key.resolvedUri,"responseType":"arraybuffer"}),function handleKeyResponse(v,_){return function(b,T){var S=T.response,w=ac(b,T);if(w)return _(w,v);if(16!==S.byteLength)return _({"status":T.status,"message":"Invalid HLS key at URL: "+T.uri,"code":tc,"xhr":T},v);var E=new DataView(S);return v.key.bytes=new Uint32Array([E.getUint32(0),E.getUint32(4),E.getUint32(8),E.getUint32(12)]),_(null,v)}}(S,B));R.push(j)}if(S.map&&!S.map.bytes){var U=_(videojs$1.mergeOptions(b,{"uri":S.map.resolvedUri,"responseType":"arraybuffer","headers":kl(S.map)}),function handleInitSegmentResponse(v){var _=v.segment,b=v.finishProcessingFn;return function(v,T){var S=T.response,w=ac(v,T);if(w)return b(w,_);if(0===S.byteLength)return b({"status":T.status,"message":"Empty HLS segment content at URL: "+T.uri,"code":tc,"xhr":T},_);_.map.bytes=new Uint8Array(T.response);var E=Object(di.detectContainerForBytes)(_.map.bytes);return"mp4"!==E?b({"status":T.status,"message":"Found unsupported "+(E||"unknown")+" container for initialization segment at URL: "+T.uri,"code":tc,"internal":!0,"xhr":T},_):(vi.a.tracks(_.map.bytes).forEach((function(v){_.map.tracks=_.map.tracks||{},_.map.tracks[v.type]||(_.map.tracks[v.type]=v,"number"==typeof v.id&&v.timescale&&(_.map.timescales=_.map.timescales||{},_.map.timescales[v.id]=v.timescale))})),b(null,_))}}({"segment":S,"finishProcessingFn":B}));R.push(U)}var V=videojs$1.mergeOptions(b,{"uri":S.resolvedUri,"responseType":"arraybuffer","headers":kl(S)});N&&(V.responseType="text",V.beforeSend=function(v){v.overrideMimeType("text/plain; charset=x-user-defined")});var H=_(V,function handleSegmentResponse(v){var _=v.segment,b=v.finishProcessingFn,T=v.responseType;return function(v,S){var w=S.response,E=ac(v,S);if(E)return b(E,_);var C="arraybuffer"!==T&&S.responseText?zl(S.responseText.substring(_.lastReachedChar||0)):S.response;return 0===w.byteLength?b({"status":S.status,"message":"Empty HLS segment content at URL: "+S.uri,"code":tc,"xhr":S},_):(_.stats=function getRequestStats(v){return{"bandwidth":v.bandwidth,"bytesReceived":v.bytesReceived||0,"roundTripTime":v.roundTripTime||0}}(S),_.key?_.encryptedBytes=new Uint8Array(C):_.bytes=new Uint8Array(C),b(null,_))}}({"segment":S,"finishProcessingFn":B,"responseType":V.responseType}));H.addEventListener("progress",cc({"segment":S,"progressFn":E,"trackInfoFn":C,"timingInfoFn":k,"videoSegmentTimingInfoFn":x,"audioSegmentTimingInfoFn":P,"id3Fn":I,"captionsFn":O,"dataFn":L,"handlePartialData":N})),R.push(H);var W={};return R.forEach((function(v){v.addEventListener("loadend",function handleLoadEnd(v){var _=v.loadendState,b=v.abortFn;return function(v){v.target.aborted&&b&&!_.calledAbortFn&&(b(),_.calledAbortFn=!0)}}({"loadendState":W,"abortFn":w}))})),function(){return rc(R)}},dc="undefined"!=typeof window?window:{},hc="undefined"==typeof Symbol?"__target":Symbol(),pc=dc.BlobBuilder||dc.WebKitBlobBuilder||dc.MozBlobBuilder||dc.MSBlobBuilder,fc=dc.URL||dc.webkitURL||fc&&fc.msURL,mc=dc.Worker;function shimWorker(v,_){return function ShimWorker(b){var T=this;if(!_)return new mc(v);if(mc&&!b){var S=createSourceObject(_.toString().replace(/^function.+?{/,"").slice(0,-1));return this[hc]=new mc(S),function wrapTerminate(v,_){if(!v||!_)return;var b=v.terminate;v.objURL=_,v.terminate=function(){v.objURL&&fc.revokeObjectURL(v.objURL),b.call(v)}}(this[hc],S),this[hc]}var w={"postMessage":function postMessage(v){T.onmessage&&setTimeout((function(){T.onmessage({"data":v,"target":w})}))}};_.call(w),this.postMessage=function(v){setTimeout((function(){w.onmessage({"data":v,"target":T})}))},this.isThisThread=!0}}if(mc){var gc,vc=createSourceObject("self.onmessage = function () {}"),yc=new Uint8Array(1);try{(gc=new mc(vc)).postMessage(yc,[yc.buffer])}catch(v){mc=null}finally{fc.revokeObjectURL(vc),gc&&gc.terminate()}}function createSourceObject(v){try{return fc.createObjectURL(new Blob([v],{"type":"application/javascript"}))}catch(b){var _=new pc;return _.append(v),fc.createObjectURL(_.getBlob(type))}}var _c=new shimWorker("./transmuxer-worker.worker.js",(function(v,_){var b=this;!function(){var v=function Stream(){this.init=function(){var v={};this.on=function(_,b){v[_]||(v[_]=[]),v[_]=v[_].concat(b)},this.off=function(_,b){var T;return!!v[_]&&(T=v[_].indexOf(b),v[_]=v[_].slice(),v[_].splice(T,1),T>-1)},this.trigger=function(_){var b,T,S,w;if(b=v[_])if(2===arguments.length)for(S=b.length,T=0;T<S;++T)b[T].call(this,arguments[1]);else{for(w=[],T=arguments.length,T=1;T<arguments.length;++T)w.push(arguments[T]);for(S=b.length,T=0;T<S;++T)b[T].apply(this,w)}},this.dispose=function(){v={}}}};v.prototype.pipe=function(v){return this.on("data",(function(_){v.push(_)})),this.on("done",(function(_){v.flush(_)})),this.on("partialdone",(function(_){v.partialFlush(_)})),this.on("endedtimeline",(function(_){v.endTimeline(_)})),this.on("reset",(function(_){v.reset(_)})),v},v.prototype.push=function(v){this.trigger("data",v)},v.prototype.flush=function(v){this.trigger("done",v)},v.prototype.partialFlush=function(v){this.trigger("partialdone",v)},v.prototype.endTimeline=function(v){this.trigger("endedtimeline",v)},v.prototype.reset=function(v){this.trigger("reset",v)};var _,T,S,w,E,C,k,x,P,I,O,L,D,N,R,B,j,U,V,H,W,q,G,Y,X,K,Q,J,Z,ee,te,ne,oe,an,sn,cn,un,dn,hn,pn,mn=v,gn=Math.pow(2,32)-1;!function(){var v;if(q={"avc1":[],"avcC":[],"btrt":[],"dinf":[],"dref":[],"esds":[],"ftyp":[],"hdlr":[],"mdat":[],"mdhd":[],"mdia":[],"mfhd":[],"minf":[],"moof":[],"moov":[],"mp4a":[],"mvex":[],"mvhd":[],"pasp":[],"sdtp":[],"smhd":[],"stbl":[],"stco":[],"stsc":[],"stsd":[],"stsz":[],"stts":[],"styp":[],"tfdt":[],"tfhd":[],"traf":[],"trak":[],"trun":[],"trex":[],"tkhd":[],"vmhd":[]},"undefined"!=typeof Uint8Array){for(v in q)q.hasOwnProperty(v)&&(q[v]=[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]);G=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),X=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Y=new Uint8Array([0,0,0,1]),K=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Q=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),J={"video":K,"audio":Q},te=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ee=new Uint8Array([0,0,0,0,0,0,0,0]),ne=new Uint8Array([0,0,0,0,0,0,0,0]),oe=ne,an=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),sn=ne,Z=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),_=function box(v){var _,b,T=[],S=0;for(_=1;_<arguments.length;_++)T.push(arguments[_]);for(_=T.length;_--;)S+=T[_].byteLength;for(b=new Uint8Array(S+8),new DataView(b.buffer,b.byteOffset,b.byteLength).setUint32(0,b.byteLength),b.set(v,4),_=0,S=8;_<T.length;_++)b.set(T[_],S),S+=T[_].byteLength;return b},T=function dinf(){return _(q.dinf,_(q.dref,te))},S=function esds(v){return _(q.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,v.audioobjecttype<<3|v.samplingfrequencyindex>>>1,v.samplingfrequencyindex<<7|v.channelcount<<3,6,1,2]))},R=function hdlr(v){return _(q.hdlr,J[v])},N=function mdhd(v){var b=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,v.duration>>>24&255,v.duration>>>16&255,v.duration>>>8&255,255&v.duration,85,196,0,0]);return v.samplerate&&(b[12]=v.samplerate>>>24&255,b[13]=v.samplerate>>>16&255,b[14]=v.samplerate>>>8&255,b[15]=255&v.samplerate),_(q.mdhd,b)},D=function mdia(v){return _(q.mdia,N(v),R(v.type),C(v))},E=function mfhd(v){return _(q.mfhd,new Uint8Array([0,0,0,0,(4278190080&v)>>24,(16711680&v)>>16,(65280&v)>>8,255&v]))},C=function minf(v){return _(q.minf,"video"===v.type?_(q.vmhd,Z):_(q.smhd,ee),T(),j(v))},k=function moof(v,b){for(var T=[],S=b.length;S--;)T[S]=V(b[S]);return _.apply(null,[q.moof,E(v)].concat(T))},x=function moov(v){for(var b=v.length,T=[];b--;)T[b]=O(v[b]);return _.apply(null,[q.moov,I(4294967295)].concat(T).concat(P(v)))},P=function mvex(v){for(var b=v.length,T=[];b--;)T[b]=H(v[b]);return _.apply(null,[q.mvex].concat(T))},I=function mvhd(v){var b=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&v)>>24,(16711680&v)>>16,(65280&v)>>8,255&v,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return _(q.mvhd,b)},B=function sdtp(v){var b,T,S=v.samples||[],w=new Uint8Array(4+S.length);for(T=0;T<S.length;T++)b=S[T].flags,w[T+4]=b.dependsOn<<4|b.isDependedOn<<2|b.hasRedundancy;return _(q.sdtp,w)},j=function stbl(v){return _(q.stbl,U(v),_(q.stts,sn),_(q.stsc,oe),_(q.stsz,an),_(q.stco,ne))},U=function stsd(v){return _(q.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===v.type?cn(v):un(v))},cn=function videoSample(v){var b,T,S=v.sps||[],w=v.pps||[],E=[],C=[];for(b=0;b<S.length;b++)E.push((65280&S[b].byteLength)>>>8),E.push(255&S[b].byteLength),E=E.concat(Array.prototype.slice.call(S[b]));for(b=0;b<w.length;b++)C.push((65280&w[b].byteLength)>>>8),C.push(255&w[b].byteLength),C=C.concat(Array.prototype.slice.call(w[b]));if(T=[q.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&v.width)>>8,255&v.width,(65280&v.height)>>8,255&v.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),_(q.avcC,new Uint8Array([1,v.profileIdc,v.profileCompatibility,v.levelIdc,255].concat([S.length],E,[w.length],C))),_(q.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],v.sarRatio){var k=v.sarRatio[0],x=v.sarRatio[1];T.push(_(q.pasp,new Uint8Array([(4278190080&k)>>24,(16711680&k)>>16,(65280&k)>>8,255&k,(4278190080&x)>>24,(16711680&x)>>16,(65280&x)>>8,255&x])))}return _.apply(null,T)},un=function audioSample(v){return _(q.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&v.channelcount)>>8,255&v.channelcount,(65280&v.samplesize)>>8,255&v.samplesize,0,0,0,0,(65280&v.samplerate)>>8,255&v.samplerate,0,0]),S(v))},L=function tkhd(v){var b=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&v.id)>>24,(16711680&v.id)>>16,(65280&v.id)>>8,255&v.id,0,0,0,0,(4278190080&v.duration)>>24,(16711680&v.duration)>>16,(65280&v.duration)>>8,255&v.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&v.width)>>8,255&v.width,0,0,(65280&v.height)>>8,255&v.height,0,0]);return _(q.tkhd,b)},V=function traf(v){var b,T,S,w,E,C;return b=_(q.tfhd,new Uint8Array([0,0,0,58,(4278190080&v.id)>>24,(16711680&v.id)>>16,(65280&v.id)>>8,255&v.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),E=Math.floor(v.baseMediaDecodeTime/(gn+1)),C=Math.floor(v.baseMediaDecodeTime%(gn+1)),T=_(q.tfdt,new Uint8Array([1,0,0,0,E>>>24&255,E>>>16&255,E>>>8&255,255&E,C>>>24&255,C>>>16&255,C>>>8&255,255&C])),92,"audio"===v.type?(S=W(v,92),_(q.traf,b,T,S)):(w=B(v),S=W(v,w.length+92),_(q.traf,b,T,S,w))},O=function trak(v){return v.duration=v.duration||4294967295,_(q.trak,L(v),D(v))},H=function trex(v){var b=new Uint8Array([0,0,0,0,(4278190080&v.id)>>24,(16711680&v.id)>>16,(65280&v.id)>>8,255&v.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==v.type&&(b[b.length-1]=0),_(q.trex,b)},pn=function trunHeader(v,_){var b=0,T=0,S=0,w=0;return v.length&&(void 0!==v[0].duration&&(b=1),void 0!==v[0].size&&(T=2),void 0!==v[0].flags&&(S=4),void 0!==v[0].compositionTimeOffset&&(w=8)),[0,0,b|T|S|w,1,(4278190080&v.length)>>>24,(16711680&v.length)>>>16,(65280&v.length)>>>8,255&v.length,(4278190080&_)>>>24,(16711680&_)>>>16,(65280&_)>>>8,255&_]},hn=function videoTrun(v,b){var T,S,w,E,C,k;for(b+=20+16*(E=v.samples||[]).length,w=pn(E,b),(S=new Uint8Array(w.length+16*E.length)).set(w),T=w.length,k=0;k<E.length;k++)C=E[k],S[T++]=(4278190080&C.duration)>>>24,S[T++]=(16711680&C.duration)>>>16,S[T++]=(65280&C.duration)>>>8,S[T++]=255&C.duration,S[T++]=(4278190080&C.size)>>>24,S[T++]=(16711680&C.size)>>>16,S[T++]=(65280&C.size)>>>8,S[T++]=255&C.size,S[T++]=C.flags.isLeading<<2|C.flags.dependsOn,S[T++]=C.flags.isDependedOn<<6|C.flags.hasRedundancy<<4|C.flags.paddingValue<<1|C.flags.isNonSyncSample,S[T++]=61440&C.flags.degradationPriority,S[T++]=15&C.flags.degradationPriority,S[T++]=(4278190080&C.compositionTimeOffset)>>>24,S[T++]=(16711680&C.compositionTimeOffset)>>>16,S[T++]=(65280&C.compositionTimeOffset)>>>8,S[T++]=255&C.compositionTimeOffset;return _(q.trun,S)},dn=function audioTrun(v,b){var T,S,w,E,C,k;for(b+=20+8*(E=v.samples||[]).length,w=pn(E,b),(T=new Uint8Array(w.length+8*E.length)).set(w),S=w.length,k=0;k<E.length;k++)C=E[k],T[S++]=(4278190080&C.duration)>>>24,T[S++]=(16711680&C.duration)>>>16,T[S++]=(65280&C.duration)>>>8,T[S++]=255&C.duration,T[S++]=(4278190080&C.size)>>>24,T[S++]=(16711680&C.size)>>>16,T[S++]=(65280&C.size)>>>8,T[S++]=255&C.size;return _(q.trun,T)},W=function trun(v,_){return"audio"===v.type?dn(v,_):hn(v,_)};w=function ftyp(){return _(q.ftyp,G,Y,G,X)};var vn,yn,bn,Tn,Sn,wn,En,Cn,kn=function mdat(v){return _(q.mdat,v)},xn=k,An=function initSegment(v){var _,b=w(),T=x(v);return(_=new Uint8Array(b.byteLength+T.byteLength)).set(b),_.set(T,b.byteLength),_},Pn=function sampleForFrame(v,_){var b={"size":0,"flags":{"isLeading":0,"dependsOn":1,"isDependedOn":0,"hasRedundancy":0,"degradationPriority":0,"isNonSyncSample":1}};return b.dataOffset=_,b.compositionTimeOffset=v.pts-v.dts,b.duration=v.duration,b.size=4*v.length,b.size+=v.byteLength,v.keyFrame&&(b.flags.dependsOn=2,b.flags.isNonSyncSample=0),b},In=function groupNalsIntoFrames(v){var _,b,T=[],S=[];for(S.byteLength=0,S.nalCount=0,S.duration=0,T.byteLength=0,_=0;_<v.length;_++)"access_unit_delimiter_rbsp"===(b=v[_]).nalUnitType?(T.length&&(T.duration=b.dts-T.dts,S.byteLength+=T.byteLength,S.nalCount+=T.length,S.duration+=T.duration,S.push(T)),(T=[b]).byteLength=b.data.byteLength,T.pts=b.pts,T.dts=b.dts):("slice_layer_without_partitioning_rbsp_idr"===b.nalUnitType&&(T.keyFrame=!0),T.duration=b.dts-T.dts,T.byteLength+=b.data.byteLength,T.push(b));return S.length&&(!T.duration||T.duration<=0)&&(T.duration=S[S.length-1].duration),S.byteLength+=T.byteLength,S.nalCount+=T.length,S.duration+=T.duration,S.push(T),S},On=function groupFramesIntoGops(v){var _,b,T=[],S=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=v[0].pts,T.dts=v[0].dts,S.byteLength=0,S.nalCount=0,S.duration=0,S.pts=v[0].pts,S.dts=v[0].dts,_=0;_<v.length;_++)(b=v[_]).keyFrame?(T.length&&(S.push(T),S.byteLength+=T.byteLength,S.nalCount+=T.nalCount,S.duration+=T.duration),(T=[b]).nalCount=b.length,T.byteLength=b.byteLength,T.pts=b.pts,T.dts=b.dts,T.duration=b.duration):(T.duration+=b.duration,T.nalCount+=b.length,T.byteLength+=b.byteLength,T.push(b));return S.length&&T.duration<=0&&(T.duration=S[S.length-1].duration),S.byteLength+=T.byteLength,S.nalCount+=T.nalCount,S.duration+=T.duration,S.push(T),S},Ln=function extendFirstKeyFrame(v){var _;return!v[0][0].keyFrame&&v.length>1&&(_=v.shift(),v.byteLength-=_.byteLength,v.nalCount-=_.nalCount,v[0][0].dts=_.dts,v[0][0].pts=_.pts,v[0][0].duration+=_.duration),v},Mn=function generateSampleTable(v,_){var b,T,S,w,E,C=_||0,k=[];for(b=0;b<v.length;b++)for(w=v[b],T=0;T<w.length;T++)E=w[T],C+=(S=Pn(E,C)).size,k.push(S);return k},Dn=function concatenateNalData(v){var _,b,T,S,w,E,C=0,k=v.byteLength,x=v.nalCount,P=new Uint8Array(k+4*x),I=new DataView(P.buffer);for(_=0;_<v.length;_++)for(S=v[_],b=0;b<S.length;b++)for(w=S[b],T=0;T<w.length;T++)E=w[T],I.setUint32(C,E.data.byteLength),C+=4,P.set(E.data,C),C+=E.data.byteLength;return P},Nn=function generateSampleTableForFrame(v,_){var b,T=[];return b=Pn(v,_||0),T.push(b),T},Rn=function concatenateNalDataForFrame(v){var _,b,T=0,S=v.byteLength,w=v.length,E=new Uint8Array(S+4*w),C=new DataView(E.buffer);for(_=0;_<v.length;_++)b=v[_],C.setUint32(T,b.data.byteLength),T+=4,E.set(b.data,T),T+=b.data.byteLength;return E},Bn=[33,16,5,32,164,27],jn=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Vn=function zeroFill(v){for(var _=[];v--;)_.push(0);return _},Hn=function silence_1(){if(!vn){var v={"96000":[Bn,[227,64],Vn(154),[56]],"88200":[Bn,[231],Vn(170),[56]],"64000":[Bn,[248,192],Vn(240),[56]],"48000":[Bn,[255,192],Vn(268),[55,148,128],Vn(54),[112]],"44100":[Bn,[255,192],Vn(268),[55,163,128],Vn(84),[112]],"32000":[Bn,[255,192],Vn(268),[55,234],Vn(226),[112]],"24000":[Bn,[255,192],Vn(268),[55,255,128],Vn(268),[111,112],Vn(126),[224]],"16000":[Bn,[255,192],Vn(268),[55,255,128],Vn(268),[111,255],Vn(269),[223,108],Vn(195),[1,192]],"12000":[jn,Vn(268),[3,127,248],Vn(268),[6,255,240],Vn(268),[13,255,224],Vn(268),[27,253,128],Vn(259),[56]],"11025":[jn,Vn(268),[3,127,248],Vn(268),[6,255,240],Vn(268),[13,255,224],Vn(268),[27,255,192],Vn(268),[55,175,128],Vn(108),[112]],"8000":[jn,Vn(268),[3,121,16],Vn(47),[7]]};vn=function makeTable(v){return Object.keys(v).reduce((function(_,b){return _[b]=new Uint8Array(v[b].reduce((function(v,_){return v.concat(_)}),[])),_}),{})}(v)}return vn};wn=function audioTsToVideoTs(v,_){return yn(Sn(v,_))},En=function videoTsToAudioTs(v,_){return bn(Tn(v),_)},Cn=function metadataTsToSeconds(v,_,b){return Tn(b?v:v-_)};var Wn=9e4,zn=yn=function secondsToVideoTs(v){return 9e4*v},Yn=(bn=function secondsToAudioTs(v,_){return v*_},Tn=function videoTsToSeconds(v){return v/9e4}),Zn=(Sn=function audioTsToSeconds(v,_){return v/_},wn),ei=En,ti=Cn,ni=function prefixWithSilence(v,_,b,T){var S,w,E,C,k,x=0,P=0,I=0;if(_.length&&(S=Zn(v.baseMediaDecodeTime,v.samplerate),w=Math.ceil(Wn/(v.samplerate/1024)),b&&T&&(x=S-Math.max(b,T),I=(P=Math.floor(x/w))*w),!(P<1||I>Wn/2))){for((E=Hn()[v.samplerate])||(E=_[0].data),C=0;C<P;C++)k=_[0],_.splice(0,0,{"data":E,"dts":k.dts-w,"pts":k.pts-w});return v.baseMediaDecodeTime-=Math.floor(ei(I,v.samplerate)),I}},ii=function trimAdtsFramesByEarliestDts(v,_,b){return _.minSegmentDts>=b?v:(_.minSegmentDts=1/0,v.filter((function(v){return v.dts>=b&&(_.minSegmentDts=Math.min(_.minSegmentDts,v.dts),_.minSegmentPts=_.minSegmentDts,!0)})))},ri=function generateSampleTable(v){var _,b,T=[];for(_=0;_<v.length;_++)b=v[_],T.push({"size":b.data.byteLength,"duration":1024});return T},ai=function concatenateFrameData(v){var _,b,T=0,S=new Uint8Array(function sumFrameByteLengths(v){var _,b=0;for(_=0;_<v.length;_++)b+=v[_].data.byteLength;return b}(v));for(_=0;_<v.length;_++)b=v[_],S.set(b.data,T),T+=b.data.byteLength;return S},oi=Wn,si=function clearDtsInfo(v){delete v.minSegmentDts,delete v.maxSegmentDts,delete v.minSegmentPts,delete v.maxSegmentPts},li=function calculateTrackBaseMediaDecodeTime(v,_){var b,T=v.minSegmentDts;return _||(T-=v.timelineStartInfo.dts),b=v.timelineStartInfo.baseMediaDecodeTime,b+=T,b=Math.max(0,b),"audio"===v.type&&(b*=v.samplerate/oi,b=Math.floor(b)),b},ci=function collectDtsInfo(v,_){"number"==typeof _.pts&&(void 0===v.timelineStartInfo.pts&&(v.timelineStartInfo.pts=_.pts),void 0===v.minSegmentPts?v.minSegmentPts=_.pts:v.minSegmentPts=Math.min(v.minSegmentPts,_.pts),void 0===v.maxSegmentPts?v.maxSegmentPts=_.pts:v.maxSegmentPts=Math.max(v.maxSegmentPts,_.pts)),"number"==typeof _.dts&&(void 0===v.timelineStartInfo.dts&&(v.timelineStartInfo.dts=_.dts),void 0===v.minSegmentDts?v.minSegmentDts=_.dts:v.minSegmentDts=Math.min(v.minSegmentDts,_.dts),void 0===v.maxSegmentDts?v.maxSegmentDts=_.dts:v.maxSegmentDts=Math.max(v.maxSegmentDts,_.dts))},ui=function parseSei(v){for(var _=0,b={"payloadType":-1,"payloadSize":0},T=0,S=0;_<v.byteLength&&128!==v[_];){for(;255===v[_];)T+=255,_++;for(T+=v[_++];255===v[_];)S+=255,_++;if(S+=v[_++],!b.payload&&4===T){if("GA94"===String.fromCharCode(v[_+3],v[_+4],v[_+5],v[_+6])){b.payloadType=T,b.payloadSize=S,b.payload=v.subarray(_,_+S);break}b.payload=void 0}_+=S,T=0,S=0}return b},di=function parseUserData(v){return 181!==v.payload[0]||49!=(v.payload[1]<<8|v.payload[2])||"GA94"!==String.fromCharCode(v.payload[3],v.payload[4],v.payload[5],v.payload[6])||3!==v.payload[7]?null:v.payload.subarray(8,v.payload.length-1)},hi=function parseCaptionPackets(v,_){var b,T,S,w,E=[];if(!(64&_[0]))return E;for(T=31&_[0],b=0;b<T;b++)w={"type":3&_[(S=3*b)+2],"pts":v},4&_[S+2]&&(w.ccData=_[S+3]<<8|_[S+4],E.push(w));return E},pi=function discardEmulationPreventionBytes(v){for(var _,b,T=v.byteLength,S=[],w=1;w<T-2;)0===v[w]&&0===v[w+1]&&3===v[w+2]?(S.push(w+2),w+=2):w++;if(0===S.length)return v;_=T-S.length,b=new Uint8Array(_);var E=0;for(w=0;w<_;E++,w++)E===S[0]&&(E++,S.shift()),b[w]=v[E];return b},fi=4,mi=function CaptionStream(){CaptionStream.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ci(0,0),new Ci(0,1),new Ci(1,0),new Ci(1,1)],this.cc708Stream_=new bi,this.reset(),this.ccStreams_.forEach((function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))}),this),this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done"))};(mi.prototype=new mn).push=function(v){var _,b,T;if("sei_rbsp"===v.nalUnitType&&(_=ui(v.escapedRBSP)).payload&&_.payloadType===fi&&(b=di(_)))if(v.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(v.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));T=hi(v.pts,b),this.captionPackets_=this.captionPackets_.concat(T),this.latestDts_!==v.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=v.dts}},mi.prototype.flushCCStreams=function(v){this.ccStreams_.forEach((function(_){return"flush"===v?_.flush():_.partialFlush()}),this)},mi.prototype.flushStream=function(v){this.captionPackets_.length?(this.captionPackets_.forEach((function(v,_){v.presortIndex=_})),this.captionPackets_.sort((function(v,_){return v.pts===_.pts?v.presortIndex-_.presortIndex:v.pts-_.pts})),this.captionPackets_.forEach((function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)}),this),this.captionPackets_.length=0,this.flushCCStreams(v)):this.flushCCStreams(v)},mi.prototype.flush=function(){return this.flushStream("flush")},mi.prototype.partialFlush=function(){return this.flushStream("partialFlush")},mi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(v){v.reset()}))},mi.prototype.dispatchCea608Packet=function(v){this.setsTextOrXDSActive(v)?this.activeCea608Channel_[v.type]=null:this.setsChannel1Active(v)?this.activeCea608Channel_[v.type]=0:this.setsChannel2Active(v)&&(this.activeCea608Channel_[v.type]=1),null!==this.activeCea608Channel_[v.type]&&this.ccStreams_[(v.type<<1)+this.activeCea608Channel_[v.type]].push(v)},mi.prototype.setsChannel1Active=function(v){return 4096==(30720&v.ccData)},mi.prototype.setsChannel2Active=function(v){return 6144==(30720&v.ccData)},mi.prototype.setsTextOrXDSActive=function(v){return 256==(28928&v.ccData)||4138==(30974&v.ccData)||6186==(30974&v.ccData)},mi.prototype.dispatchCea708Packet=function(v){this.cc708Stream_.push(v)};var gi={"127":9834,"4128":32,"4129":160,"4133":8230,"4138":352,"4140":338,"4144":9608,"4145":8216,"4146":8217,"4147":8220,"4148":8221,"4149":8226,"4153":8482,"4154":353,"4156":339,"4157":8480,"4159":376,"4214":8539,"4215":8540,"4216":8541,"4217":8542,"4218":9168,"4219":9124,"4220":9123,"4221":9135,"4222":9126,"4223":9121,"4256":12600},vi=function within708TextBlock(v){return 32<=v&&v<=127||160<=v&&v<=255},yi=function Cea708Window(v){this.windowNum=v,this.reset()};yi.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},yi.prototype.getText=function(){return this.rows.join("\n")},yi.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},yi.prototype.newLine=function(v){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(v),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},yi.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},yi.prototype.addText=function(v){this.rows[this.rowIdx]+=v},yi.prototype.backspace=function(){if(!this.isEmpty()){var v=this.rows[this.rowIdx];this.rows[this.rowIdx]=v.substr(0,v.length-1)}};var _i=function Cea708Service(v){this.serviceNum=v,this.text="",this.currentWindow=new yi(-1),this.windows=[]};_i.prototype.init=function(v,_){this.startPts=v;for(var b=0;b<8;b++)this.windows[b]=new yi(b),"function"==typeof _&&(this.windows[b].beforeRowOverflow=_)},_i.prototype.setCurrentWindow=function(v){this.currentWindow=this.windows[v]};var bi=function Cea708Stream(){Cea708Stream.prototype.init.call(this);var v=this;this.current708Packet=null,this.services={},this.push=function(_){3===_.type?(v.new708Packet(),v.add708Bytes(_)):(null===v.current708Packet&&v.new708Packet(),v.add708Bytes(_))}};bi.prototype=new mn,bi.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={"data":[],"ptsVals":[]}},bi.prototype.add708Bytes=function(v){var _=v.ccData,b=_>>>8,T=255&_;this.current708Packet.ptsVals.push(v.pts),this.current708Packet.data.push(b),this.current708Packet.data.push(T)},bi.prototype.push708Packet=function(){var v=this.current708Packet,_=v.data,b=null,T=null,S=0,w=_[S++];for(v.seq=w>>6,v.sizeCode=63&w;S<_.length;S++)T=31&(w=_[S++]),7===(b=w>>5)&&T>0&&(b=w=_[S++]),this.pushServiceBlock(b,S,T),T>0&&(S+=T-1)},bi.prototype.pushServiceBlock=function(v,_,b){var T,S=_,w=this.current708Packet.data,E=this.services[v];for(E||(E=this.initService(v,S));S<_+b&&S<w.length;S++)T=w[S],vi(T)?S=this.handleText(S,E):16===T?S=this.extendedCommands(S,E):128<=T&&T<=135?S=this.setCurrentWindow(S,E):152<=T&&T<=159?S=this.defineWindow(S,E):136===T?S=this.clearWindows(S,E):140===T?S=this.deleteWindows(S,E):137===T?S=this.displayWindows(S,E):138===T?S=this.hideWindows(S,E):139===T?S=this.toggleWindows(S,E):151===T?S=this.setWindowAttributes(S,E):144===T?S=this.setPenAttributes(S,E):145===T?S=this.setPenColor(S,E):146===T?S=this.setPenLocation(S,E):143===T?E=this.reset(S,E):8===T?E.currentWindow.backspace():12===T?E.currentWindow.clearText():13===T?E.currentWindow.pendingNewLine=!0:14===T?E.currentWindow.clearText():141===T&&S++},bi.prototype.extendedCommands=function(v,_){var b=this.current708Packet.data[++v];return vi(b)&&(v=this.handleText(v,_,!0)),v},bi.prototype.getPts=function(v){return this.current708Packet.ptsVals[Math.floor(v/2)]},bi.prototype.initService=function(v,_){var b=this;return this.services[v]=new _i(v),this.services[v].init(this.getPts(_),(function(_){b.flushDisplayed(_,b.services[v])})),this.services[v]},bi.prototype.handleText=function(v,_,b){var T=function get708CharFromCode(v){var _=gi[v]||v;return 4096&v&&v===_?"":String.fromCharCode(_)}((b?4096:0)|this.current708Packet.data[v]),S=_.currentWindow;return S.pendingNewLine&&!S.isEmpty()&&S.newLine(this.getPts(v)),S.pendingNewLine=!1,S.addText(T),v},bi.prototype.setCurrentWindow=function(v,_){var b=7&this.current708Packet.data[v];return _.setCurrentWindow(b),v},bi.prototype.defineWindow=function(v,_){var b=this.current708Packet.data,T=b[v],S=7&T;_.setCurrentWindow(S);var w=_.currentWindow;return T=b[++v],w.visible=(32&T)>>5,w.rowLock=(16&T)>>4,w.columnLock=(8&T)>>3,w.priority=7&T,T=b[++v],w.relativePositioning=(128&T)>>7,w.anchorVertical=127&T,T=b[++v],w.anchorHorizontal=T,T=b[++v],w.anchorPoint=(240&T)>>4,w.rowCount=15&T,T=b[++v],w.columnCount=63&T,T=b[++v],w.windowStyle=(56&T)>>3,w.penStyle=7&T,w.virtualRowCount=w.rowCount+1,v},bi.prototype.setWindowAttributes=function(v,_){var b=this.current708Packet.data,T=b[v],S=_.currentWindow.winAttr;return T=b[++v],S.fillOpacity=(192&T)>>6,S.fillRed=(48&T)>>4,S.fillGreen=(12&T)>>2,S.fillBlue=3&T,T=b[++v],S.borderType=(192&T)>>6,S.borderRed=(48&T)>>4,S.borderGreen=(12&T)>>2,S.borderBlue=3&T,T=b[++v],S.borderType+=(128&T)>>5,S.wordWrap=(64&T)>>6,S.printDirection=(48&T)>>4,S.scrollDirection=(12&T)>>2,S.justify=3&T,T=b[++v],S.effectSpeed=(240&T)>>4,S.effectDirection=(12&T)>>2,S.displayEffect=3&T,v},bi.prototype.flushDisplayed=function(v,_){for(var b=[],T=0;T<8;T++)_.windows[T].visible&&!_.windows[T].isEmpty()&&b.push(_.windows[T].getText());_.endPts=v,_.text=b.join("\n\n"),this.pushCaption(_),_.startPts=v},bi.prototype.pushCaption=function(v){""!==v.text&&(this.trigger("data",{"startPts":v.startPts,"endPts":v.endPts,"text":v.text,"stream":"cc708_"+v.serviceNum}),v.text="",v.startPts=v.endPts)},bi.prototype.displayWindows=function(v,_){var b=this.current708Packet.data[++v],T=this.getPts(v);this.flushDisplayed(T,_);for(var S=0;S<8;S++)b&1<<S&&(_.windows[S].visible=1);return v},bi.prototype.hideWindows=function(v,_){var b=this.current708Packet.data[++v],T=this.getPts(v);this.flushDisplayed(T,_);for(var S=0;S<8;S++)b&1<<S&&(_.windows[S].visible=0);return v},bi.prototype.toggleWindows=function(v,_){var b=this.current708Packet.data[++v],T=this.getPts(v);this.flushDisplayed(T,_);for(var S=0;S<8;S++)b&1<<S&&(_.windows[S].visible^=1);return v},bi.prototype.clearWindows=function(v,_){var b=this.current708Packet.data[++v],T=this.getPts(v);this.flushDisplayed(T,_);for(var S=0;S<8;S++)b&1<<S&&_.windows[S].clearText();return v},bi.prototype.deleteWindows=function(v,_){var b=this.current708Packet.data[++v],T=this.getPts(v);this.flushDisplayed(T,_);for(var S=0;S<8;S++)b&1<<S&&_.windows[S].reset();return v},bi.prototype.setPenAttributes=function(v,_){var b=this.current708Packet.data,T=b[v],S=_.currentWindow.penAttr;return T=b[++v],S.textTag=(240&T)>>4,S.offset=(12&T)>>2,S.penSize=3&T,T=b[++v],S.italics=(128&T)>>7,S.underline=(64&T)>>6,S.edgeType=(56&T)>>3,S.fontStyle=7&T,v},bi.prototype.setPenColor=function(v,_){var b=this.current708Packet.data,T=b[v],S=_.currentWindow.penColor;return T=b[++v],S.fgOpacity=(192&T)>>6,S.fgRed=(48&T)>>4,S.fgGreen=(12&T)>>2,S.fgBlue=3&T,T=b[++v],S.bgOpacity=(192&T)>>6,S.bgRed=(48&T)>>4,S.bgGreen=(12&T)>>2,S.bgBlue=3&T,T=b[++v],S.edgeRed=(48&T)>>4,S.edgeGreen=(12&T)>>2,S.edgeBlue=3&T,v},bi.prototype.setPenLocation=function(v,_){var b=this.current708Packet.data,T=b[v],S=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,T=b[++v],S.row=15&T,T=b[++v],S.column=63&T,v},bi.prototype.reset=function(v,_){var b=this.getPts(v);return this.flushDisplayed(b,_),this.initService(_.serviceNum,v)};var Ti={"42":225,"92":233,"94":237,"95":243,"96":250,"123":231,"124":247,"125":209,"126":241,"127":9608,"304":174,"305":176,"306":189,"307":191,"308":8482,"309":162,"310":163,"311":9834,"312":224,"313":160,"314":232,"315":226,"316":234,"317":238,"318":244,"319":251,"544":193,"545":201,"546":211,"547":218,"548":220,"549":252,"550":8216,"551":161,"552":42,"553":39,"554":8212,"555":169,"556":8480,"557":8226,"558":8220,"559":8221,"560":192,"561":194,"562":199,"563":200,"564":202,"565":203,"566":235,"567":206,"568":207,"569":239,"570":212,"571":217,"572":249,"573":219,"574":171,"575":187,"800":195,"801":227,"802":205,"803":204,"804":236,"805":210,"806":242,"807":213,"808":245,"809":123,"810":125,"811":92,"812":94,"813":95,"814":124,"815":126,"816":196,"817":228,"818":214,"819":246,"820":223,"821":165,"822":164,"823":9474,"824":197,"825":229,"826":216,"827":248,"828":9484,"829":9488,"830":9492,"831":9496},Si=function getCharFromCode(v){return null===v?"":(v=Ti[v]||v,String.fromCharCode(v))},wi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ei=function createDisplayBuffer(){for(var v=[],_=15;_--;)v.push("");return v},Ci=function Cea608Stream(v,_){Cea608Stream.prototype.init.call(this),this.field_=v||0,this.dataChannel_=_||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(v){var _,b,T,S,w;if((_=32639&v.ccData)!==this.lastControlCode_){if(4096==(61440&_)?this.lastControlCode_=_:_!==this.PADDING_&&(this.lastControlCode_=null),T=_>>>8,S=255&_,_!==this.PADDING_)if(_===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(_===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(v.pts),this.flushDisplayed(v.pts),b=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=b,this.startPts_=v.pts;else if(_===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(v.pts);else if(_===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(v.pts);else if(_===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(v.pts);else if(_===this.CARRIAGE_RETURN_)this.clearFormatting(v.pts),this.flushDisplayed(v.pts),this.shiftRowsUp_(),this.startPts_=v.pts;else if(_===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(_===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(v.pts),this.displayed_=Ei();else if(_===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ei();else if(_===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(v.pts),this.displayed_=Ei()),this.mode_="paintOn",this.startPts_=v.pts;else if(this.isSpecialCharacter(T,S))w=Si((T=(3&T)<<8)|S),this[this.mode_](v.pts,w),this.column_++;else if(this.isExtCharacter(T,S))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),w=Si((T=(3&T)<<8)|S),this[this.mode_](v.pts,w),this.column_++;else if(this.isMidRowCode(T,S))this.clearFormatting(v.pts),this[this.mode_](v.pts," "),this.column_++,14==(14&S)&&this.addFormatting(v.pts,["i"]),1==(1&S)&&this.addFormatting(v.pts,["u"]);else if(this.isOffsetControlCode(T,S))this.column_+=3&S;else if(this.isPAC(T,S)){var E=wi.indexOf(7968&_);"rollUp"===this.mode_&&(E-this.rollUpRows_+1<0&&(E=this.rollUpRows_-1),this.setRollUp(v.pts,E)),E!==this.row_&&(this.clearFormatting(v.pts),this.row_=E),1&S&&-1===this.formatting_.indexOf("u")&&this.addFormatting(v.pts,["u"]),16==(16&_)&&(this.column_=4*((14&_)>>1)),this.isColorPAC(S)&&14==(14&S)&&this.addFormatting(v.pts,["i"])}else this.isNormalChar(T)&&(0===S&&(S=null),w=Si(T),w+=Si(S),this[this.mode_](v.pts,w),this.column_+=w.length)}else this.lastControlCode_=null}};Ci.prototype=new mn,Ci.prototype.flushDisplayed=function(v){var _=this.displayed_.map((function(v){try{return v.trim()}catch(v){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");_.length&&this.trigger("data",{"startPts":this.startPts_,"endPts":v,"text":_,"stream":this.name_})},Ci.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ei(),this.nonDisplayed_=Ei(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ci.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ci.prototype.isSpecialCharacter=function(v,_){return v===this.EXT_&&_>=48&&_<=63},Ci.prototype.isExtCharacter=function(v,_){return(v===this.EXT_+1||v===this.EXT_+2)&&_>=32&&_<=63},Ci.prototype.isMidRowCode=function(v,_){return v===this.EXT_&&_>=32&&_<=47},Ci.prototype.isOffsetControlCode=function(v,_){return v===this.OFFSET_&&_>=33&&_<=35},Ci.prototype.isPAC=function(v,_){return v>=this.BASE_&&v<this.BASE_+8&&_>=64&&_<=127},Ci.prototype.isColorPAC=function(v){return v>=64&&v<=79||v>=96&&v<=127},Ci.prototype.isNormalChar=function(v){return v>=32&&v<=127},Ci.prototype.setRollUp=function(v,_){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(v),this.nonDisplayed_=Ei(),this.displayed_=Ei()),void 0!==_&&_!==this.row_)for(var b=0;b<this.rollUpRows_;b++)this.displayed_[_-b]=this.displayed_[this.row_-b],this.displayed_[this.row_-b]="";void 0===_&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},Ci.prototype.addFormatting=function(v,_){this.formatting_=this.formatting_.concat(_);var b=_.reduce((function(v,_){return v+"<"+_+">"}),"");this[this.mode_](v,b)},Ci.prototype.clearFormatting=function(v){if(this.formatting_.length){var _=this.formatting_.reverse().reduce((function(v,_){return v+"</"+_+">"}),"");this.formatting_=[],this[this.mode_](v,_)}},Ci.prototype.popOn=function(v,_){var b=this.nonDisplayed_[this.row_];b+=_,this.nonDisplayed_[this.row_]=b},Ci.prototype.rollUp=function(v,_){var b=this.displayed_[this.row_];b+=_,this.displayed_[this.row_]=b},Ci.prototype.shiftRowsUp_=function(){var v;for(v=0;v<this.topRow_;v++)this.displayed_[v]="";for(v=this.row_+1;v<15;v++)this.displayed_[v]="";for(v=this.topRow_;v<this.row_;v++)this.displayed_[v]=this.displayed_[v+1];this.displayed_[this.row_]=""},Ci.prototype.paintOn=function(v,_){var b=this.displayed_[this.row_];b+=_,this.displayed_[this.row_]=b};var ki={"CaptionStream":mi,"Cea608Stream":Ci,"Cea708Stream":bi},xi={"H264_STREAM_TYPE":27,"ADTS_STREAM_TYPE":15,"METADATA_STREAM_TYPE":21},Ai=function handleRollover(v,_){var b=1;for(v>_&&(b=-1);Math.abs(_-v)>4294967296;)v+=8589934592*b;return v},Pi=function TimestampRolloverStream(v){var _,b;TimestampRolloverStream.prototype.init.call(this),this.type_=v||"shared",this.push=function(v){"shared"!==this.type_&&v.type!==this.type_||(void 0===b&&(b=v.dts),v.dts=Ai(v.dts,b),v.pts=Ai(v.pts,b),_=v.dts,this.trigger("data",v))},this.flush=function(){b=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){b=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Pi.prototype=new mn;var Ii,Oi=Pi,Li=function percentEncode(v,_,b){var T,S="";for(T=_;T<b;T++)S+="%"+("00"+v[T].toString(16)).slice(-2);return S},Mi=function parseUtf8(v,_,b){return decodeURIComponent(Li(v,_,b))},Di=function parseIso88591(v,_,b){return unescape(Li(v,_,b))},Ni=function parseSyncSafeInteger(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},Ri={"TXXX":function TXXX(v){var _;if(3===v.data[0]){for(_=1;_<v.data.length;_++)if(0===v.data[_]){v.description=Mi(v.data,1,_),v.value=Mi(v.data,_+1,v.data.length).replace(/\0*$/,"");break}v.data=v.value}},"WXXX":function WXXX(v){var _;if(3===v.data[0])for(_=1;_<v.data.length;_++)if(0===v.data[_]){v.description=Mi(v.data,1,_),v.url=Mi(v.data,_+1,v.data.length);break}},"PRIV":function PRIV(v){var _;for(_=0;_<v.data.length;_++)if(0===v.data[_]){v.owner=Di(v.data,0,_);break}v.privateData=v.data.subarray(_+1),v.data=v.privateData}};(Ii=function MetadataStream(v){var _,b={"debug":!(!v||!v.debug),"descriptor":v&&v.descriptor},T=0,S=[],w=0;if(Ii.prototype.init.call(this),this.dispatchType=xi.METADATA_STREAM_TYPE.toString(16),b.descriptor)for(_=0;_<b.descriptor.length;_++)this.dispatchType+=("00"+b.descriptor[_].toString(16)).slice(-2);this.push=function(v){var _,E,C,k,x;if("timed-metadata"===v.type)if(v.dataAlignmentIndicator&&(w=0,S.length=0),0===S.length&&(v.data.length<10||v.data[0]!=="I".charCodeAt(0)||v.data[1]!=="D".charCodeAt(0)||v.data[2]!=="3".charCodeAt(0)))b.debug&&console.log("Skipping unrecognized metadata packet");else if(S.push(v),w+=v.data.byteLength,1===S.length&&(T=Ni(v.data.subarray(6,10)),T+=10),!(w<T)){for(_={"data":new Uint8Array(T),"frames":[],"pts":S[0].pts,"dts":S[0].dts},x=0;x<T;)_.data.set(S[0].data.subarray(0,T-x),x),x+=S[0].data.byteLength,w-=S[0].data.byteLength,S.shift();E=10,64&_.data[5]&&(E+=4,E+=Ni(_.data.subarray(10,14)),T-=Ni(_.data.subarray(16,20)));do{if((C=Ni(_.data.subarray(E+4,E+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((k={"id":String.fromCharCode(_.data[E],_.data[E+1],_.data[E+2],_.data[E+3]),"data":_.data.subarray(E+10,E+C+10)}).key=k.id,Ri[k.id]&&(Ri[k.id](k),"com.apple.streaming.transportStreamTimestamp"===k.owner)){var P=k.data,I=(1&P[3])<<30|P[4]<<22|P[5]<<14|P[6]<<6|P[7]>>>2;I*=4,I+=3&P[7],k.timeStamp=I,void 0===_.pts&&void 0===_.dts&&(_.pts=k.timeStamp,_.dts=k.timeStamp),this.trigger("timestamp",k)}_.frames.push(k),E+=10,E+=C}while(E<T);this.trigger("data",_)}}}).prototype=new mn;var Bi,ji,Ui,Fi=Ii,Vi=Oi;(Bi=function TransportPacketStream(){var v=new Uint8Array(188),_=0;Bi.prototype.init.call(this),this.push=function(b){var T,S=0,w=188;for(_?((T=new Uint8Array(b.byteLength+_)).set(v.subarray(0,_)),T.set(b,_),_=0):T=b;w<T.byteLength;)71!==T[S]||71!==T[w]?(S++,w++):(this.trigger("data",T.subarray(S,w)),S+=188,w+=188);S<T.byteLength&&(v.set(T.subarray(S),0),_=T.byteLength-S)},this.flush=function(){188===_&&71===v[0]&&(this.trigger("data",v),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}}).prototype=new mn,(ji=function TransportParseStream(){var v,_,b,T;ji.prototype.init.call(this),T=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,v=function parsePsi(v,T){var S=0;T.payloadUnitStartIndicator&&(S+=v[S]+1),"pat"===T.type?_(v.subarray(S),T):b(v.subarray(S),T)},_=function parsePat(v,_){_.section_number=v[7],_.last_section_number=v[8],T.pmtPid=(31&v[10])<<8|v[11],_.pmtPid=T.pmtPid},b=function parsePmt(v,_){var b,S;if(1&v[5]){for(T.programMapTable={"video":null,"audio":null,"timed-metadata":{}},b=3+((15&v[1])<<8|v[2])-4,S=12+((15&v[10])<<8|v[11]);S<b;){var w=v[S],E=(31&v[S+1])<<8|v[S+2];w===xi.H264_STREAM_TYPE&&null===T.programMapTable.video?T.programMapTable.video=E:w===xi.ADTS_STREAM_TYPE&&null===T.programMapTable.audio?T.programMapTable.audio=E:w===xi.METADATA_STREAM_TYPE&&(T.programMapTable["timed-metadata"][E]=w),S+=5+((15&v[S+3])<<8|v[S+4])}_.programMapTable=T.programMapTable}},this.push=function(_){var b={},T=4;if(b.payloadUnitStartIndicator=!!(64&_[1]),b.pid=31&_[1],b.pid<<=8,b.pid|=_[2],(48&_[3])>>>4>1&&(T+=_[T]+1),0===b.pid)b.type="pat",v(_.subarray(T),b),this.trigger("data",b);else if(b.pid===this.pmtPid)for(b.type="pmt",v(_.subarray(T),b),this.trigger("data",b);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([_,T,b]):this.processPes_(_,T,b)},this.processPes_=function(v,_,b){b.pid===this.programMapTable.video?b.streamType=xi.H264_STREAM_TYPE:b.pid===this.programMapTable.audio?b.streamType=xi.ADTS_STREAM_TYPE:b.streamType=this.programMapTable["timed-metadata"][b.pid],b.type="pes",b.data=v.subarray(_),this.trigger("data",b)}}).prototype=new mn,ji.STREAM_TYPES={"h264":27,"adts":15},(Ui=function ElementaryStream(){var v,_=this,b={"data":[],"size":0},T={"data":[],"size":0},S={"data":[],"size":0},w=function flushStream(v,b,T){var S,w,E=new Uint8Array(v.size),C={"type":b},k=0,x=0;if(v.data.length&&!(v.size<9)){for(C.trackId=v.data[0].pid,k=0;k<v.data.length;k++)w=v.data[k],E.set(w.data,x),x+=w.data.byteLength;!function parsePes(v,_){var b;_.packetLength=6+(v[4]<<8|v[5]),_.dataAlignmentIndicator=0!=(4&v[6]),192&(b=v[7])&&(_.pts=(14&v[9])<<27|(255&v[10])<<20|(254&v[11])<<12|(255&v[12])<<5|(254&v[13])>>>3,_.pts*=4,_.pts+=(6&v[13])>>>1,_.dts=_.pts,64&b&&(_.dts=(14&v[14])<<27|(255&v[15])<<20|(254&v[16])<<12|(255&v[17])<<5|(254&v[18])>>>3,_.dts*=4,_.dts+=(6&v[18])>>>1)),_.data=v.subarray(9+v[8])}(E,C),S="video"===b||C.packetLength<=v.size,(T||S)&&(v.size=0,v.data.length=0),S&&_.trigger("data",C)}};Ui.prototype.init.call(this),this.push=function(E){({"pat":function pat(){},"pes":function pes(){var v,_;switch(E.streamType){case xi.H264_STREAM_TYPE:v=b,_="video";break;case xi.ADTS_STREAM_TYPE:v=T,_="audio";break;case xi.METADATA_STREAM_TYPE:v=S,_="timed-metadata";break;default:return}E.payloadUnitStartIndicator&&w(v,_,!0),v.data.push(E),v.size+=E.data.byteLength},"pmt":function pmt(){var b={"type":"metadata","tracks":[]};null!==(v=E.programMapTable).video&&b.tracks.push({"timelineStartInfo":{"baseMediaDecodeTime":0},"id":+v.video,"codec":"avc","type":"video"}),null!==v.audio&&b.tracks.push({"timelineStartInfo":{"baseMediaDecodeTime":0},"id":+v.audio,"codec":"adts","type":"audio"}),_.trigger("data",b)}})[E.type]()},this.reset=function(){b.size=0,b.data.length=0,T.size=0,T.data.length=0,this.trigger("reset")},this.flushStreams_=function(){w(b,"video"),w(T,"audio"),w(S,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new mn;var Hi={"PAT_PID":0,"MP2T_PACKET_LENGTH":188,"TransportPacketStream":Bi,"TransportParseStream":ji,"ElementaryStream":Ui,"TimestampRolloverStream":Vi,"CaptionStream":ki.CaptionStream,"Cea608Stream":ki.Cea608Stream,"Cea708Stream":ki.Cea708Stream,"MetadataStream":Fi};for(var Wi in xi)xi.hasOwnProperty(Wi)&&(Hi[Wi]=xi[Wi]);var qi,zi=Hi,Gi=Wn,Yi=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(qi=function AdtsStream(v){var _,b=0;qi.prototype.init.call(this),this.push=function(T){var S,w,E,C,k,x,P=0;if(v||(b=0),"audio"===T.type)for(_?(C=_,(_=new Uint8Array(C.byteLength+T.data.byteLength)).set(C),_.set(T.data,C.byteLength)):_=T.data;P+5<_.length;)if(255===_[P]&&240==(246&_[P+1])){if(w=2*(1&~_[P+1]),S=(3&_[P+3])<<11|_[P+4]<<3|(224&_[P+5])>>5,x=(k=1024*(1+(3&_[P+6])))*Gi/Yi[(60&_[P+2])>>>2],E=P+S,_.byteLength<E)return;if(this.trigger("data",{"pts":T.pts+b*x,"dts":T.dts+b*x,"sampleCount":k,"audioobjecttype":1+(_[P+2]>>>6&3),"channelcount":(1&_[P+2])<<2|(192&_[P+3])>>>6,"samplerate":Yi[(60&_[P+2])>>>2],"samplingfrequencyindex":(60&_[P+2])>>>2,"samplesize":16,"data":_.subarray(P+7+w,E)}),b++,_.byteLength===E)return void(_=void 0);_=_.subarray(E)}else P++},this.flush=function(){b=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}}).prototype=new mn;var Xi,Ki,Qi,$i=qi,Ji=function ExpGolomb(v){var _=v.byteLength,b=0,T=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+T},this.loadWord=function(){var S=v.byteLength-_,w=new Uint8Array(4),E=Math.min(4,_);if(0===E)throw new Error("no bytes available");w.set(v.subarray(S,S+E)),b=new DataView(w.buffer).getUint32(0),T=8*E,_-=E},this.skipBits=function(v){var S;T>v?(b<<=v,T-=v):(v-=T,v-=8*(S=Math.floor(v/8)),_-=S,this.loadWord(),b<<=v,T-=v)},this.readBits=function(v){var S=Math.min(T,v),w=b>>>32-S;return(T-=S)>0?b<<=S:_>0&&this.loadWord(),(S=v-S)>0?w<<S|this.readBits(S):w},this.skipLeadingZeros=function(){var v;for(v=0;v<T;++v)if(0!=(b&2147483648>>>v))return b<<=v,T-=v,v;return this.loadWord(),v+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var v=this.skipLeadingZeros();return this.readBits(v+1)-1},this.readExpGolomb=function(){var v=this.readUnsignedExpGolomb();return 1&v?1+v>>>1:-1*(v>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Ki=function NalByteStream(){var v,_,b=0;Ki.prototype.init.call(this),this.push=function(T){var S;_?((S=new Uint8Array(_.byteLength+T.data.byteLength)).set(_),S.set(T.data,_.byteLength),_=S):_=T.data;for(var w=_.byteLength;b<w-3;b++)if(1===_[b+2]){v=b+5;break}for(;v<w;)switch(_[v]){case 0:if(0!==_[v-1]){v+=2;break}if(0!==_[v-2]){v++;break}b+3!==v-2&&this.trigger("data",_.subarray(b+3,v-2));do{v++}while(1!==_[v]&&v<w);b=v-2,v+=3;break;case 1:if(0!==_[v-1]||0!==_[v-2]){v+=3;break}this.trigger("data",_.subarray(b+3,v-2)),b=v-2,v+=3;break;default:v+=3}_=_.subarray(b),v-=b,b=0},this.reset=function(){_=null,b=0,this.trigger("reset")},this.flush=function(){_&&_.byteLength>3&&this.trigger("data",_.subarray(b+3)),_=null,b=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new mn,Qi={"100":!0,"110":!0,"122":!0,"244":!0,"44":!0,"83":!0,"86":!0,"118":!0,"128":!0,"138":!0,"139":!0,"134":!0},(Xi=function H264Stream(){var v,_,b,T,S,w,E,C=new Ki;Xi.prototype.init.call(this),v=this,this.push=function(v){"video"===v.type&&(_=v.trackId,b=v.pts,T=v.dts,C.push(v))},C.on("data",(function(E){var C={"trackId":_,"pts":b,"dts":T,"data":E};switch(31&E[0]){case 5:C.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:C.nalUnitType="sei_rbsp",C.escapedRBSP=S(E.subarray(1));break;case 7:C.nalUnitType="seq_parameter_set_rbsp",C.escapedRBSP=S(E.subarray(1)),C.config=w(C.escapedRBSP);break;case 8:C.nalUnitType="pic_parameter_set_rbsp";break;case 9:C.nalUnitType="access_unit_delimiter_rbsp"}v.trigger("data",C)})),C.on("done",(function(){v.trigger("done")})),C.on("partialdone",(function(){v.trigger("partialdone")})),C.on("reset",(function(){v.trigger("reset")})),C.on("endedtimeline",(function(){v.trigger("endedtimeline")})),this.flush=function(){C.flush()},this.partialFlush=function(){C.partialFlush()},this.reset=function(){C.reset()},this.endTimeline=function(){C.endTimeline()},E=function skipScalingList(v,_){var b,T=8,S=8;for(b=0;b<v;b++)0!==S&&(S=(T+_.readExpGolomb()+256)%256),T=0===S?T:S},S=function discardEmulationPreventionBytes(v){for(var _,b,T=v.byteLength,S=[],w=1;w<T-2;)0===v[w]&&0===v[w+1]&&3===v[w+2]?(S.push(w+2),w+=2):w++;if(0===S.length)return v;_=T-S.length,b=new Uint8Array(_);var E=0;for(w=0;w<_;E++,w++)E===S[0]&&(E++,S.shift()),b[w]=v[E];return b},w=function readSequenceParameterSet(v){var _,b,T,S,w,C,k,x,P,I,O,L,D,N=0,R=0,B=0,j=0,U=1;if(b=(_=new Ji(v)).readUnsignedByte(),S=_.readUnsignedByte(),T=_.readUnsignedByte(),_.skipUnsignedExpGolomb(),Qi[b]&&(3===(w=_.readUnsignedExpGolomb())&&_.skipBits(1),_.skipUnsignedExpGolomb(),_.skipUnsignedExpGolomb(),_.skipBits(1),_.readBoolean()))for(O=3!==w?8:12,D=0;D<O;D++)_.readBoolean()&&E(D<6?16:64,_);if(_.skipUnsignedExpGolomb(),0===(C=_.readUnsignedExpGolomb()))_.readUnsignedExpGolomb();else if(1===C)for(_.skipBits(1),_.skipExpGolomb(),_.skipExpGolomb(),k=_.readUnsignedExpGolomb(),D=0;D<k;D++)_.skipExpGolomb();if(_.skipUnsignedExpGolomb(),_.skipBits(1),x=_.readUnsignedExpGolomb(),P=_.readUnsignedExpGolomb(),0===(I=_.readBits(1))&&_.skipBits(1),_.skipBits(1),_.readBoolean()&&(N=_.readUnsignedExpGolomb(),R=_.readUnsignedExpGolomb(),B=_.readUnsignedExpGolomb(),j=_.readUnsignedExpGolomb()),_.readBoolean()&&_.readBoolean()){switch(_.readUnsignedByte()){case 1:L=[1,1];break;case 2:L=[12,11];break;case 3:L=[10,11];break;case 4:L=[16,11];break;case 5:L=[40,33];break;case 6:L=[24,11];break;case 7:L=[20,11];break;case 8:L=[32,11];break;case 9:L=[80,33];break;case 10:L=[18,11];break;case 11:L=[15,11];break;case 12:L=[64,33];break;case 13:L=[160,99];break;case 14:L=[4,3];break;case 15:L=[3,2];break;case 16:L=[2,1];break;case 255:L=[_.readUnsignedByte()<<8|_.readUnsignedByte(),_.readUnsignedByte()<<8|_.readUnsignedByte()]}L&&(U=L[0]/L[1])}return{"profileIdc":b,"levelIdc":T,"profileCompatibility":S,"width":Math.ceil((16*(x+1)-2*N-2*R)*U),"height":(2-I)*(P+1)*16-2*B-2*j,"sarRatio":L}}}).prototype=new mn;var Zi,er={"H264Stream":Xi,"NalByteStream":Ki},tr=function parseId3TagSize(v,_){var b=v[_+6]<<21|v[_+7]<<14|v[_+8]<<7|v[_+9];return b=b>=0?b:0,(16&v[_+5])>>4?b+20:b+10},nr=function isLikelyAacData(v){var _=function getId3Offset(v,_){return v.length-_<10||v[_]!=="I".charCodeAt(0)||v[_+1]!=="D".charCodeAt(0)||v[_+2]!=="3".charCodeAt(0)?_:getId3Offset(v,_+=tr(v,_))}(v,0);return v.length>=_+2&&255==(255&v[_])&&240==(240&v[_+1])&&16==(22&v[_+1])},ir=tr,rr=function parseAdtsSize(v,_){var b=(224&v[_+5])>>5,T=v[_+4]<<3;return 6144&v[_+3]|T|b};(Zi=function AacStream(){var v=new Uint8Array,_=0;Zi.prototype.init.call(this),this.setTimestamp=function(v){_=v},this.push=function(b){var T,S,w,E,C=0,k=0;for(v.length?(E=v.length,(v=new Uint8Array(b.byteLength+E)).set(v.subarray(0,E)),v.set(b,E)):v=b;v.length-k>=3;)if(v[k]!=="I".charCodeAt(0)||v[k+1]!=="D".charCodeAt(0)||v[k+2]!=="3".charCodeAt(0))if(255!=(255&v[k])||240!=(240&v[k+1]))k++;else{if(v.length-k<7)break;if(k+(C=rr(v,k))>v.length)break;w={"type":"audio","data":v.subarray(k,k+C),"pts":_,"dts":_},this.trigger("data",w),k+=C}else{if(v.length-k<10)break;if(k+(C=ir(v,k))>v.length)break;S={"type":"timed-metadata","data":v.subarray(k,k+C)},this.trigger("data",S),k+=C}T=v.length-k,v=T>0?v.subarray(k):new Uint8Array},this.reset=function(){v=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){v=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new mn;var ar,or,sr,lr,cr=Zi,ur=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],dr=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],hr=er.H264Stream,pr=nr,fr=Wn,mr=function arrayEquals(v,_){var b;if(v.length!==_.length)return!1;for(b=0;b<v.length;b++)if(v[b]!==_[b])return!1;return!0},gr=function generateSegmentTimingInfo(v,_,b,T,S,w){return{"start":{"dts":v,"pts":v+(b-_)},"end":{"dts":v+(T-_),"pts":v+(S-b)},"prependedContentDuration":w,"baseMediaDecodeTime":v}};(or=function AudioSegmentStream(v,_){var b=[],T=0,S=0,w=0,E=1/0;_=_||{},or.prototype.init.call(this),this.push=function(_){ci(v,_),v&&ur.forEach((function(b){v[b]=_[b]})),b.push(_)},this.setEarliestDts=function(v){S=v},this.setVideoBaseMediaDecodeTime=function(v){E=v},this.setAudioAppendStart=function(v){w=v},this.flush=function(){var C,k,x,P,I,O,L;0!==b.length?(C=ii(b,v,S),v.baseMediaDecodeTime=li(v,_.keepOriginalTimestamps),L=ni(v,C,w,E),v.samples=ri(C),x=kn(ai(C)),b=[],k=xn(T,[v]),P=new Uint8Array(k.byteLength+x.byteLength),T++,P.set(k),P.set(x,k.byteLength),si(v),I=Math.ceil(1024*fr/v.samplerate),C.length&&(O=C.length*I,this.trigger("segmentTimingInfo",gr(Zn(v.baseMediaDecodeTime,v.samplerate),C[0].dts,C[0].pts,C[0].dts+O,C[0].pts+O,L||0)),this.trigger("timingInfo",{"start":C[0].pts,"end":C[0].pts+O})),this.trigger("data",{"track":v,"boxes":P}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){si(v),b=[],this.trigger("reset")}}).prototype=new mn,(ar=function VideoSegmentStream(v,_){var b,T,S=0,w=[],E=[];_=_||{},ar.prototype.init.call(this),delete v.minPTS,this.gopCache_=[],this.push=function(_){ci(v,_),"seq_parameter_set_rbsp"!==_.nalUnitType||b||(b=_.config,v.sps=[_.data],dr.forEach((function(_){v[_]=b[_]}),this)),"pic_parameter_set_rbsp"!==_.nalUnitType||T||(T=_.data,v.pps=[_.data]),w.push(_)},this.flush=function(){for(var b,T,C,k,x,P,I,O,L=0;w.length&&"access_unit_delimiter_rbsp"!==w[0].nalUnitType;)w.shift();if(0===w.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(b=In(w),(C=On(b))[0][0].keyFrame||((T=this.getGopForFusion_(w[0],v))?(L=T.duration,C.unshift(T),C.byteLength+=T.byteLength,C.nalCount+=T.nalCount,C.pts=T.pts,C.dts=T.dts,C.duration+=T.duration):C=Ln(C)),E.length){var D;if(!(D=_.alignGopsAtEnd?this.alignGopsAtEnd_(C):this.alignGopsAtStart_(C)))return this.gopCache_.unshift({"gop":C.pop(),"pps":v.pps,"sps":v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");si(v),C=D}ci(v,C),v.samples=Mn(C),x=kn(Dn(C)),v.baseMediaDecodeTime=li(v,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",C.map((function(v){return{"pts":v.pts,"dts":v.dts,"byteLength":v.byteLength}}))),I=C[0],O=C[C.length-1],this.trigger("segmentTimingInfo",gr(v.baseMediaDecodeTime,I.dts,I.pts,O.dts+O.duration,O.pts+O.duration,L)),this.trigger("timingInfo",{"start":C[0].pts,"end":C[C.length-1].pts+C[C.length-1].duration}),this.gopCache_.unshift({"gop":C.pop(),"pps":v.pps,"sps":v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.trigger("baseMediaDecodeTime",v.baseMediaDecodeTime),this.trigger("timelineStartInfo",v.timelineStartInfo),k=xn(S,[v]),P=new Uint8Array(k.byteLength+x.byteLength),S++,P.set(k),P.set(x,k.byteLength),this.trigger("data",{"track":v,"boxes":P}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),w=[],this.gopCache_.length=0,E.length=0,this.trigger("reset")},this.resetStream_=function(){si(v),b=void 0,T=void 0},this.getGopForFusion_=function(_){var b,T,S,w,E,C=1/0;for(E=0;E<this.gopCache_.length;E++)S=(w=this.gopCache_[E]).gop,v.pps&&mr(v.pps[0],w.pps[0])&&v.sps&&mr(v.sps[0],w.sps[0])&&(S.dts<v.timelineStartInfo.dts||(b=_.dts-S.dts-S.duration)>=-1e4&&b<=45e3&&(!T||C>b)&&(T=w,C=b));return T?T.gop:null},this.alignGopsAtStart_=function(v){var _,b,T,S,w,C,k,x;for(w=v.byteLength,C=v.nalCount,k=v.duration,_=b=0;_<E.length&&b<v.length&&(T=E[_],S=v[b],T.pts!==S.pts);)S.pts>T.pts?_++:(b++,w-=S.byteLength,C-=S.nalCount,k-=S.duration);return 0===b?v:b===v.length?null:((x=v.slice(b)).byteLength=w,x.duration=k,x.nalCount=C,x.pts=x[0].pts,x.dts=x[0].dts,x)},this.alignGopsAtEnd_=function(v){var _,b,T,S,w,C,k;for(_=E.length-1,b=v.length-1,w=null,C=!1;_>=0&&b>=0;){if(T=E[_],S=v[b],T.pts===S.pts){C=!0;break}T.pts>S.pts?_--:(_===E.length-1&&(w=b),b--)}if(!C&&null===w)return null;if(0===(k=C?b:w))return v;var x=v.slice(k),P=x.reduce((function(v,_){return v.byteLength+=_.byteLength,v.duration+=_.duration,v.nalCount+=_.nalCount,v}),{"byteLength":0,"duration":0,"nalCount":0});return x.byteLength=P.byteLength,x.duration=P.duration,x.nalCount=P.nalCount,x.pts=x[0].pts,x.dts=x[0].dts,x},this.alignGopsWith=function(v){E=v}}).prototype=new mn,(lr=function CoalesceStream(v,_){this.numberOfTracks=0,this.metadataStream=_,void 0!==(v=v||{}).remux?this.remuxTracks=!!v.remux:this.remuxTracks=!0,"boolean"==typeof v.keepOriginalTimestamps?this.keepOriginalTimestamps=v.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,lr.prototype.init.call(this),this.push=function(v){return v.text?this.pendingCaptions.push(v):v.frames?this.pendingMetadata.push(v):(this.pendingTracks.push(v.track),this.pendingBytes+=v.boxes.byteLength,"video"===v.track.type&&(this.videoTrack=v.track,this.pendingBoxes.push(v.boxes)),void("audio"===v.track.type&&(this.audioTrack=v.track,this.pendingBoxes.unshift(v.boxes))))}}).prototype=new mn,lr.prototype.flush=function(v){var _,b,T,S,w=0,E={"captions":[],"captionStreams":{},"metadata":[],"info":{}},C=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==v&&"AudioSegmentStream"!==v)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(C=this.videoTrack.timelineStartInfo.pts,dr.forEach((function(v){E.info[v]=this.videoTrack[v]}),this)):this.audioTrack&&(C=this.audioTrack.timelineStartInfo.pts,ur.forEach((function(v){E.info[v]=this.audioTrack[v]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?E.type=this.pendingTracks[0].type:E.type="combined",this.emittedTracks+=this.pendingTracks.length,T=An(this.pendingTracks),E.initSegment=new Uint8Array(T.byteLength),E.initSegment.set(T),E.data=new Uint8Array(this.pendingBytes),S=0;S<this.pendingBoxes.length;S++)E.data.set(this.pendingBoxes[S],w),w+=this.pendingBoxes[S].byteLength;for(S=0;S<this.pendingCaptions.length;S++)(_=this.pendingCaptions[S]).startTime=ti(_.startPts,C,this.keepOriginalTimestamps),_.endTime=ti(_.endPts,C,this.keepOriginalTimestamps),E.captionStreams[_.stream]=!0,E.captions.push(_);for(S=0;S<this.pendingMetadata.length;S++)(b=this.pendingMetadata[S]).cueTime=ti(b.pts,C,this.keepOriginalTimestamps),E.metadata.push(b);for(E.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",E),S=0;S<E.captions.length;S++)_=E.captions[S],this.trigger("caption",_);for(S=0;S<E.metadata.length;S++)b=E.metadata[S],this.trigger("id3Frame",b)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},lr.prototype.setRemux=function(v){this.remuxTracks=v},(sr=function Transmuxer(v){var _,b,T=this,S=!0;sr.prototype.init.call(this),v=v||{},this.baseMediaDecodeTime=v.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="aac",S.metadataStream=new zi.MetadataStream,S.aacStream=new cr,S.audioTimestampRolloverStream=new zi.TimestampRolloverStream("audio"),S.timedMetadataTimestampRolloverStream=new zi.TimestampRolloverStream("timed-metadata"),S.adtsStream=new $i,S.coalesceStream=new lr(v,S.metadataStream),S.headOfPipeline=S.aacStream,S.aacStream.pipe(S.audioTimestampRolloverStream).pipe(S.adtsStream),S.aacStream.pipe(S.timedMetadataTimestampRolloverStream).pipe(S.metadataStream).pipe(S.coalesceStream),S.metadataStream.on("timestamp",(function(v){S.aacStream.setTimestamp(v.timeStamp)})),S.aacStream.on("data",(function(w){"timed-metadata"!==w.type&&"audio"!==w.type||S.audioSegmentStream||(b=b||{"timelineStartInfo":{"baseMediaDecodeTime":T.baseMediaDecodeTime},"codec":"adts","type":"audio"},S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new or(b,v),S.audioSegmentStream.on("timingInfo",T.trigger.bind(T,"audioTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream),T.trigger("trackinfo",{"hasAudio":!!b,"hasVideo":!!_}))})),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="ts",S.metadataStream=new zi.MetadataStream,S.packetStream=new zi.TransportPacketStream,S.parseStream=new zi.TransportParseStream,S.elementaryStream=new zi.ElementaryStream,S.timestampRolloverStream=new zi.TimestampRolloverStream,S.adtsStream=new $i,S.h264Stream=new hr,S.captionStream=new zi.CaptionStream,S.coalesceStream=new lr(v,S.metadataStream),S.headOfPipeline=S.packetStream,S.packetStream.pipe(S.parseStream).pipe(S.elementaryStream).pipe(S.timestampRolloverStream),S.timestampRolloverStream.pipe(S.h264Stream),S.timestampRolloverStream.pipe(S.adtsStream),S.timestampRolloverStream.pipe(S.metadataStream).pipe(S.coalesceStream),S.h264Stream.pipe(S.captionStream).pipe(S.coalesceStream),S.elementaryStream.on("data",(function(w){var E;if("metadata"===w.type){for(E=w.tracks.length;E--;)_||"video"!==w.tracks[E].type?b||"audio"!==w.tracks[E].type||((b=w.tracks[E]).timelineStartInfo.baseMediaDecodeTime=T.baseMediaDecodeTime):(_=w.tracks[E]).timelineStartInfo.baseMediaDecodeTime=T.baseMediaDecodeTime;_&&!S.videoSegmentStream&&(S.coalesceStream.numberOfTracks++,S.videoSegmentStream=new ar(_,v),S.videoSegmentStream.on("timelineStartInfo",(function(_){b&&!v.keepOriginalTimestamps&&(b.timelineStartInfo=_,S.audioSegmentStream.setEarliestDts(_.dts-T.baseMediaDecodeTime))})),S.videoSegmentStream.on("processedGopsInfo",T.trigger.bind(T,"gopInfo")),S.videoSegmentStream.on("segmentTimingInfo",T.trigger.bind(T,"videoSegmentTimingInfo")),S.videoSegmentStream.on("baseMediaDecodeTime",(function(v){b&&S.audioSegmentStream.setVideoBaseMediaDecodeTime(v)})),S.videoSegmentStream.on("timingInfo",T.trigger.bind(T,"videoTimingInfo")),S.h264Stream.pipe(S.videoSegmentStream).pipe(S.coalesceStream)),b&&!S.audioSegmentStream&&(S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new or(b,v),S.audioSegmentStream.on("timingInfo",T.trigger.bind(T,"audioTimingInfo")),S.audioSegmentStream.on("segmentTimingInfo",T.trigger.bind(T,"audioSegmentTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream)),T.trigger("trackinfo",{"hasAudio":!!b,"hasVideo":!!_})}})),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("id3Frame",(function(v){v.dispatchType=S.metadataStream.dispatchType,T.trigger("id3Frame",v)})),S.coalesceStream.on("caption",this.trigger.bind(this,"caption")),S.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(T){var S=this.transmuxPipeline_;v.keepOriginalTimestamps||(this.baseMediaDecodeTime=T),b&&(b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,si(b),S.audioTimestampRolloverStream&&S.audioTimestampRolloverStream.discontinuity()),_&&(S.videoSegmentStream&&(S.videoSegmentStream.gopCache_=[]),_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,si(_),S.captionStream.reset()),S.timestampRolloverStream&&S.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(v){b&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(v)},this.setRemux=function(_){var b=this.transmuxPipeline_;v.remux=_,b&&b.coalesceStream&&b.coalesceStream.setRemux(_)},this.alignGopsWith=function(v){_&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(v)},this.push=function(v){if(S){var _=pr(v);_&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():_||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),S=!1}this.transmuxPipeline_.headOfPipeline.push(v)},this.flush=function(){S=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new mn;var vr={"Transmuxer":sr,"VideoSegmentStream":ar,"AudioSegmentStream":or,"AUDIO_PROPERTIES":ur,"VIDEO_PROPERTIES":dr,"generateSegmentTimingInfo":gr},yr={"Adts":$i,"h264":er},_r=Wn,br=function AudioSegmentStream(v,_){var b=[],T=0,S=0,w=0,E=1/0,C=null,k=null;_=_||{},AudioSegmentStream.prototype.init.call(this),this.push=function(_){ci(v,_),v&&ur.forEach((function(b){v[b]=_[b]})),b.push(_)},this.setEarliestDts=function(v){S=v},this.setVideoBaseMediaDecodeTime=function(v){E=v},this.setAudioAppendStart=function(v){w=v},this.processFrames_=function(){var x,P,I,O,L;0!==b.length&&0!==(x=ii(b,v,S)).length&&(v.baseMediaDecodeTime=li(v,_.keepOriginalTimestamps),ni(v,x,w,E),v.samples=ri(x),I=kn(ai(x)),b=[],P=xn(T,[v]),T++,v.initSegment=An([v]),(O=new Uint8Array(P.byteLength+I.byteLength)).set(P),O.set(I,P.byteLength),si(v),null===C&&(k=C=x[0].pts),k+=x.length*(1024*_r/v.samplerate),L={"start":C},this.trigger("timingInfo",L),this.trigger("data",{"track":v,"boxes":O}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{"start":C,"end":k}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){si(v),C=null,k=null},this.reset=function(){this.resetTiming_(),b=[],this.trigger("reset")}};br.prototype=new mn;var Tr=br,Sr=function VideoSegmentStream(v,_){var b,T,S,w=0,E=[],C=[],k=null,x=null,P=!0;_=_||{},VideoSegmentStream.prototype.init.call(this),this.push=function(_){ci(v,_),void 0===v.timelineStartInfo.dts&&(v.timelineStartInfo.dts=_.dts),"seq_parameter_set_rbsp"!==_.nalUnitType||b||(b=_.config,v.sps=[_.data],dr.forEach((function(_){v[_]=b[_]}),this)),"pic_parameter_set_rbsp"!==_.nalUnitType||T||(T=_.data,v.pps=[_.data]),E.push(_)},this.processNals_=function(b){var T;for(E=C.concat(E);E.length&&"access_unit_delimiter_rbsp"!==E[0].nalUnitType;)E.shift();if(0!==E.length){var I=In(E);if(I.length)if(C=I[I.length-1],b&&(I.pop(),I.duration-=C.duration,I.nalCount-=C.length,I.byteLength-=C.byteLength),I.length){if(this.trigger("timelineStartInfo",v.timelineStartInfo),P){if(!(S=On(I))[0][0].keyFrame){if(!(S=Ln(S))[0][0].keyFrame)return E=[].concat.apply([],I).concat(C),void(C=[]);(I=[].concat.apply([],S)).duration=S.duration}P=!1}for(null===k&&(k=I[0].pts,x=k),x+=I.duration,this.trigger("timingInfo",{"start":k,"end":x}),T=0;T<I.length;T++){var O=I[T];v.samples=Nn(O);var L=kn(Rn(O));si(v),ci(v,O),v.baseMediaDecodeTime=li(v,_.keepOriginalTimestamps);var D=xn(w,[v]);w++,v.initSegment=An([v]);var N=new Uint8Array(D.byteLength+L.byteLength);N.set(D),N.set(L,D.byteLength),this.trigger("data",{"track":v,"boxes":N,"sequence":w,"videoFrameDts":O.dts,"videoFramePts":O.pts})}E=[]}else E=[]}},this.resetTimingAndConfig_=function(){b=void 0,T=void 0,k=null,x=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),C=[],E=[],P=!0,this.trigger("reset")}};Sr.prototype=new mn;var wr=Sr,Er=nr,Cr=function createPipeline(v){return v.prototype=new mn,v.prototype.init.call(v),v},kr=function setupPipelineListeners(v,_){v.on("data",_.trigger.bind(_,"data")),v.on("done",_.trigger.bind(_,"done")),v.on("partialdone",_.trigger.bind(_,"partialdone")),v.on("endedtimeline",_.trigger.bind(_,"endedtimeline")),v.on("audioTimingInfo",_.trigger.bind(_,"audioTimingInfo")),v.on("videoTimingInfo",_.trigger.bind(_,"videoTimingInfo")),v.on("trackinfo",_.trigger.bind(_,"trackinfo")),v.on("id3Frame",(function(b){b.dispatchType=v.metadataStream.dispatchType,b.cueTime=Yn(b.pts),_.trigger("id3Frame",b)})),v.on("caption",(function(v){_.trigger("caption",v)}))},xr=function Transmuxer(v){var _=null,b=!0;v=v||{},Transmuxer.prototype.init.call(this),v.baseMediaDecodeTime=v.baseMediaDecodeTime||0,this.push=function(T){if(b){var S=Er(T);!S||_&&"aac"===_.type?S||_&&"ts"===_.type||(_=function tsPipeline(v){var _={"type":"ts","tracks":{"audio":null,"video":null},"packet":new zi.TransportPacketStream,"parse":new zi.TransportParseStream,"elementary":new zi.ElementaryStream,"timestampRollover":new zi.TimestampRolloverStream,"adts":new yr.Adts,"h264":new yr.h264.H264Stream,"captionStream":new zi.CaptionStream,"metadataStream":new zi.MetadataStream};return _.headOfPipeline=_.packet,_.packet.pipe(_.parse).pipe(_.elementary).pipe(_.timestampRollover),_.timestampRollover.pipe(_.h264),_.h264.pipe(_.captionStream),_.timestampRollover.pipe(_.metadataStream),_.timestampRollover.pipe(_.adts),_.elementary.on("data",(function(b){if("metadata"===b.type){for(var T=0;T<b.tracks.length;T++)_.tracks[b.tracks[T].type]||(_.tracks[b.tracks[T].type]=b.tracks[T],_.tracks[b.tracks[T].type].timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);_.tracks.video&&!_.videoSegmentStream&&(_.videoSegmentStream=new wr(_.tracks.video,v),_.videoSegmentStream.on("timelineStartInfo",(function(b){_.tracks.audio&&!v.keepOriginalTimestamps&&_.audioSegmentStream.setEarliestDts(b.dts-v.baseMediaDecodeTime)})),_.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),_.videoSegmentStream.on("data",(function(v){_.trigger("data",{"type":"video","data":v})})),_.videoSegmentStream.on("done",_.trigger.bind(_,"done")),_.videoSegmentStream.on("partialdone",_.trigger.bind(_,"partialdone")),_.videoSegmentStream.on("endedtimeline",_.trigger.bind(_,"endedtimeline")),_.h264.pipe(_.videoSegmentStream)),_.tracks.audio&&!_.audioSegmentStream&&(_.audioSegmentStream=new Tr(_.tracks.audio,v),_.audioSegmentStream.on("data",(function(v){_.trigger("data",{"type":"audio","data":v})})),_.audioSegmentStream.on("done",_.trigger.bind(_,"done")),_.audioSegmentStream.on("partialdone",_.trigger.bind(_,"partialdone")),_.audioSegmentStream.on("endedtimeline",_.trigger.bind(_,"endedtimeline")),_.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),_.adts.pipe(_.audioSegmentStream)),_.trigger("trackinfo",{"hasAudio":!!_.tracks.audio,"hasVideo":!!_.tracks.video})}})),_.captionStream.on("data",(function(b){var T;T=_.tracks.video&&_.tracks.video.timelineStartInfo.pts||0,b.startTime=ti(b.startPts,T,v.keepOriginalTimestamps),b.endTime=ti(b.endPts,T,v.keepOriginalTimestamps),_.trigger("caption",b)})),(_=Cr(_)).metadataStream.on("data",_.trigger.bind(_,"id3Frame")),_}(v),kr(_,this)):(_=function aacPipeline(v){var _={"type":"aac","tracks":{"audio":null},"metadataStream":new zi.MetadataStream,"aacStream":new cr,"audioRollover":new zi.TimestampRolloverStream("audio"),"timedMetadataRollover":new zi.TimestampRolloverStream("timed-metadata"),"adtsStream":new $i(!0)};return _.headOfPipeline=_.aacStream,_.aacStream.pipe(_.audioRollover).pipe(_.adtsStream),_.aacStream.pipe(_.timedMetadataRollover).pipe(_.metadataStream),_.metadataStream.on("timestamp",(function(v){_.aacStream.setTimestamp(v.timeStamp)})),_.aacStream.on("data",(function(b){"timed-metadata"!==b.type&&"audio"!==b.type||_.audioSegmentStream||(_.tracks.audio=_.tracks.audio||{"timelineStartInfo":{"baseMediaDecodeTime":v.baseMediaDecodeTime},"codec":"adts","type":"audio"},_.audioSegmentStream=new Tr(_.tracks.audio,v),_.audioSegmentStream.on("data",(function(v){_.trigger("data",{"type":"audio","data":v})})),_.audioSegmentStream.on("partialdone",_.trigger.bind(_,"partialdone")),_.audioSegmentStream.on("done",_.trigger.bind(_,"done")),_.audioSegmentStream.on("endedtimeline",_.trigger.bind(_,"endedtimeline")),_.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),_.adtsStream.pipe(_.audioSegmentStream),_.trigger("trackinfo",{"hasAudio":!!_.tracks.audio,"hasVideo":!!_.tracks.video}))})),(_=Cr(_)).metadataStream.on("data",_.trigger.bind(_,"id3Frame")),_}(v),kr(_,this)),b=!1}_.headOfPipeline.push(T)},this.flush=function(){_&&(b=!0,_.headOfPipeline.flush())},this.partialFlush=function(){_&&_.headOfPipeline.partialFlush()},this.endTimeline=function(){_&&_.headOfPipeline.endTimeline()},this.reset=function(){_&&_.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(b){v.keepOriginalTimestamps||(v.baseMediaDecodeTime=b),_&&(_.tracks.audio&&(_.tracks.audio.timelineStartInfo.dts=void 0,_.tracks.audio.timelineStartInfo.pts=void 0,si(_.tracks.audio),_.audioRollover&&_.audioRollover.discontinuity()),_.tracks.video&&(_.videoSegmentStream&&(_.videoSegmentStream.gopCache_=[]),_.tracks.video.timelineStartInfo.dts=void 0,_.tracks.video.timelineStartInfo.pts=void 0,si(_.tracks.video)),_.timestampRollover&&_.timestampRollover.discontinuity())},this.setRemux=function(b){v.remux=b,_&&_.coalesceStream&&_.coalesceStream.setRemux(b)},this.setAudioAppendStart=function(v){_&&_.tracks.audio&&_.audioSegmentStream&&_.audioSegmentStream.setAudioAppendStart(v)},this.alignGopsWith=function(v){}};xr.prototype=new mn;var Ar=xr,Pr=function toUnsigned(v){return v>>>0},Ir=function parseType(v){var _="";return _+=String.fromCharCode(v[0]),_+=String.fromCharCode(v[1]),_+=String.fromCharCode(v[2]),_+=String.fromCharCode(v[3])},Or=Pr,Lr=function findBox(v,_){var b,T,S,w,E,C=[];if(!_.length)return null;for(b=0;b<v.byteLength;)T=Or(v[b]<<24|v[b+1]<<16|v[b+2]<<8|v[b+3]),S=Ir(v.subarray(b+4,b+8)),w=T>1?b+T:v.byteLength,S===_[0]&&(1===_.length?C.push(v.subarray(b+8,w)):(E=findBox(v.subarray(b+8,w),_.slice(1))).length&&(C=C.concat(E))),b=w;return C},Mr=Pr,Dr=function tfdt(v){var _={"version":v[0],"flags":new Uint8Array(v.subarray(1,4)),"baseMediaDecodeTime":Mr(v[4]<<24|v[5]<<16|v[6]<<8|v[7])};return 1===_.version&&(_.baseMediaDecodeTime*=Math.pow(2,32),_.baseMediaDecodeTime+=Mr(v[8]<<24|v[9]<<16|v[10]<<8|v[11])),_},Nr=function parseSampleFlags(v){return{"isLeading":(12&v[0])>>>2,"dependsOn":3&v[0],"isDependedOn":(192&v[1])>>>6,"hasRedundancy":(48&v[1])>>>4,"paddingValue":(14&v[1])>>>1,"isNonSyncSample":1&v[1],"degradationPriority":v[2]<<8|v[3]}},Rr=function trun(v){var _,b={"version":v[0],"flags":new Uint8Array(v.subarray(1,4)),"samples":[]},T=new DataView(v.buffer,v.byteOffset,v.byteLength),S=1&b.flags[2],w=4&b.flags[2],E=1&b.flags[1],C=2&b.flags[1],k=4&b.flags[1],x=8&b.flags[1],P=T.getUint32(4),I=8;for(S&&(b.dataOffset=T.getInt32(I),I+=4),w&&P&&(_={"flags":Nr(v.subarray(I,I+4))},I+=4,E&&(_.duration=T.getUint32(I),I+=4),C&&(_.size=T.getUint32(I),I+=4),x&&(1===b.version?_.compositionTimeOffset=T.getInt32(I):_.compositionTimeOffset=T.getUint32(I),I+=4),b.samples.push(_),P--);P--;)_={},E&&(_.duration=T.getUint32(I),I+=4),C&&(_.size=T.getUint32(I),I+=4),k&&(_.flags=Nr(v.subarray(I,I+4)),I+=4),x&&(1===b.version?_.compositionTimeOffset=T.getInt32(I):_.compositionTimeOffset=T.getUint32(I),I+=4),b.samples.push(_);return b},Br=function tfhd(v){var _,b=new DataView(v.buffer,v.byteOffset,v.byteLength),T={"version":v[0],"flags":new Uint8Array(v.subarray(1,4)),"trackId":b.getUint32(4)},S=1&T.flags[2],w=2&T.flags[2],E=8&T.flags[2],C=16&T.flags[2],k=32&T.flags[2],x=65536&T.flags[0],P=131072&T.flags[0];return _=8,S&&(_+=4,T.baseDataOffset=b.getUint32(12),_+=4),w&&(T.sampleDescriptionIndex=b.getUint32(_),_+=4),E&&(T.defaultSampleDuration=b.getUint32(_),_+=4),C&&(T.defaultSampleSize=b.getUint32(_),_+=4),k&&(T.defaultSampleFlags=b.getUint32(_)),x&&(T.durationIsEmpty=!0),!S&&P&&(T.baseDataOffsetIsMoof=!0),T},jr=pi,Ur=ki.CaptionStream,Fr=function mapToSample(v,_){for(var b=v,T=0;T<_.length;T++){var S=_[T];if(b<S.size)return S;b-=S.size}return null},Vr=function parseCaptionNals(v,_){var b=Lr(v,["moof","traf"]),T=Lr(v,["mdat"]),S={},w=[];return T.forEach((function(v,_){var T=b[_];w.push({"mdat":v,"traf":T})})),w.forEach((function(v){var b,T=v.mdat,w=v.traf,E=Lr(w,["tfhd"]),C=Br(E[0]),k=C.trackId,x=Lr(w,["tfdt"]),P=x.length>0?Dr(x[0]).baseMediaDecodeTime:0,I=Lr(w,["trun"]);_===k&&I.length>0&&(b=function findSeiNals(v,_,b){var T,S,w,E,C=new DataView(v.buffer,v.byteOffset,v.byteLength),k=[];for(S=0;S+4<v.length;S+=w)if(w=C.getUint32(S),S+=4,!(w<=0))switch(31&v[S]){case 6:var x=v.subarray(S+1,S+1+w),P=Fr(S,_);if(T={"nalUnitType":"sei_rbsp","size":w,"data":x,"escapedRBSP":jr(x),"trackId":b},P)T.pts=P.pts,T.dts=P.dts,E=P;else{if(!E){console.log("We've encountered a nal unit without data. See mux.js#233.");break}T.pts=E.pts,T.dts=E.dts}k.push(T)}return k}(T,function parseSamples(v,_,b){var T=_,S=b.defaultSampleDuration||0,w=b.defaultSampleSize||0,E=b.trackId,C=[];return v.forEach((function(v){var _=Rr(v).samples;_.forEach((function(v){void 0===v.duration&&(v.duration=S),void 0===v.size&&(v.size=w),v.trackId=E,v.dts=T,void 0===v.compositionTimeOffset&&(v.compositionTimeOffset=0),v.pts=T+v.compositionTimeOffset,T+=v.duration})),C=C.concat(_)})),C}(I,P,C),k),S[k]||(S[k]=[]),S[k]=S[k].concat(b))})),S},Hr=function CaptionParser(){var v,_,b,T,S,w,E=!1;this.isInitialized=function(){return E},this.init=function(_){v=new Ur,E=!0,w=!!_&&_.isPartial,v.on("data",(function(v){v.startTime=v.startPts/T,v.endTime=v.endPts/T,S.captions.push(v),S.captionStreams[v.stream]=!0}))},this.isNewInit=function(v,_){return!(v&&0===v.length||_&&"object"==typeof _&&0===Object.keys(_).length)&&(b!==v[0]||T!==_[b])},this.parse=function(v,w,E){var C;if(!this.isInitialized())return null;if(!w||!E)return null;if(this.isNewInit(w,E))b=w[0],T=E[b];else if(null===b||!T)return _.push(v),null;for(;_.length>0;){var k=_.shift();this.parse(k,w,E)}return null!==(C=function parseEmbeddedCaptions(v,_,b){return null===_?null:{"seiNals":Vr(v,_)[_],"timescale":b}}(v,b,T))&&C.seiNals?(this.pushNals(C.seiNals),this.flushStream(),S):null},this.pushNals=function(_){if(!this.isInitialized()||!_||0===_.length)return null;_.forEach((function(_){v.push(_)}))},this.flushStream=function(){if(!this.isInitialized())return null;w?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){S.captions=[],S.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){_=[],b=null,T=null,S?this.clearParsedCaptions():S={"captions":[],"captionStreams":{}},this.resetCaptionStream()},this.reset()},Wr=function typeFromStreamString(v){return"AudioSegmentStream"===v?"audio":"VideoSegmentStream"===v?"video":""},qr=function(){function MessageHandlers(v,_){this.options=_||{},this.self=v,this.init()}var v=MessageHandlers.prototype;return v.init=function init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Ar(this.options):new vr.Transmuxer(this.options),this.options.handlePartialData?function wirePartialTransmuxerEvents(v,_){_.on("data",(function(_){var b={"data":_.data.track.initSegment.buffer,"byteOffset":_.data.track.initSegment.byteOffset,"byteLength":_.data.track.initSegment.byteLength},T={"boxes":{"data":_.data.boxes.buffer,"byteOffset":_.data.boxes.byteOffset,"byteLength":_.data.boxes.byteLength},"initSegment":b,"type":_.type,"sequence":_.data.sequence};void 0!==_.data.videoFrameDts&&(T.videoFrameDtsTime=Yn(_.data.videoFrameDts)),void 0!==_.data.videoFramePts&&(T.videoFramePtsTime=Yn(_.data.videoFramePts)),v.postMessage({"action":"data","segment":T},[T.boxes.data,T.initSegment.data])})),_.on("id3Frame",(function(_){v.postMessage({"action":"id3Frame","id3Frame":_})})),_.on("caption",(function(_){v.postMessage({"action":"caption","caption":_})})),_.on("done",(function(_){v.postMessage({"action":"done","type":Wr(_)})})),_.on("partialdone",(function(_){v.postMessage({"action":"partialdone","type":Wr(_)})})),_.on("endedsegment",(function(_){v.postMessage({"action":"endedSegment","type":Wr(_)})})),_.on("trackinfo",(function(_){v.postMessage({"action":"trackinfo","trackInfo":_})})),_.on("audioTimingInfo",(function(_){if(null!==_.start){var b={"start":Yn(_.start)};_.end&&(b.end=Yn(_.end)),v.postMessage({"action":"audioTimingInfo","audioTimingInfo":b})}else v.postMessage({"action":"audioTimingInfo","audioTimingInfo":_})})),_.on("videoTimingInfo",(function(_){var b={"start":Yn(_.start)};_.end&&(b.end=Yn(_.end)),v.postMessage({"action":"videoTimingInfo","videoTimingInfo":b})}))}(this.self,this.transmuxer):function wireFullTransmuxerEvents(v,_){_.on("data",(function(_){var b=_.initSegment;_.initSegment={"data":b.buffer,"byteOffset":b.byteOffset,"byteLength":b.byteLength};var T=_.data;_.data=T.buffer,v.postMessage({"action":"data","segment":_,"byteOffset":T.byteOffset,"byteLength":T.byteLength},[_.data])})),_.on("done",(function(_){v.postMessage({"action":"done"})})),_.on("gopInfo",(function(_){v.postMessage({"action":"gopInfo","gopInfo":_})})),_.on("videoSegmentTimingInfo",(function(_){var b={"start":{"decode":Yn(_.start.dts),"presentation":Yn(_.start.pts)},"end":{"decode":Yn(_.end.dts),"presentation":Yn(_.end.pts)},"baseMediaDecodeTime":Yn(_.baseMediaDecodeTime)};_.prependedContentDuration&&(b.prependedContentDuration=Yn(_.prependedContentDuration)),v.postMessage({"action":"videoSegmentTimingInfo","videoSegmentTimingInfo":b})})),_.on("audioSegmentTimingInfo",(function(_){var b={"start":{"decode":Yn(_.start.dts),"presentation":Yn(_.start.pts)},"end":{"decode":Yn(_.end.dts),"presentation":Yn(_.end.pts)},"baseMediaDecodeTime":Yn(_.baseMediaDecodeTime)};_.prependedContentDuration&&(b.prependedContentDuration=Yn(_.prependedContentDuration)),v.postMessage({"action":"audioSegmentTimingInfo","audioSegmentTimingInfo":b})})),_.on("id3Frame",(function(_){v.postMessage({"action":"id3Frame","id3Frame":_})})),_.on("caption",(function(_){v.postMessage({"action":"caption","caption":_})})),_.on("trackinfo",(function(_){v.postMessage({"action":"trackinfo","trackInfo":_})})),_.on("audioTimingInfo",(function(_){v.postMessage({"action":"audioTimingInfo","audioTimingInfo":{"start":Yn(_.start),"end":Yn(_.end)}})})),_.on("videoTimingInfo",(function(_){v.postMessage({"action":"videoTimingInfo","videoTimingInfo":{"start":Yn(_.start),"end":Yn(_.end)}})}))}(this.self,this.transmuxer)},v.pushMp4Captions=function pushMp4Captions(v){this.captionParser||(this.captionParser=new Hr,this.captionParser.init());var _=new Uint8Array(v.data,v.byteOffset,v.byteLength),b=this.captionParser.parse(_,v.trackIds,v.timescales);this.self.postMessage({"action":"mp4Captions","captions":b&&b.captions||[],"data":_.buffer},[_.buffer])},v.clearAllMp4Captions=function clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()},v.clearParsedMp4Captions=function clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()},v.push=function push(v){var _=new Uint8Array(v.data,v.byteOffset,v.byteLength);this.transmuxer.push(_)},v.reset=function reset(){this.transmuxer.reset()},v.setTimestampOffset=function setTimestampOffset(v){var _=v.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(zn(_)))},v.setAudioAppendStart=function setAudioAppendStart(v){this.transmuxer.setAudioAppendStart(Math.ceil(zn(v.appendStart)))},v.setRemux=function setRemux(v){this.transmuxer.setRemux(v.remux)},v.flush=function flush(v){this.transmuxer.flush(),b.postMessage({"action":"done","type":"transmuxed"})},v.partialFlush=function partialFlush(v){this.transmuxer.partialFlush(),b.postMessage({"action":"partialdone","type":"transmuxed"})},v.endTimeline=function endTimeline(){this.transmuxer.endTimeline(),b.postMessage({"action":"endedtimeline","type":"transmuxed"})},v.alignGopsWith=function alignGopsWith(v){this.transmuxer.alignGopsWith(v.gopsToAlignWith.slice())},MessageHandlers}();new function TransmuxerWorker(v){v.onmessage=function(_){"init"===_.data.action&&_.data.options?this.messageHandlers=new qr(v,_.data.options):(this.messageHandlers||(this.messageHandlers=new qr(v)),_.data&&_.data.action&&"init"!==_.data.action&&this.messageHandlers[_.data.action]&&this.messageHandlers[_.data.action](_.data))}}(b)}()})),bc=function isMaat(v,_){var b=_.attributes||{};return v&&v.mediaGroups&&v.mediaGroups.AUDIO&&b.AUDIO&&v.mediaGroups.AUDIO[b.AUDIO]},Tc=function codecsForPlaylist(v,_){var b=_.attributes||{},T=function getCodecs(v){var _=v.attributes||{};if(_.CODECS)return Object(yi.parseCodecs)(_.CODECS)}(_)||{};if(bc(v,_)&&!T.audio&&!function isMuxed(v,_){if(!bc(v,_))return!0;var b=_.attributes||{},T=v.mediaGroups.AUDIO[b.AUDIO];for(var S in T)if(!T[S].uri&&!T[S].playlists)return!0;return!1}(v,_)){var S=Object(yi.codecsFromDefault)(v,b.AUDIO);S&&(T.audio=S.audio)}var w={};return T.video&&(w.video=Object(yi.translateLegacyCodec)(""+T.video.type+T.video.details)),T.audio&&(w.audio=Object(yi.translateLegacyCodec)(""+T.audio.type+T.audio.details)),T.text&&(w.text=T.text.type),T.unknown&&(w.unknown=T.unknown),w},Sc=function logger(v){return videojs$1.log.debug?videojs$1.log.debug.bind(videojs$1,"VHS:",v+" >"):function(){}},wc=Sc("PlaylistSelector"),Ec=function representationToString(v){if(v&&v.playlist){var _=v.playlist;return JSON.stringify({"id":_.id,"bandwidth":v.bandwidth,"width":v.width,"height":v.height,"codecs":_.attributes&&_.attributes.CODECS||""})}},Cc=function safeGetComputedStyle(v,_){if(!v)return"";var b=S.a.getComputedStyle(v);return b?b[_]:""},kc=function stableSort(v,_){var b=v.slice();v.sort((function(v,T){var S=_(v,T);return 0===S?b.indexOf(v)-b.indexOf(T):S}))},xc=function comparePlaylistBandwidth(v,_){var b,T;return v.attributes.BANDWIDTH&&(b=v.attributes.BANDWIDTH),b=b||S.a.Number.MAX_VALUE,_.attributes.BANDWIDTH&&(T=_.attributes.BANDWIDTH),b-(T=T||S.a.Number.MAX_VALUE)},Ac=function simpleSelector(v,_,b,T,w){if(v){var E={"bandwidth":_,"width":b,"height":T,"limitRenditionByPlayerDimensions":w},C=v.playlists.map((function(v){var _=v.attributes.RESOLUTION&&v.attributes.RESOLUTION.width,b=v.attributes.RESOLUTION&&v.attributes.RESOLUTION.height;return{"bandwidth":v.attributes.BANDWIDTH||S.a.Number.MAX_VALUE,"width":_,"height":b,"playlist":v}}));kc(C,(function(v,_){return v.bandwidth-_.bandwidth}));var k=(C=C.filter((function(v){return!Tl.isIncompatible(v.playlist)}))).filter((function(v){return Tl.isEnabled(v.playlist)}));k.length||(k=C.filter((function(v){return!Tl.isDisabled(v.playlist)})));var x=k.filter((function(v){return v.bandwidth*ql.BANDWIDTH_VARIANCE<_})),P=x[x.length-1],I=x.filter((function(v){return v.bandwidth===P.bandwidth}))[0];if(!1===w){var O=I||k[0]||C[0];if(O&&O.playlist){var L="sortedPlaylistReps";return I&&(L="bandwidthBestRep"),k[0]&&(L="enabledPlaylistReps"),wc("choosing "+Ec(O)+" using "+L+" with options",E),O.playlist}return wc("could not choose a playlist with options",E),null}var D=x.filter((function(v){return v.width&&v.height}));kc(D,(function(v,_){return v.width-_.width}));var N=D.filter((function(v){return v.width===b&&v.height===T}));P=N[N.length-1];var R,B,j,U=N.filter((function(v){return v.bandwidth===P.bandwidth}))[0];U||(B=(R=D.filter((function(v){return v.width>b||v.height>T}))).filter((function(v){return v.width===R[0].width&&v.height===R[0].height})),P=B[B.length-1],j=B.filter((function(v){return v.bandwidth===P.bandwidth}))[0]);var V=j||U||I||k[0]||C[0];if(V&&V.playlist){var H="sortedPlaylistReps";return j?H="resolutionPlusOneRep":U?H="resolutionBestRep":I?H="bandwidthBestRep":k[0]&&(H="enabledPlaylistReps"),wc("choosing "+Ec(V)+" using "+H+" with options",E),V.playlist}return wc("could not choose a playlist with options",E),null}},Pc=function lastBandwidthSelector(){var v=this.useDevicePixelRatio&&S.a.devicePixelRatio||1;return Ac(this.playlists.master,this.systemBandwidth,parseInt(Cc(this.tech_.el(),"width"),10)*v,parseInt(Cc(this.tech_.el(),"height"),10)*v,this.limitRenditionByPlayerDimensions)},Ic=function addMetadata(v){var _=v.inbandTextTracks,b=v.metadataArray,T=v.timestampOffset,w=v.videoDuration;if(b){var E=S.a.WebKitDataCue||S.a.VTTCue,C=_.metadataTrack_;if(C&&(b.forEach((function(v){var _=v.cueTime+T;!("number"!=typeof _||S.a.isNaN(_)||_<0)&&_<1/0&&v.frames.forEach((function(v){var b=new E(_,_,v.value||v.url||v.data||"");b.frame=v,b.value=v,function deprecateOldCue(v){Object.defineProperties(v.frame,{"id":{"get":function get(){return videojs$1.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),v.value.key}},"value":{"get":function get(){return videojs$1.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),v.value.data}},"privateData":{"get":function get(){return videojs$1.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),v.value.data}}})}(b),C.addCue(b)}))})),C.cues&&C.cues.length)){for(var k=C.cues,x=[],P=0;P<k.length;P++)k[P]&&x.push(k[P]);var I=x.reduce((function(v,_){var b=v[_.startTime]||[];return b.push(_),v[_.startTime]=b,v}),{}),O=Object.keys(I).sort((function(v,_){return Number(v)-Number(_)}));O.forEach((function(v,_){var b=I[v],T=Number(O[_+1])||w;b.forEach((function(v){v.endTime=T}))}))}}},Oc=function removeCuesFromTrack(v,_,b){var T,S;if(b&&b.cues)for(T=b.cues.length;T--;)(S=b.cues[T]).startTime>=v&&S.endTime<=_&&b.removeCue(S)},Lc=function finite(v){return"number"==typeof v&&isFinite(v)},Mc=function timingInfoPropertyForMedia(v){return v+"TimingInfo"},Dc=function timestampOffsetForSegment(v){var _=v.segmentTimeline,b=v.currentTimeline,T=v.startOfSegment,S=v.buffered;return v.overrideCheck||_!==b?_<b?T:S.length?S.end(S.length-1):T:null},Nc=function shouldWaitForTimelineChange(v){var _=v.timelineChangeController,b=v.currentTimeline,T=v.segmentTimeline,S=v.loaderType,w=v.audioDisabled;if(b===T)return!1;if("audio"===S){var E=_.lastTimelineChange({"type":"main"});return!E||E.to!==T}if("main"===S&&w){var C=_.pendingTimelineChange({"type":"audio"});return!C||C.to!==T}return!1},Rc=function segmentTooLong(v){var _=v.segmentDuration,b=v.maxDuration;return!!_&&Math.round(_)>b+1/30},Bc=function getTroublesomeSegmentDurationMessage(v,_){if("hls"!==_)return null;var b=function mediaDuration(v,_){var b=v&&"number"==typeof v.start&&"number"==typeof v.end?v.end-v.start:0,T=_&&"number"==typeof _.start&&"number"==typeof _.end?_.end-_.start:0;return Math.max(b,T)}(v.audioTimingInfo,v.videoTimingInfo);if(!b)return null;var T=v.playlist.targetDuration,S=Rc({"segmentDuration":b,"maxDuration":2*T}),w=Rc({"segmentDuration":b,"maxDuration":T}),E="Segment with index "+v.mediaIndex+" from playlist "+v.playlist.id+" has a duration of "+b+" when the reported duration is "+v.duration+" and the target duration is "+T+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return S||w?{"severity":S?"warn":"info","message":E}:null},jc=function(v){function SegmentLoader(_,b){var T;if(T=v.call(this)||this,!_)throw new TypeError("Initialization settings are required");if("function"!=typeof _.currentTime)throw new TypeError("No currentTime getter specified");if(!_.mediaSource)throw new TypeError("No MediaSource specified");return T.bandwidth=_.bandwidth,T.throughput={"rate":0,"count":0},T.roundTrip=NaN,T.resetStats_(),T.mediaIndex=null,T.hasPlayed_=_.hasPlayed,T.currentTime_=_.currentTime,T.seekable_=_.seekable,T.seeking_=_.seeking,T.duration_=_.duration,T.mediaSource_=_.mediaSource,T.vhs_=_.vhs,T.loaderType_=_.loaderType,T.currentMediaInfo_=void 0,T.startingMediaInfo_=void 0,T.segmentMetadataTrack_=_.segmentMetadataTrack,T.goalBufferLength_=_.goalBufferLength,T.sourceType_=_.sourceType,T.sourceUpdater_=_.sourceUpdater,T.inbandTextTracks_=_.inbandTextTracks,T.state_="INIT",T.handlePartialData_=_.handlePartialData,T.timelineChangeController_=_.timelineChangeController,T.shouldSaveSegmentTimingInfo_=!0,T.checkBufferTimeout_=null,T.error_=void 0,T.currentTimeline_=-1,T.pendingSegment_=null,T.xhrOptions_=null,T.pendingSegments_=[],T.audioDisabled_=!1,T.isPendingTimestampOffset_=!1,T.gopBuffer_=[],T.timeMapping_=0,T.safeAppend_=videojs$1.browser.IE_VERSION>=11,T.appendInitSegment_={"audio":!0,"video":!0},T.playlistOfLastInitSegment_={"audio":null,"video":null},T.callQueue_=[],T.loadQueue_=[],T.metadataQueue_={"id3":[],"caption":[]},T.activeInitSegmentId_=null,T.initSegments_={},T.cacheEncryptionKeys_=_.cacheEncryptionKeys,T.keyCache_={},T.decrypter_=_.decrypter,T.syncController_=_.syncController,T.syncPoint_={"segmentIndex":0,"time":0},T.transmuxer_=T.createTransmuxer_(),T.triggerSyncInfoUpdate_=function(){return T.trigger("syncinfoupdate")},T.syncController_.on("syncinfoupdate",T.triggerSyncInfoUpdate_),T.mediaSource_.addEventListener("sourceopen",(function(){T.isEndOfStream_()||(T.ended_=!1)})),T.fetchAtBuffer_=!1,T.logger_=Sc("SegmentLoader["+T.loaderType_+"]"),Object.defineProperty(P()(T),"state",{"get":function get(){return this.state_},"set":function set(v){v!==this.state_&&(this.logger_(this.state_+" -> "+v),this.state_=v,this.trigger("statechange"))}}),T.sourceUpdater_.on("ready",(function(){T.hasEnoughInfoToAppend_()&&T.processCallQueue_()})),"main"===T.loaderType_&&T.timelineChangeController_.on("pendingtimelinechange",(function(){T.hasEnoughInfoToAppend_()&&T.processCallQueue_()})),"audio"===T.loaderType_&&T.timelineChangeController_.on("timelinechange",(function(){T.hasEnoughInfoToLoad_()&&T.processLoadQueue_(),T.hasEnoughInfoToAppend_()&&T.processCallQueue_()})),T}O()(SegmentLoader,v);var _=SegmentLoader.prototype;return _.createTransmuxer_=function createTransmuxer_(){var v=new _c;return v.postMessage({"action":"init","options":{"remux":!1,"alignGopsAtEnd":this.safeAppend_,"keepOriginalTimestamps":!0,"handlePartialData":this.handlePartialData_}}),v},_.resetStats_=function resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},_.dispose=function dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&(this.transmuxer_.terminate(),Zl()),this.resetStats_(),this.checkBufferTimeout_&&S.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},_.setAudio=function setAudio(v){this.audioDisabled_=!v,v?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},_.abort=function abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},_.abort_=function abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_)},_.checkForAbort_=function checkForAbort_(v){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==v:(this.state="READY",!0)},_.error=function error(v){return void 0!==v&&(this.logger_("error occurred:",v),this.error_=v),this.pendingSegment_=null,this.error_},_.endOfStream=function endOfStream(){this.ended_=!0,this.transmuxer_&&Jl(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},_.buffered_=function buffered_(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return videojs$1.createTimeRanges();if("main"===this.loaderType_){var v=this.startingMediaInfo_,_=v.hasAudio,b=v.hasVideo,T=v.isMuxed;if(b&&_&&!this.audioDisabled_&&!T)return this.sourceUpdater_.buffered();if(b)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},_.initSegmentForMap=function initSegmentForMap(v,_){if(void 0===_&&(_=!1),!v)return null;var b=Ol(v),T=this.initSegments_[b];return _&&!T&&v.bytes&&(this.initSegments_[b]=T={"resolvedUri":v.resolvedUri,"byterange":v.byterange,"bytes":v.bytes,"tracks":v.tracks,"timescales":v.timescales}),T||v},_.segmentKey=function segmentKey(v,_){if(void 0===_&&(_=!1),!v)return null;var b=Ll(v),T=this.keyCache_[b];this.cacheEncryptionKeys_&&_&&!T&&v.bytes&&(this.keyCache_[b]=T={"resolvedUri":v.resolvedUri,"bytes":v.bytes});var S={"resolvedUri":(T||v).resolvedUri};return T&&(S.bytes=T.bytes),S},_.couldBeginLoading_=function couldBeginLoading_(){return this.playlist_&&!this.paused()},_.load=function load(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},_.init_=function init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},_.playlist=function playlist(v,_){if(void 0===_&&(_={}),v){var b=this.playlist_,T=this.pendingSegment_;this.playlist_=v,this.xhrOptions_=_,"INIT"===this.state&&(v.syncInfo={"mediaSequence":v.mediaSequence,"time":0});var S=null;if(b&&(b.id?S=b.id:b.uri&&(S=b.uri)),this.logger_("playlist update ["+S+" => "+(v.id||v.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!b||b.uri!==v.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var w=v.mediaSequence-b.mediaSequence;this.logger_("live window shift ["+w+"]"),null!==this.mediaIndex&&(this.mediaIndex-=w),T&&(T.mediaIndex-=w,T.mediaIndex>=0&&(T.segment=v.segments[T.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(b,v)}},_.pause=function pause(){this.checkBufferTimeout_&&(S.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},_.paused=function paused(){return null===this.checkBufferTimeout_},_.resetEverything=function resetEverything(v){this.ended_=!1,this.appendInitSegment_={"audio":!0,"video":!0},this.resetLoader(),this.remove(0,1/0,v),this.transmuxer_&&this.transmuxer_.postMessage({"action":"clearAllMp4Captions"})},_.resetLoader=function resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()},_.resyncLoader=function resyncLoader(){this.transmuxer_&&Jl(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({"action":"clearParsedMp4Captions"})},_.remove=function remove(v,_,b){if(void 0===b&&(b=function done(){}),_===1/0&&(_=this.duration_()),this.sourceUpdater_&&this.currentMediaInfo_){var T=1,S=function removeFinished(){0===--T&&b()};for(var w in this.audioDisabled_||(T++,this.sourceUpdater_.removeAudio(v,_,S)),"main"===this.loaderType_&&this.currentMediaInfo_&&this.currentMediaInfo_.hasVideo&&(this.gopBuffer_=function removeGopBuffer(v,_,b,T){for(var S=Math.ceil((_-T)*mi.ONE_SECOND_IN_TS),w=Math.ceil((b-T)*mi.ONE_SECOND_IN_TS),E=v.slice(),C=v.length;C--&&!(v[C].pts<=w););if(-1===C)return E;for(var k=C+1;k--&&!(v[k].pts<=S););return k=Math.max(k,0),E.splice(k,C-k+1),E}(this.gopBuffer_,v,_,this.timeMapping_),T++,this.sourceUpdater_.removeVideo(v,_,S)),this.inbandTextTracks_)Oc(v,_,this.inbandTextTracks_[w]);Oc(v,_,this.segmentMetadataTrack_),S()}},_.monitorBuffer_=function monitorBuffer_(){this.checkBufferTimeout_&&S.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=S.a.setTimeout(this.monitorBufferTick_.bind(this),1)},_.monitorBufferTick_=function monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&S.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=S.a.setTimeout(this.monitorBufferTick_.bind(this),500)},_.fillBuffer_=function fillBuffer_(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var v=this.buffered_(),_=this.checkBuffer_(v,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);_&&(_.timestampOffset=Dc({"segmentTimeline":_.timeline,"currentTimeline":this.currentTimeline_,"startOfSegment":_.startOfSegment,"buffered":v,"overrideCheck":this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof _.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({"type":this.loaderType_,"from":this.currentTimeline_,"to":_.timeline}),this.loadSegment_(_))}},_.isEndOfStream_=function isEndOfStream_(v,_){if(void 0===v&&(v=this.mediaIndex),void 0===_&&(_=this.playlist_),!_||!this.mediaSource_)return!1;var b=v+1===_.segments.length;return _.endList&&"open"===this.mediaSource_.readyState&&b},_.checkBuffer_=function checkBuffer_(v,_,b,T,S,w){var E=0;v.length&&(E=v.end(v.length-1));var C=Math.max(0,E-S);if(!_.segments.length)return null;if(C>=this.goalBufferLength_())return null;if(!T&&C>=1)return null;var k,x=null,P=!1;if(null===w)x=this.getSyncSegmentCandidate_(_),P=!0;else if(null!==b){var I=_.segments[b];k=I&&I.end?I.end:E,x=b+1}else if(this.fetchAtBuffer_){var O=Tl.getMediaInfoForTime(_,E,w.segmentIndex,w.time);x=O.mediaIndex,k=O.startTime}else{var L=Tl.getMediaInfoForTime(_,S,w.segmentIndex,w.time);x=L.mediaIndex,k=L.startTime}var D=this.generateSegmentInfo_(_,x,k,P);return!D||this.mediaSource_&&this.playlist_&&D.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+D.uri,{"segmentInfo":D,"playlist":_,"currentMediaIndex":b,"nextMediaIndex":x,"startOfSegment":k,"isSyncRequest":P}),D)},_.getSyncSegmentCandidate_=function getSyncSegmentCandidate_(v){var _=this;if(-1===this.currentTimeline_)return 0;var b=v.segments.map((function(v,_){return{"timeline":v.timeline,"segmentIndex":_}})).filter((function(v){return v.timeline===_.currentTimeline_}));return b.length?b[Math.min(b.length-1,1)].segmentIndex:Math.max(v.segments.length-1,0)},_.generateSegmentInfo_=function generateSegmentInfo_(v,_,b,T){if(_<0||_>=v.segments.length)return null;var S,w,E=v.segments[_],C=this.sourceUpdater_.audioBuffered(),k=this.sourceUpdater_.videoBuffered();return C.length&&(S=C.end(C.length-1)-this.sourceUpdater_.audioTimestampOffset()),k.length&&(w=function gopsSafeToAlignWith(v,_,b){if(null==_||!v.length)return[];var T,S=Math.ceil((_-b+3)*mi.ONE_SECOND_IN_TS);for(T=0;T<v.length&&!(v[T].pts>S);T++);return v.slice(T)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{"requestId":"segment-loader-"+Math.random(),"uri":E.resolvedUri,"mediaIndex":_,"isSyncRequest":T,"startOfSegment":b,"playlist":v,"bytes":null,"encryptedBytes":null,"timestampOffset":null,"timeline":E.timeline,"duration":E.duration,"segment":E,"byteLength":0,"transmuxer":this.transmuxer_,"audioAppendStart":S,"gopsToAlignWith":w}},_.earlyAbortWhenNeeded_=function earlyAbortWhenNeeded_(v){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(v.firstBytesReceivedAt||Date.now())<1e3)){var _=this.currentTime_(),b=v.bandwidth,T=this.pendingSegment_.duration,S=Tl.estimateSegmentRequestTime(T,b,this.playlist_,v.bytesReceived),w=function timeUntilRebuffer(v,_,b){return void 0===b&&(b=1),((v.length?v.end(v.length-1):0)-_)/b}(this.buffered_(),_,this.vhs_.tech_.playbackRate())-1;if(!(S<=w)){var E=function minRebufferMaxBandwidthSelector(v){var _=v.master,b=v.currentTime,T=v.bandwidth,S=v.duration,w=v.segmentDuration,E=v.timeUntilRebuffer,C=v.currentTimeline,k=v.syncController,x=_.playlists.filter((function(v){return!Tl.isIncompatible(v)})),P=x.filter(Tl.isEnabled);P.length||(P=x.filter((function(v){return!Tl.isDisabled(v)})));var I=P.filter(Tl.hasAttribute.bind(null,"BANDWIDTH")).map((function(v){var _=k.getSyncPoint(v,S,C,b)?1:2;return{"playlist":v,"rebufferingImpact":Tl.estimateSegmentRequestTime(w,T,v)*_-E}})),O=I.filter((function(v){return v.rebufferingImpact<=0}));return kc(O,(function(v,_){return xc(_.playlist,v.playlist)})),O.length?O[0]:(kc(I,(function(v,_){return v.rebufferingImpact-_.rebufferingImpact})),I[0]||null)}({"master":this.vhs_.playlists.master,"currentTime":_,"bandwidth":b,"duration":this.duration_(),"segmentDuration":T,"timeUntilRebuffer":w,"currentTimeline":this.currentTimeline_,"syncController":this.syncController_});if(E){var C=S-w-E.rebufferingImpact,k=.5;w<=1/30&&(k=1),!E.playlist||E.playlist.uri===this.playlist_.uri||C<k||(this.bandwidth=E.playlist.attributes.BANDWIDTH*ql.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},_.handleAbort_=function handleAbort_(){this.mediaRequestsAborted+=1},_.handleProgress_=function handleProgress_(v,_){this.earlyAbortWhenNeeded_(_.stats),this.checkForAbort_(_.requestId)||this.trigger("progress")},_.handleTrackInfo_=function handleTrackInfo_(v,_){this.earlyAbortWhenNeeded_(v.stats),this.checkForAbort_(v.requestId)||this.checkForIllegalMediaSwitch(_)||(_=_||{},function shallowEqual(v,_){if(!v&&!_||!v&&_||v&&!_)return!1;if(v===_)return!0;var b=Object.keys(v).sort(),T=Object.keys(_).sort();if(b.length!==T.length)return!1;for(var S=0;S<b.length;S++){var w=b[S];if(w!==T[S])return!1;if(v[w]!==_[w])return!1}return!0}(this.currentMediaInfo_,_)||(this.appendInitSegment_={"audio":!0,"video":!0},this.startingMediaInfo_=_,this.currentMediaInfo_=_,this.logger_("trackinfo update",_),this.trigger("trackinfo")),this.checkForAbort_(v.requestId)||(this.pendingSegment_.trackInfo=_,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},_.handleTimingInfo_=function handleTimingInfo_(v,_,b,T){if(this.earlyAbortWhenNeeded_(v.stats),!this.checkForAbort_(v.requestId)){var S=this.pendingSegment_,w=Mc(_);S[w]=S[w]||{},S[w][b]=T,this.logger_("timinginfo: "+_+" - "+b+" - "+T),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},_.handleCaptions_=function handleCaptions_(v,_){var b=this;if(this.earlyAbortWhenNeeded_(v.stats),!this.checkForAbort_(v.requestId))if(0!==_.length)if(this.pendingSegment_.hasAppendedData_){var T=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),w={};_.forEach((function(v){w[v.stream]=w[v.stream]||{"startTime":1/0,"captions":[],"endTime":0};var _=w[v.stream];_.startTime=Math.min(_.startTime,v.startTime+T),_.endTime=Math.max(_.endTime,v.endTime+T),_.captions.push(v)})),Object.keys(w).forEach((function(v){var _=w[v],E=_.startTime,C=_.endTime,k=_.captions,x=b.inbandTextTracks_;b.logger_("adding cues from "+E+" -> "+C+" for "+v),function createCaptionsTrackIfNotExists(v,_,b){if(!v[b]){_.trigger({"type":"usage","name":"vhs-608"}),_.trigger({"type":"usage","name":"hls-608"});var T=_.textTracks().getTrackById(b);v[b]=T||_.addRemoteTextTrack({"kind":"captions","id":b,"label":b},!1).track}}(x,b.vhs_.tech_,v),Oc(E,C,x[v]),function addCaptionData(v){var _=v.inbandTextTracks,b=v.captionArray,T=v.timestampOffset;if(b){var w=S.a.WebKitDataCue||S.a.VTTCue;b.forEach((function(v){var b=v.stream;_[b].addCue(new w(v.startTime+T,v.endTime+T,v.text))}))}}({"captionArray":k,"inbandTextTracks":x,"timestampOffset":T})})),this.transmuxer_&&this.transmuxer_.postMessage({"action":"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,v,_));else this.logger_("SegmentLoader received no captions from a caption event")},_.handleId3_=function handleId3_(v,_,b){if(this.earlyAbortWhenNeeded_(v.stats),!this.checkForAbort_(v.requestId))if(this.pendingSegment_.hasAppendedData_){var T=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function createMetadataTrackIfNotExists(v,_,b){v.metadataTrack_||(v.metadataTrack_=b.addRemoteTextTrack({"kind":"metadata","label":"Timed Metadata"},!1).track,v.metadataTrack_.inBandMetadataTrackDispatchType=_)}(this.inbandTextTracks_,b,this.vhs_.tech_),Ic({"inbandTextTracks":this.inbandTextTracks_,"metadataArray":_,"timestampOffset":T,"videoDuration":this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,v,_,b))},_.processMetadataQueue_=function processMetadataQueue_(){this.metadataQueue_.id3.forEach((function(v){return v()})),this.metadataQueue_.caption.forEach((function(v){return v()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},_.processCallQueue_=function processCallQueue_(){var v=this.callQueue_;this.callQueue_=[],v.forEach((function(v){return v()}))},_.processLoadQueue_=function processLoadQueue_(){var v=this.loadQueue_;this.loadQueue_=[],v.forEach((function(v){return v()}))},_.hasEnoughInfoToLoad_=function hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;var v=this.pendingSegment_;return!!v&&(!this.currentMediaInfo_||!Nc({"timelineChangeController":this.timelineChangeController_,"currentTimeline":this.currentTimeline_,"segmentTimeline":v.timeline,"loaderType":this.loaderType_,"audioDisabled":this.audioDisabled_}))},_.hasEnoughInfoToAppend_=function hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;var v=this.pendingSegment_;if(!v||!v.trackInfo)return!1;if(!this.handlePartialData_){var _=this.currentMediaInfo_,b=_.hasAudio,T=_.hasVideo,S=_.isMuxed;if(T&&!v.videoTimingInfo)return!1;if(b&&!this.audioDisabled_&&!S&&!v.audioTimingInfo)return!1}return!Nc({"timelineChangeController":this.timelineChangeController_,"currentTimeline":this.currentTimeline_,"segmentTimeline":v.timeline,"loaderType":this.loaderType_,"audioDisabled":this.audioDisabled_})},_.handleData_=function handleData_(v,_){if(this.earlyAbortWhenNeeded_(v.stats),!this.checkForAbort_(v.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var b=this.pendingSegment_;if(this.setTimeMapping_(b.timeline),this.updateMediaSecondsLoaded_(b.segment),"closed"!==this.mediaSource_.readyState){if(v.map&&(v.map=this.initSegmentForMap(v.map,!0),b.segment.map=v.map),v.key&&this.segmentKey(v.key,!0),b.isFmp4=v.isFmp4,b.timingInfo=b.timingInfo||{},b.isFmp4)this.trigger("fmp4"),b.timingInfo.start=b[Mc(_.type)].start;else{var T,S="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;S&&(T=this.handlePartialData_?_.videoFramePtsTime:b.videoTimingInfo.start),b.timingInfo.start=this.trueSegmentStart_({"currentStart":b.timingInfo.start,"playlist":b.playlist,"mediaIndex":b.mediaIndex,"currentVideoTimestampOffset":this.sourceUpdater_.videoTimestampOffset(),"useVideoTimingInfo":S,"firstVideoFrameTimeForData":T,"videoTimingInfo":b.videoTimingInfo,"audioTimingInfo":b.audioTimingInfo})}this.updateAppendInitSegmentStatus(b,_.type),this.updateSourceBufferTimestampOffset_(b),b.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(b,_)}}else this.callQueue_.push(this.handleData_.bind(this,v,_))},_.updateAppendInitSegmentStatus=function updateAppendInitSegmentStatus(v,_){"main"!==this.loaderType_||"number"!=typeof v.timestampOffset||v.changedTimestampOffset||(this.appendInitSegment_={"audio":!0,"video":!0}),this.playlistOfLastInitSegment_[_]!==v.playlist&&(this.appendInitSegment_[_]=!0)},_.getInitSegmentAndUpdateState_=function getInitSegmentAndUpdateState_(v){var _=v.type,b=v.initSegment,T=v.map,S=v.playlist;if(T){var w=Ol(T);if(this.activeInitSegmentId_===w)return null;b=this.initSegmentForMap(T,!0).bytes,this.activeInitSegmentId_=w}return b&&this.appendInitSegment_[_]?(this.playlistOfLastInitSegment_[_]=S,this.appendInitSegment_[_]=!!T,this.activeInitSegmentId_=null,b):null},_.appendToSourceBuffer_=function appendToSourceBuffer_(v){var _=this,b=v.segmentInfo,T=v.type,S=v.initSegment,w=v.data,E=[w],C=w.byteLength;S&&(E.unshift(S),C+=S.byteLength);var k=function concatSegments(v){var _,b=0;return v.bytes&&(_=new Uint8Array(v.bytes),v.segments.forEach((function(v){_.set(v,b),b+=v.byteLength}))),_}({"bytes":C,"segments":E});this.sourceUpdater_.appendBuffer({"segmentInfo":b,"type":T,"bytes":k},(function(v){v&&(_.error(T+" append of "+k.length+"b failed for segment #"+b.mediaIndex+" in playlist "+b.playlist.id),_.trigger("appenderror"))}))},_.handleSegmentTimingInfo_=function handleSegmentTimingInfo_(v,_,b){if(this.pendingSegment_&&_===this.pendingSegment_.requestId){var T=this.pendingSegment_.segment,S=v+"TimingInfo";T[S]||(T[S]={}),T[S].transmuxerPrependedSeconds=b.prependedContentDuration||0,T[S].transmuxedPresentationStart=b.start.presentation,T[S].transmuxedDecodeStart=b.start.decode,T[S].transmuxedPresentationEnd=b.end.presentation,T[S].transmuxedDecodeEnd=b.end.decode,T[S].baseMediaDecodeTime=b.baseMediaDecodeTime}},_.appendData_=function appendData_(v,_){var b=_.type,T=_.data;if(T&&T.byteLength&&("audio"!==b||!this.audioDisabled_)){var S=this.getInitSegmentAndUpdateState_({"type":b,"initSegment":_.initSegment,"playlist":v.playlist,"map":v.isFmp4?v.segment.map:null});this.appendToSourceBuffer_({"segmentInfo":v,"type":b,"initSegment":S,"data":T})}},_.loadSegment_=function loadSegment_(v){var _=this;this.state="WAITING",this.pendingSegment_=v,this.trimBackBuffer_(v),"number"==typeof v.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({"action":"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(v):this.loadQueue_.push((function(){var b=_.buffered_();"number"==typeof v.timestampOffset&&(v.timestampOffset=Dc({"segmentTimeline":v.timeline,"currentTimeline":_.currentTimeline_,"startOfSegment":v.startOfSegment,"buffered":b,"overrideCheck":!0})),delete v.audioAppendStart;var T=_.sourceUpdater_.audioBuffered();T.length&&(v.audioAppendStart=T.end(T.length-1)-_.sourceUpdater_.audioTimestampOffset()),_.updateTransmuxerAndRequestSegment_(v)}))},_.updateTransmuxerAndRequestSegment_=function updateTransmuxerAndRequestSegment_(v){this.shouldUpdateTransmuxerTimestampOffset_(v.timestampOffset)&&(this.gopBuffer_.length=0,v.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({"action":"reset"}),this.transmuxer_.postMessage({"action":"setTimestampOffset","timestampOffset":v.timestampOffset}));var _=this.createSimplifiedSegmentObj_(v);v.abortRequests=uc({"xhr":this.vhs_.xhr,"xhrOptions":this.xhrOptions_,"decryptionWorker":this.decrypter_,"segment":_,"handlePartialData":this.handlePartialData_,"abortFn":this.handleAbort_.bind(this),"progressFn":this.handleProgress_.bind(this),"trackInfoFn":this.handleTrackInfo_.bind(this),"timingInfoFn":this.handleTimingInfo_.bind(this),"videoSegmentTimingInfoFn":this.handleSegmentTimingInfo_.bind(this,"video",v.requestId),"audioSegmentTimingInfoFn":this.handleSegmentTimingInfo_.bind(this,"audio",v.requestId),"captionsFn":this.handleCaptions_.bind(this),"id3Fn":this.handleId3_.bind(this),"dataFn":this.handleData_.bind(this),"doneFn":this.segmentRequestFinished_.bind(this)})},_.trimBackBuffer_=function trimBackBuffer_(v){var _=function safeBackBufferTrimTime(v,_,b){var T=_-ql.BACK_BUFFER_LENGTH;v.length&&(T=Math.max(T,v.start(0)));var S=_-b;return Math.min(S,T)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);_>0&&this.remove(0,_)},_.createSimplifiedSegmentObj_=function createSimplifiedSegmentObj_(v){var _=v.segment,b={"resolvedUri":_.resolvedUri,"byterange":_.byterange,"requestId":v.requestId,"transmuxer":v.transmuxer,"audioAppendStart":v.audioAppendStart,"gopsToAlignWith":v.gopsToAlignWith},T=v.playlist.segments[v.mediaIndex-1];if(T&&T.timeline===_.timeline&&(T.videoTimingInfo?b.baseStartTime=T.videoTimingInfo.transmuxedDecodeEnd:T.audioTimingInfo&&(b.baseStartTime=T.audioTimingInfo.transmuxedDecodeEnd)),_.key){var S=_.key.iv||new Uint32Array([0,0,0,v.mediaIndex+v.playlist.mediaSequence]);b.key=this.segmentKey(_.key),b.key.iv=S}return _.map&&(b.map=this.initSegmentForMap(_.map)),b},_.saveTransferStats_=function saveTransferStats_(v){this.mediaRequests+=1,v&&(this.mediaBytesTransferred+=v.bytesReceived,this.mediaTransferDuration+=v.roundTripTime)},_.saveBandwidthRelatedStats_=function saveBandwidthRelatedStats_(v,_){this.pendingSegment_.byteLength=_.bytesReceived,v<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+v+" is less than the min to record "+1/60):(this.bandwidth=_.bandwidth,this.roundTrip=_.roundTripTime)},_.handleTimeout_=function handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},_.segmentRequestFinished_=function segmentRequestFinished_(v,_,b){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,v,_,b));else if(this.saveTransferStats_(_.stats),this.pendingSegment_&&_.requestId===this.pendingSegment_.requestId){if(v){if(this.pendingSegment_=null,this.state="READY",v.code===ic)return;return this.pause(),v.code===nc?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(v),void this.trigger("error"))}var T=this.pendingSegment_;this.saveBandwidthRelatedStats_(T.duration,_.stats),T.endOfAllRequests=_.endOfAllRequests,b.gopInfo&&(this.gopBuffer_=function updateGopBuffer(v,_,b){if(!_.length)return v;if(b)return _.slice();for(var T=_[0].pts,S=0;S<v.length&&!(v[S].pts>=T);S++);return v.slice(0,S).concat(_)}(this.gopBuffer_,b.gopInfo,this.safeAppend_)),this.state="APPENDING";var S=this.isEndOfStream_(T.mediaIndex,T.playlist),w=null!==this.mediaIndex,E=T.timeline!==this.currentTimeline_&&T.timeline>0;!T.isFmp4&&(S||w&&E)&&ec(this.transmuxer_),this.trigger("appending"),this.waitForAppendsToComplete_(T)}},_.setTimeMapping_=function setTimeMapping_(v){var _=this.syncController_.mappingForTimeline(v);null!==_&&(this.timeMapping_=_)},_.updateMediaSecondsLoaded_=function updateMediaSecondsLoaded_(v){"number"==typeof v.start&&"number"==typeof v.end?this.mediaSecondsLoaded+=v.end-v.start:this.mediaSecondsLoaded+=v.duration},_.shouldUpdateTransmuxerTimestampOffset_=function shouldUpdateTransmuxerTimestampOffset_(v){return null!==v&&("main"===this.loaderType_&&v!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&v!==this.sourceUpdater_.audioTimestampOffset())},_.trueSegmentStart_=function trueSegmentStart_(v){var _=v.currentStart,b=v.playlist,T=v.mediaIndex,S=v.firstVideoFrameTimeForData,w=v.currentVideoTimestampOffset,E=v.useVideoTimingInfo,C=v.videoTimingInfo,k=v.audioTimingInfo;if(void 0!==_)return _;if(!E)return k.start;var x=b.segments[T-1];return 0!==T&&x&&void 0!==x.start&&x.end===S+w?C.start:S},_.waitForAppendsToComplete_=function waitForAppendsToComplete_(v){if(!this.currentMediaInfo_)return this.error({"message":"No starting media returned, likely due to an unsupported media format.","blacklistDuration":1/0}),void this.trigger("error");var _=this.currentMediaInfo_,b=_.hasAudio,T=_.hasVideo,S=_.isMuxed,w="main"===this.loaderType_&&T,E=!this.audioDisabled_&&b&&!S;if(v.waitingOnAppends=0,!v.hasAppendedData_)return v.timingInfo||"number"!=typeof v.timestampOffset||(this.isPendingTimestampOffset_=!0),v.timingInfo={"start":0},v.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(v),this.processMetadataQueue_()),void this.checkAppendsDone_(v);w&&v.waitingOnAppends++,E&&v.waitingOnAppends++,w&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,v)),E&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,v))},_.checkAppendsDone_=function checkAppendsDone_(v){this.checkForAbort_(v.requestId)||(v.waitingOnAppends--,0===v.waitingOnAppends&&this.handleAppendsDone_())},_.checkForIllegalMediaSwitch=function checkForIllegalMediaSwitch(v){var _=function illegalMediaSwitch(v,_,b){return"main"===v&&_&&b?b.hasAudio||b.hasVideo?_.hasVideo&&!b.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!_.hasVideo&&b.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,v);return!!_&&(this.error({"message":_,"blacklistDuration":1/0}),this.trigger("error"),!0)},_.updateSourceBufferTimestampOffset_=function updateSourceBufferTimestampOffset_(v){if(null!==v.timestampOffset&&"number"==typeof v.timingInfo.start&&!v.changedTimestampOffset&&"main"===this.loaderType_){var _=!1;v.timestampOffset-=v.timingInfo.start,v.changedTimestampOffset=!0,v.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(v.timestampOffset),_=!0),v.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(v.timestampOffset),_=!0),_&&this.trigger("timestampoffset")}},_.updateTimingInfoEnd_=function updateTimingInfoEnd_(v){v.timingInfo=v.timingInfo||{};var _="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&v.videoTimingInfo?v.videoTimingInfo:v.audioTimingInfo;_&&(v.timingInfo.end="number"==typeof _.end?_.end:_.start+v.duration)},_.handleAppendsDone_=function handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var v=this.pendingSegment_;this.updateTimingInfoEnd_(v),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({"segmentInfo":v,"shouldSaveTimelineMapping":"main"===this.loaderType_}),this.logger_(function segmentInfoString(v){var _=v.segment,b=_.start,T=_.end,S=v.playlist,w=S.mediaSequence,E=S.id,C=S.segments,k=void 0===C?[]:C,x=v.mediaIndex,P=v.timeline;return["appending ["+x+"] of ["+w+", "+(w+k.length)+"] from playlist ["+E+"]","["+b+" => "+T+"] in timeline ["+P+"]"].join(" ")}(v));var _=Bc(v,this.sourceType_);if(_&&("warn"===_.severity?videojs$1.log.warn(_.message):this.logger_(_.message)),this.recordThroughput_(v),this.pendingSegment_=null,this.state="READY",v.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(v),this.fetchAtBuffer_=!0,this.currentTimeline_!==v.timeline&&(this.timelineChangeController_.lastTimelineChange({"type":this.loaderType_,"from":this.currentTimeline_,"to":v.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({"type":"audio","from":this.currentTimeline_,"to":v.timeline})),this.currentTimeline_=v.timeline,this.trigger("syncinfoupdate");var b=v.segment;if(b.end&&this.currentTime_()-b.end>3*v.playlist.targetDuration)this.resetEverything();else null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=v.mediaIndex,this.isEndOfStream_(v.mediaIndex,v.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_()}},_.recordThroughput_=function recordThroughput_(v){if(v.duration<1/60)this.logger_("Ignoring segment's throughput because its duration of "+v.duration+" is less than the min to record "+1/60);else{var _=this.throughput.rate,b=Date.now()-v.endOfAllRequests+1,T=Math.floor(v.byteLength/b*8*1e3);this.throughput.rate+=(T-_)/++this.throughput.count}},_.addSegmentMetadataCue_=function addSegmentMetadataCue_(v){if(this.segmentMetadataTrack_){var _=v.segment,b=_.start,T=_.end;if(Lc(b)&&Lc(T)){Oc(b,T,this.segmentMetadataTrack_);var w=S.a.WebKitDataCue||S.a.VTTCue,E={"custom":_.custom,"dateTimeObject":_.dateTimeObject,"dateTimeString":_.dateTimeString,"bandwidth":v.playlist.attributes.BANDWIDTH,"resolution":v.playlist.attributes.RESOLUTION,"codecs":v.playlist.attributes.CODECS,"byteLength":v.byteLength,"uri":v.uri,"timeline":v.timeline,"playlist":v.playlist.id,"start":b,"end":T},C=new w(b,T,JSON.stringify(E));C.value=E,this.segmentMetadataTrack_.addCue(C)}}},SegmentLoader}(videojs$1.EventTarget);function video_es_noop(){}var Uc,Fc=function toTitleCase(v){return"string"!=typeof v?v:v.replace(/./,(function(v){return v.toUpperCase()}))},Vc=["video","audio"],Hc=function updating(v,_){var b=_[v+"Buffer"];return b&&b.updating||_.queuePending[v]},Wc=function shiftQueue(v,_){if(0!==_.queue.length){var b=0,T=_.queue[b];if("mediaSource"!==T.type){if("mediaSource"!==v&&_.ready()&&"closed"!==_.mediaSource.readyState&&!Hc(v,_)){if(T.type!==v){if(null===(b=function nextQueueIndexOfType(v,_){for(var b=0;b<_.length;b++){var T=_[b];if("mediaSource"===T.type)return null;if(T.type===v)return b}return null}(v,_.queue)))return;T=_.queue[b]}_.queue.splice(b,1),T.action(v,_),T.doneFn?_.queuePending[v]=T:shiftQueue(v,_)}}else _.updating()||"closed"===_.mediaSource.readyState||(_.queue.shift(),T.action(_),T.doneFn&&T.doneFn(),shiftQueue("audio",_),shiftQueue("video",_))}},qc=function cleanupBuffer(v,_){var b=_[v+"Buffer"],T=Fc(v);b&&(b.removeEventListener("updateend",_["on"+T+"UpdateEnd_"]),b.removeEventListener("error",_["on"+T+"Error_"]),_.codecs[v]=null,_[v+"Buffer"]=null)},zc=function inSourceBuffers(v,_){return v&&_&&-1!==Array.prototype.indexOf.call(v.sourceBuffers,_)},Gc=function appendBuffer(v,_){return function(b,T){var S=T[b+"Buffer"];zc(T.mediaSource,S)&&(T.logger_("Appending segment "+_.mediaIndex+"'s "+v.length+" bytes to "+b+"Buffer"),S.appendBuffer(v))}},Yc=function remove(v,_){return function(b,T){var S=T[b+"Buffer"];zc(T.mediaSource,S)&&(T.logger_("Removing "+v+" to "+_+" from "+b+"Buffer"),S.remove(v,_))}},Xc=function timestampOffset(v){return function(_,b){var T=b[_+"Buffer"];zc(b.mediaSource,T)&&(b.logger_("Setting "+_+"timestampOffset to "+v),T.timestampOffset=v)}},Kc=function callback(v){return function(_,b){v()}},Qc=function endOfStream(v){return function(_){if("open"===_.mediaSource.readyState){_.logger_("Calling mediaSource endOfStream("+(v||"")+")");try{_.mediaSource.endOfStream(v)}catch(v){videojs$1.log.warn("Failed to call media source endOfStream",v)}}}},$c=function duration(v){return function(_){_.logger_("Setting mediaSource duration to "+v);try{_.mediaSource.duration=v}catch(v){videojs$1.log.warn("Failed to set media source duration",v)}}},Jc=function abort(){return function(v,_){if("open"===_.mediaSource.readyState){var b=_[v+"Buffer"];if(zc(_.mediaSource,b)){_.logger_("calling abort on "+v+"Buffer");try{b.abort()}catch(_){videojs$1.log.warn("Failed to abort on "+v+"Buffer",_)}}}}},Zc=function addSourceBuffer(v,_){return function(b){var T=Fc(v),S=Object(yi.getMimeForCodec)(_);b.logger_("Adding "+v+"Buffer with codec "+_+" to mediaSource");var w=b.mediaSource.addSourceBuffer(S);w.addEventListener("updateend",b["on"+T+"UpdateEnd_"]),w.addEventListener("error",b["on"+T+"Error_"]),b.codecs[v]=_,b[v+"Buffer"]=w}},eu=function removeSourceBuffer(v){return function(_){var b=_[v+"Buffer"];if(qc(v,_),zc(_.mediaSource,b)){_.logger_("Removing "+v+"Buffer with codec "+_.codecs[v]+" from mediaSource");try{_.mediaSource.removeSourceBuffer(b)}catch(_){videojs$1.log.warn("Failed to removeSourceBuffer "+v+"Buffer",_)}}}},tu=function changeType(v){return function(_,b){var T=b[_+"Buffer"],S=Object(yi.getMimeForCodec)(v);zc(b.mediaSource,T)&&b.codecs[_]!==v&&(b.logger_("changing "+_+"Buffer codec from "+b.codecs[_]+" to "+v),T.changeType(S),b.codecs[_]=v)}},nu=function pushQueue(v){var _=v.type,b=v.sourceUpdater,T=v.action,S=v.doneFn,w=v.name;b.queue.push({"type":_,"action":T,"doneFn":S,"name":w}),Wc(_,b)},iu=function onUpdateend(v,_){return function(b){if(_.queuePending[v]){var T=_.queuePending[v].doneFn;_.queuePending[v]=null,T&&T(_[v+"Error_"])}Wc(v,_)}},ru=function(v){function SourceUpdater(_){var b;return(b=v.call(this)||this).mediaSource=_,b.sourceopenListener_=function(){return Wc("mediaSource",P()(b))},b.mediaSource.addEventListener("sourceopen",b.sourceopenListener_),b.logger_=Sc("SourceUpdater"),b.audioTimestampOffset_=0,b.videoTimestampOffset_=0,b.queue=[],b.queuePending={"audio":null,"video":null},b.delayedAudioAppendQueue_=[],b.videoAppendQueued_=!1,b.codecs={},b.onVideoUpdateEnd_=iu("video",P()(b)),b.onAudioUpdateEnd_=iu("audio",P()(b)),b.onVideoError_=function(v){b.videoError_=v},b.onAudioError_=function(v){b.audioError_=v},b.createdSourceBuffers_=!1,b.initializedEme_=!1,b.triggeredReady_=!1,b}O()(SourceUpdater,v);var _=SourceUpdater.prototype;return _.initializedEme=function initializedEme(){this.initializedEme_=!0,this.triggerReady()},_.hasCreatedSourceBuffers=function hasCreatedSourceBuffers(){return this.createdSourceBuffers_},_.hasInitializedAnyEme=function hasInitializedAnyEme(){return this.initializedEme_},_.ready=function ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},_.createSourceBuffers=function createSourceBuffers(v){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(v),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},_.triggerReady=function triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},_.addSourceBuffer=function addSourceBuffer(v,_){nu({"type":"mediaSource","sourceUpdater":this,"action":Zc(v,_),"name":"addSourceBuffer"})},_.abort=function abort(v){nu({"type":v,"sourceUpdater":this,"action":Jc(v),"name":"abort"})},_.removeSourceBuffer=function removeSourceBuffer(v){this.canRemoveSourceBuffer()?nu({"type":"mediaSource","sourceUpdater":this,"action":eu(v),"name":"removeSourceBuffer"}):videojs$1.log.error("removeSourceBuffer is not supported!")},_.canRemoveSourceBuffer=function canRemoveSourceBuffer(){return!videojs$1.browser.IE_VERSION&&!videojs$1.browser.IS_FIREFOX&&S.a.MediaSource&&S.a.MediaSource.prototype&&"function"==typeof S.a.MediaSource.prototype.removeSourceBuffer},SourceUpdater.canChangeType=function canChangeType(){return S.a.SourceBuffer&&S.a.SourceBuffer.prototype&&"function"==typeof S.a.SourceBuffer.prototype.changeType},_.canChangeType=function canChangeType(){return this.constructor.canChangeType()},_.changeType=function changeType(v,_){this.canChangeType()?nu({"type":v,"sourceUpdater":this,"action":tu(_),"name":"changeType"}):videojs$1.log.error("changeType is not supported!")},_.addOrChangeSourceBuffers=function addOrChangeSourceBuffers(v){var _=this;if(!v||"object"!=typeof v||0===Object.keys(v).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(v).forEach((function(b){var T=v[b];if(!_.hasCreatedSourceBuffers())return _.addSourceBuffer(b,T);_.canChangeType()&&_.changeType(b,T)}))},_.appendBuffer=function appendBuffer(v,_){var b=this,T=v.segmentInfo,S=v.type,w=v.bytes;if(this.processedAppend_=!0,"audio"===S&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([v,_]),void this.logger_("delayed audio append of "+w.length+" until video append");if(nu({"type":S,"sourceUpdater":this,"action":Gc(w,T||{"mediaIndex":-1}),"doneFn":_,"name":"appendBuffer"}),"video"===S){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var E=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+E.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,E.forEach((function(v){b.appendBuffer.apply(b,v)}))}},_.audioBuffered=function audioBuffered(){return zc(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:videojs$1.createTimeRange()},_.videoBuffered=function videoBuffered(){return zc(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:videojs$1.createTimeRange()},_.buffered=function buffered(){var v=zc(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,_=zc(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return _&&!v?this.audioBuffered():v&&!_?this.videoBuffered():function bufferIntersection(v,_){var b=null,T=null,S=0,w=[],E=[];if(!(v&&v.length&&_&&_.length))return videojs$1.createTimeRange();for(var C=v.length;C--;)w.push({"time":v.start(C),"type":"start"}),w.push({"time":v.end(C),"type":"end"});for(C=_.length;C--;)w.push({"time":_.start(C),"type":"start"}),w.push({"time":_.end(C),"type":"end"});for(w.sort((function(v,_){return v.time-_.time})),C=0;C<w.length;C++)"start"===w[C].type?2===++S&&(b=w[C].time):"end"===w[C].type&&1===--S&&(T=w[C].time),null!==b&&null!==T&&(E.push([b,T]),b=null,T=null);return videojs$1.createTimeRanges(E)}(this.audioBuffered(),this.videoBuffered())},_.setDuration=function setDuration(v,_){void 0===_&&(_=video_es_noop),nu({"type":"mediaSource","sourceUpdater":this,"action":$c(v),"name":"duration","doneFn":_})},_.endOfStream=function endOfStream(v,_){void 0===v&&(v=null),void 0===_&&(_=video_es_noop),"string"!=typeof v&&(v=void 0),nu({"type":"mediaSource","sourceUpdater":this,"action":Qc(v),"name":"endOfStream","doneFn":_})},_.removeAudio=function removeAudio(v,_,b){void 0===b&&(b=video_es_noop),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?nu({"type":"audio","sourceUpdater":this,"action":Yc(v,_),"doneFn":b,"name":"remove"}):b()},_.removeVideo=function removeVideo(v,_,b){void 0===b&&(b=video_es_noop),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?nu({"type":"video","sourceUpdater":this,"action":Yc(v,_),"doneFn":b,"name":"remove"}):b()},_.updating=function updating(){return!(!Hc("audio",this)&&!Hc("video",this))},_.audioTimestampOffset=function audioTimestampOffset(v){return void 0!==v&&this.audioBuffer&&this.audioTimestampOffset_!==v&&(nu({"type":"audio","sourceUpdater":this,"action":Xc(v),"name":"timestampOffset"}),this.audioTimestampOffset_=v),this.audioTimestampOffset_},_.videoTimestampOffset=function videoTimestampOffset(v){return void 0!==v&&this.videoBuffer&&this.videoTimestampOffset!==v&&(nu({"type":"video","sourceUpdater":this,"action":Xc(v),"name":"timestampOffset"}),this.videoTimestampOffset_=v),this.videoTimestampOffset_},_.audioQueueCallback=function audioQueueCallback(v){this.audioBuffer&&nu({"type":"audio","sourceUpdater":this,"action":Kc(v),"name":"callback"})},_.videoQueueCallback=function videoQueueCallback(v){this.videoBuffer&&nu({"type":"video","sourceUpdater":this,"action":Kc(v),"name":"callback"})},_.dispose=function dispose(){var v=this;this.trigger("dispose"),Vc.forEach((function(_){v.abort(_),v.canRemoveSourceBuffer()?v.removeSourceBuffer(_):v[_+"QueueCallback"]((function(){return qc(_,v)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},SourceUpdater}(videojs$1.EventTarget),au=function uint8ToUtf8(v){return decodeURIComponent(escape(String.fromCharCode.apply(null,v)))},ou=new Uint8Array("\n\n".split("").map((function(v){return v.charCodeAt(0)}))),su=function(v){function VTTSegmentLoader(_,b){var T;return void 0===b&&(b={}),(T=v.call(this,_,b)||this).handlePartialData_=!1,T.mediaSource_=null,T.subtitlesTrack_=null,T.loaderType_="subtitle",T.featuresNativeTextTracks_=_.featuresNativeTextTracks,T.shouldSaveSegmentTimingInfo_=!1,T}O()(VTTSegmentLoader,v);var _=VTTSegmentLoader.prototype;return _.createTransmuxer_=function createTransmuxer_(){return null},_.buffered_=function buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return videojs$1.createTimeRanges();var v=this.subtitlesTrack_.cues,_=v[0].startTime,b=v[v.length-1].startTime;return videojs$1.createTimeRanges([[_,b]])},_.initSegmentForMap=function initSegmentForMap(v,_){if(void 0===_&&(_=!1),!v)return null;var b=Ol(v),T=this.initSegments_[b];if(_&&!T&&v.bytes){var S=ou.byteLength+v.bytes.byteLength,w=new Uint8Array(S);w.set(v.bytes),w.set(ou,v.bytes.byteLength),this.initSegments_[b]=T={"resolvedUri":v.resolvedUri,"byterange":v.byterange,"bytes":w}}return T||v},_.couldBeginLoading_=function couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},_.init_=function init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},_.track=function track(v){return void 0===v||(this.subtitlesTrack_=v,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},_.remove=function remove(v,_){Oc(v,_,this.subtitlesTrack_)},_.fillBuffer_=function fillBuffer_(){var v=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var _=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(_=this.skipEmptySegments_(_)){if(null===this.syncController_.timestampOffsetForTimeline(_.timeline)){return this.syncController_.one("timestampoffset",(function checkTimestampOffset(){v.state="READY",v.paused()||v.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(_)}},_.skipEmptySegments_=function skipEmptySegments_(v){for(;v&&v.segment.empty;)v=this.generateSegmentInfo_(v.playlist,v.mediaIndex+1,v.startOfSegment+v.duration,v.isSyncRequest);return v},_.stopForError=function stopForError(v){this.error(v),this.state="READY",this.pause(),this.trigger("error")},_.segmentRequestFinished_=function segmentRequestFinished_(v,_,b){var T=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(_.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(v)return v.code===nc&&this.handleTimeout_(),v.code===ic?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(v);var w=this.pendingSegment_;this.saveBandwidthRelatedStats_(w.duration,_.stats),this.state="APPENDING",this.trigger("appending");var E=w.segment;if(E.map&&(E.map.bytes=_.map.bytes),w.bytes=_.bytes,"function"!=typeof S.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var C,k=function errorHandler(){T.subtitlesTrack_.tech_.off("vttjsloaded",C),T.stopForError({"message":"Error loading vtt.js"})};return C=function loadHandler(){T.subtitlesTrack_.tech_.off("vttjserror",k),T.segmentRequestFinished_(v,_,b)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",C),void this.subtitlesTrack_.tech_.one("vttjserror",k)}E.requested=!0;try{this.parseVTTCues_(w)}catch(v){return void this.stopForError({"message":v.message})}if(this.updateTimeMapping_(w,this.syncController_.timelines[w.timeline],this.playlist_),w.cues.length?w.timingInfo={"start":w.cues[0].startTime,"end":w.cues[w.cues.length-1].endTime}:w.timingInfo={"start":w.startOfSegment,"end":w.startOfSegment+w.duration},w.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");w.byteLength=w.bytes.byteLength,this.mediaSecondsLoaded+=E.duration,w.cues.forEach((function(v){T.subtitlesTrack_.addCue(T.featuresNativeTextTracks_?new S.a.VTTCue(v.startTime,v.endTime,v.text):v)})),function removeDuplicateCuesFromTrack(v){var _=v.cues;if(_)for(var b=0;b<_.length;b++){for(var T=[],S=0,w=0;w<_.length;w++)_[b].startTime===_[w].startTime&&_[b].endTime===_[w].endTime&&_[b].text===_[w].text&&++S>1&&T.push(_[w]);T.length&&T.forEach((function(_){return v.removeCue(_)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},_.handleData_=function handleData_(){},_.updateTimingInfoEnd_=function updateTimingInfoEnd_(){},_.parseVTTCues_=function parseVTTCues_(v){var _,b=!1;"function"==typeof S.a.TextDecoder?_=new S.a.TextDecoder("utf8"):(_=S.a.WebVTT.StringDecoder(),b=!0);var T=new S.a.WebVTT.Parser(S.a,S.a.vttjs,_);if(v.cues=[],v.timestampmap={"MPEGTS":0,"LOCAL":0},T.oncue=v.cues.push.bind(v.cues),T.ontimestampmap=function(_){v.timestampmap=_},T.onparsingerror=function(v){videojs$1.log.warn("Error encountered when parsing cues: "+v.message)},v.segment.map){var w=v.segment.map.bytes;b&&(w=au(w)),T.parse(w)}var E=v.bytes;b&&(E=au(E)),T.parse(E),T.flush()},_.updateTimeMapping_=function updateTimeMapping_(v,_,b){var T=v.segment;if(_)if(v.cues.length){var S=v.timestampmap,w=S.MPEGTS/mi.ONE_SECOND_IN_TS-S.LOCAL+_.mapping;if(v.cues.forEach((function(v){v.startTime+=w,v.endTime+=w})),!b.syncInfo){var E=v.cues[0].startTime,C=v.cues[v.cues.length-1].startTime;b.syncInfo={"mediaSequence":b.mediaSequence+v.mediaIndex,"time":Math.min(E,C-T.duration)}}}else T.empty=!0},VTTSegmentLoader}(jc),lu=function findAdCue(v,_){for(var b=v.cues,T=0;T<b.length;T++){var S=b[T];if(_>=S.adStartTime&&_<=S.adEndTime)return S}return null},cu=[{"name":"VOD","run":function run(v,_,b,T,S){if(b!==1/0){return{"time":0,"segmentIndex":0}}return null}},{"name":"ProgramDateTime","run":function run(v,_,b,T,S){if(!v.datetimeToDisplayTime)return null;var w=_.segments||[],E=null,C=null;S=S||0;for(var k=0;k<w.length;k++){var x=w[k];if(x.dateTimeObject){var P=x.dateTimeObject.getTime()/1e3+v.datetimeToDisplayTime,I=Math.abs(S-P);if(null!==C&&(0===I||C<I))break;C=I,E={"time":P,"segmentIndex":k}}}return E}},{"name":"Segment","run":function run(v,_,b,T,S){var w=_.segments||[],E=null,C=null;S=S||0;for(var k=0;k<w.length;k++){var x=w[k];if(x.timeline===T&&void 0!==x.start){var P=Math.abs(S-x.start);if(null!==C&&C<P)break;(!E||null===C||C>=P)&&(C=P,E={"time":x.start,"segmentIndex":k})}}return E}},{"name":"Discontinuity","run":function run(v,_,b,T,S){var w=null;if(S=S||0,_.discontinuityStarts&&_.discontinuityStarts.length)for(var E=null,C=0;C<_.discontinuityStarts.length;C++){var k=_.discontinuityStarts[C],x=_.discontinuitySequence+C+1,P=v.discontinuities[x];if(P){var I=Math.abs(S-P.time);if(null!==E&&E<I)break;(!w||null===E||E>=I)&&(E=I,w={"time":P.time,"segmentIndex":k})}}return w}},{"name":"Playlist","run":function run(v,_,b,T,S){return _.syncInfo?{"time":_.syncInfo.time,"segmentIndex":_.syncInfo.mediaSequence-_.mediaSequence}:null}}],uu=function(v){function SyncController(_){var b;return(b=v.call(this)||this).timelines=[],b.discontinuities=[],b.datetimeToDisplayTime=null,b.logger_=Sc("SyncController"),b}O()(SyncController,v);var _=SyncController.prototype;return _.getSyncPoint=function getSyncPoint(v,_,b,T){var S=this.runStrategies_(v,_,b,T);return S.length?this.selectSyncPoint_(S,{"key":"time","value":T}):null},_.getExpiredTime=function getExpiredTime(v,_){if(!v||!v.segments)return null;var b=this.runStrategies_(v,_,v.discontinuitySequence,0);if(!b.length)return null;var T=this.selectSyncPoint_(b,{"key":"segmentIndex","value":0});return T.segmentIndex>0&&(T.time*=-1),Math.abs(T.time+pl(v,T.segmentIndex,0))},_.runStrategies_=function runStrategies_(v,_,b,T){for(var S=[],w=0;w<cu.length;w++){var E=cu[w],C=E.run(this,v,_,b,T);C&&(C.strategy=E.name,S.push({"strategy":E.name,"syncPoint":C}))}return S},_.selectSyncPoint_=function selectSyncPoint_(v,_){for(var b=v[0].syncPoint,T=Math.abs(v[0].syncPoint[_.key]-_.value),S=v[0].strategy,w=1;w<v.length;w++){var E=Math.abs(v[w].syncPoint[_.key]-_.value);E<T&&(T=E,b=v[w].syncPoint,S=v[w].strategy)}return this.logger_("syncPoint for ["+_.key+": "+_.value+"] chosen with strategy ["+S+"]: [time:"+b.time+", segmentIndex:"+b.segmentIndex+"]"),b},_.saveExpiredSegmentInfo=function saveExpiredSegmentInfo(v,_){for(var b=_.mediaSequence-v.mediaSequence-1;b>=0;b--){var T=v.segments[b];if(T&&void 0!==T.start){_.syncInfo={"mediaSequence":v.mediaSequence+b,"time":T.start},this.logger_("playlist refresh sync: [time:"+_.syncInfo.time+", mediaSequence: "+_.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},_.setDateTimeMapping=function setDateTimeMapping(v){if(!this.datetimeToDisplayTime&&v.segments&&v.segments.length&&v.segments[0].dateTimeObject){var _=v.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-_}},_.saveSegmentTimingInfo=function saveSegmentTimingInfo(v){var _=v.segmentInfo,b=v.shouldSaveTimelineMapping;this.calculateSegmentTimeMapping_(_,_.timingInfo,b)&&(this.saveDiscontinuitySyncInfo_(_),_.playlist.syncInfo||(_.playlist.syncInfo={"mediaSequence":_.playlist.mediaSequence+_.mediaIndex,"time":_.segment.start}))},_.timestampOffsetForTimeline=function timestampOffsetForTimeline(v){return void 0===this.timelines[v]?null:this.timelines[v].time},_.mappingForTimeline=function mappingForTimeline(v){return void 0===this.timelines[v]?null:this.timelines[v].mapping},_.calculateSegmentTimeMapping_=function calculateSegmentTimeMapping_(v,_,b){var T=v.segment,S=this.timelines[v.timeline];if(null!==v.timestampOffset)S={"time":v.startOfSegment,"mapping":v.startOfSegment-_.start},b&&(this.timelines[v.timeline]=S,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+v.timeline+": [time: "+S.time+"] [mapping: "+S.mapping+"]")),T.start=v.startOfSegment,T.end=_.end+S.mapping;else{if(!S)return!1;T.start=_.start+S.mapping,T.end=_.end+S.mapping}return!0},_.saveDiscontinuitySyncInfo_=function saveDiscontinuitySyncInfo_(v){var _=v.playlist,b=v.segment;if(b.discontinuity)this.discontinuities[b.timeline]={"time":b.start,"accuracy":0};else if(_.discontinuityStarts&&_.discontinuityStarts.length)for(var T=0;T<_.discontinuityStarts.length;T++){var S=_.discontinuityStarts[T],w=_.discontinuitySequence+T+1,E=S-v.mediaIndex,C=Math.abs(E);if(!this.discontinuities[w]||this.discontinuities[w].accuracy>C){var k=void 0;k=E<0?b.start-pl(_,v.mediaIndex,S):b.end+pl(_,v.mediaIndex+1,S),this.discontinuities[w]={"time":k,"accuracy":C}}}},_.dispose=function dispose(){this.trigger("dispose"),this.off()},SyncController}(videojs$1.EventTarget),du=function(v){function TimelineChangeController(){var _;return(_=v.call(this)||this).pendingTimelineChanges_={},_.lastTimelineChanges_={},_}O()(TimelineChangeController,v);var _=TimelineChangeController.prototype;return _.clearPendingTimelineChange=function clearPendingTimelineChange(v){this.pendingTimelineChanges_[v]=null,this.trigger("pendingtimelinechange")},_.pendingTimelineChange=function pendingTimelineChange(v){var _=v.type,b=v.from,T=v.to;return"number"==typeof b&&"number"==typeof T&&(this.pendingTimelineChanges_[_]={"type":_,"from":b,"to":T},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[_]},_.lastTimelineChange=function lastTimelineChange(v){var _=v.type,b=v.from,T=v.to;return"number"==typeof b&&"number"==typeof T&&(this.lastTimelineChanges_[_]={"type":_,"from":b,"to":T},delete this.pendingTimelineChanges_[_],this.trigger("timelinechange")),this.lastTimelineChanges_[_]},_.dispose=function dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},TimelineChangeController}(videojs$1.EventTarget),hu=new shimWorker("./decrypter-worker.worker.js",(function(v,_){var b=this;!function(){function _defineProperties(v,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}var v=function _createClass(v,_,b){return _&&_defineProperties(v.prototype,_),b&&_defineProperties(v,b),v};var _=function _inheritsLoose(v,_){v.prototype=Object.create(_.prototype),v.prototype.constructor=v,v.__proto__=_},T=function(){function Stream(){this.listeners={}}var v=Stream.prototype;return v.on=function on(v,_){this.listeners[v]||(this.listeners[v]=[]),this.listeners[v].push(_)},v.off=function off(v,_){if(!this.listeners[v])return!1;var b=this.listeners[v].indexOf(_);return this.listeners[v]=this.listeners[v].slice(0),this.listeners[v].splice(b,1),b>-1},v.trigger=function trigger(v){var _=this.listeners[v];if(_)if(2===arguments.length)for(var b=_.length,T=0;T<b;++T)_[T].call(this,arguments[1]);else for(var S=Array.prototype.slice.call(arguments,1),w=_.length,E=0;E<w;++E)_[E].apply(this,S)},v.dispose=function dispose(){this.listeners={}},v.pipe=function pipe(v){this.on("data",(function(_){v.push(_)}))},Stream}();var S=null,w=function(){function AES(v){var _,b,T;S||(S=function precompute(){var v,_,b,T,S,w,E,C,k=[[[],[],[],[],[]],[[],[],[],[],[]]],x=k[0],P=k[1],I=x[4],O=P[4],L=[],D=[];for(v=0;v<256;v++)D[(L[v]=v<<1^283*(v>>7))^v]=v;for(_=b=0;!I[_];_^=T||1,b=D[b]||1)for(w=(w=b^b<<1^b<<2^b<<3^b<<4)>>8^255&w^99,I[_]=w,O[w]=_,C=16843009*L[S=L[T=L[_]]]^65537*S^257*T^16843008*_,E=257*L[w]^16843008*w,v=0;v<4;v++)x[v][_]=E=E<<24^E>>>8,P[v][w]=C=C<<24^C>>>8;for(v=0;v<5;v++)x[v]=x[v].slice(0),P[v]=P[v].slice(0);return k}()),this._tables=[[S[0][0].slice(),S[0][1].slice(),S[0][2].slice(),S[0][3].slice(),S[0][4].slice()],[S[1][0].slice(),S[1][1].slice(),S[1][2].slice(),S[1][3].slice(),S[1][4].slice()]];var w=this._tables[0][4],E=this._tables[1],C=v.length,k=1;if(4!==C&&6!==C&&8!==C)throw new Error("Invalid aes key size");var x=v.slice(0),P=[];for(this._key=[x,P],_=C;_<4*C+28;_++)T=x[_-1],(_%C==0||8===C&&_%C==4)&&(T=w[T>>>24]<<24^w[T>>16&255]<<16^w[T>>8&255]<<8^w[255&T],_%C==0&&(T=T<<8^T>>>24^k<<24,k=k<<1^283*(k>>7))),x[_]=x[_-C]^T;for(b=0;_;b++,_--)T=x[3&b?_:_-4],P[b]=_<=4||b<4?T:E[0][w[T>>>24]]^E[1][w[T>>16&255]]^E[2][w[T>>8&255]]^E[3][w[255&T]]}return AES.prototype.decrypt=function decrypt(v,_,b,T,S,w){var E,C,k,x,P=this._key[1],I=v^P[0],O=T^P[1],L=b^P[2],D=_^P[3],N=P.length/4-2,R=4,B=this._tables[1],j=B[0],U=B[1],V=B[2],H=B[3],W=B[4];for(x=0;x<N;x++)E=j[I>>>24]^U[O>>16&255]^V[L>>8&255]^H[255&D]^P[R],C=j[O>>>24]^U[L>>16&255]^V[D>>8&255]^H[255&I]^P[R+1],k=j[L>>>24]^U[D>>16&255]^V[I>>8&255]^H[255&O]^P[R+2],D=j[D>>>24]^U[I>>16&255]^V[O>>8&255]^H[255&L]^P[R+3],R+=4,I=E,O=C,L=k;for(x=0;x<4;x++)S[(3&-x)+w]=W[I>>>24]<<24^W[O>>16&255]<<16^W[L>>8&255]<<8^W[255&D]^P[R++],E=I,I=O,O=L,L=D,D=E},AES}(),E=function(v){function AsyncStream(){var _;return(_=v.call(this,T)||this).jobs=[],_.delay=1,_.timeout_=null,_}_(AsyncStream,v);var b=AsyncStream.prototype;return b.processJob_=function processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},b.push=function push(v){this.jobs.push(v),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},AsyncStream}(T),C=function ntoh(v){return v<<24|(65280&v)<<8|(16711680&v)>>8|v>>>24},k=function(){function Decrypter(v,_,b,T){var S=Decrypter.STEP,w=new Int32Array(v.buffer),k=new Uint8Array(v.byteLength),x=0;for(this.asyncStream_=new E,this.asyncStream_.push(this.decryptChunk_(w.subarray(x,x+S),_,b,k)),x=S;x<w.length;x+=S)b=new Uint32Array([C(w[x-4]),C(w[x-3]),C(w[x-2]),C(w[x-1])]),this.asyncStream_.push(this.decryptChunk_(w.subarray(x,x+S),_,b,k));this.asyncStream_.push((function(){T(null,function unpad(v){return v.subarray(0,v.byteLength-v[v.byteLength-1])}(k))}))}return Decrypter.prototype.decryptChunk_=function decryptChunk_(v,_,b,T){return function(){var S=function decrypt(v,_,b){var T,S,E,k,x,P,I,O,L,D=new Int32Array(v.buffer,v.byteOffset,v.byteLength>>2),N=new w(Array.prototype.slice.call(_)),R=new Uint8Array(v.byteLength),B=new Int32Array(R.buffer);for(T=b[0],S=b[1],E=b[2],k=b[3],L=0;L<D.length;L+=4)x=C(D[L]),P=C(D[L+1]),I=C(D[L+2]),O=C(D[L+3]),N.decrypt(x,P,I,O,B,L),B[L]=C(B[L]^T),B[L+1]=C(B[L+1]^S),B[L+2]=C(B[L+2]^E),B[L+3]=C(B[L+3]^k),T=x,S=P,E=I,k=O;return R}(v,_,b);T.set(S,v.byteOffset)}},v(Decrypter,null,[{"key":"STEP","get":function get(){return 32e3}}]),Decrypter}();new function DecrypterWorker(v){v.onmessage=function(_){var b=_.data,T=new Uint8Array(b.encrypted.bytes,b.encrypted.byteOffset,b.encrypted.byteLength),S=new Uint32Array(b.key.bytes,b.key.byteOffset,b.key.byteLength/4),w=new Uint32Array(b.iv.bytes,b.iv.byteOffset,b.iv.byteLength/4);new k(T,S,w,(function(_,T){v.postMessage(function createTransferableMessage(v){var _={};return Object.keys(v).forEach((function(b){var T=v[b];ArrayBuffer.isView(T)?_[b]={"bytes":T.buffer,"byteOffset":T.byteOffset,"byteLength":T.byteLength}:_[b]=T})),_}({"source":b.source,"decrypted":T}),[T.buffer])}))}}(b)}()})),pu=function audioTrackKind_(v){var _=v.default?"main":"alternative";return v.characteristics&&v.characteristics.indexOf("public.accessibility.describes-video")>=0&&(_="main-desc"),_},fu=function stopLoaders(v,_){v.abort(),v.pause(),_&&_.activePlaylistLoader&&(_.activePlaylistLoader.pause(),_.activePlaylistLoader=null)},mu=function startLoaders(v,_){_.activePlaylistLoader=v,v.load()},gu={"AUDIO":function AUDIO(v,_){return function(){var b=_.segmentLoaders[v],T=_.mediaTypes[v],S=_.blacklistCurrentPlaylist;fu(b,T);var w=T.activeTrack(),E=T.activeGroup(),C=(E.filter((function(v){return v.default}))[0]||E[0]).id,k=T.tracks[C];if(w!==k){for(var x in videojs$1.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),T.tracks)T.tracks[x].enabled=T.tracks[x]===k;T.onTrackChanged()}else S({"message":"Problem encountered loading the default audio track."})}},"SUBTITLES":function SUBTITLES(v,_){return function(){var b=_.segmentLoaders[v],T=_.mediaTypes[v];videojs$1.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),fu(b,T);var S=T.activeTrack();S&&(S.mode="disabled"),T.onTrackChanged()}}},vu={"AUDIO":function AUDIO(v,_,b){if(_){var T=b.tech,S=b.requestOptions,w=b.segmentLoaders[v];_.on("loadedmetadata",(function(){var v=_.media();w.playlist(v,S),(!T.paused()||v.endList&&"none"!==T.preload())&&w.load()})),_.on("loadedplaylist",(function(){w.playlist(_.media(),S),T.paused()||w.load()})),_.on("error",gu[v](v,b))}},"SUBTITLES":function SUBTITLES(v,_,b){var T=b.tech,S=b.requestOptions,w=b.segmentLoaders[v],E=b.mediaTypes[v];_.on("loadedmetadata",(function(){var v=_.media();w.playlist(v,S),w.track(E.activeTrack()),(!T.paused()||v.endList&&"none"!==T.preload())&&w.load()})),_.on("loadedplaylist",(function(){w.playlist(_.media(),S),T.paused()||w.load()})),_.on("error",gu[v](v,b))}},yu={"AUDIO":function AUDIO(v,_){var b=_.vhs,T=_.sourceType,S=_.segmentLoaders[v],w=_.requestOptions,E=_.master,C=E.mediaGroups,k=E.playlists,x=_.mediaTypes[v],P=x.groups,I=x.tracks,O=_.masterPlaylistLoader;C[v]&&0!==Object.keys(C[v]).length||(C[v]={"main":{"default":{"default":!0}}});var L=function _loop(S){P[S]||(P[S]=[]);var E=k.filter((function(_){return _.attributes[v]===S})),x=function _loop2(k){var x=C[v][S][k];!E.filter((function(v){return v.resolvedUri!==x.resolvedUri})).length&&E.length&&delete x.resolvedUri;var L=void 0;if(L="vhs-json"===T&&x.playlists?new rl(x.playlists[0],b,w):x.resolvedUri?new rl(x.resolvedUri,b,w):x.playlists&&"dash"===T?new Wl(x.playlists[0],b,w,O):null,x=videojs$1.mergeOptions({"id":k,"playlistLoader":L},x),vu[v](v,x.playlistLoader,_),P[S].push(x),void 0===I[k]){var D=new videojs$1.AudioTrack({"id":k,"kind":pu(x),"enabled":!1,"language":x.language,"default":x.default,"label":k});I[k]=D}};for(var L in C[v][S])x(L)};for(var D in C[v])L(D);S.on("error",gu[v](v,_))},"SUBTITLES":function SUBTITLES(v,_){var b=_.tech,T=_.vhs,S=_.sourceType,w=_.segmentLoaders[v],E=_.requestOptions,C=_.master.mediaGroups,k=_.mediaTypes[v],x=k.groups,P=k.tracks,I=_.masterPlaylistLoader;for(var O in C[v])for(var L in x[O]||(x[O]=[]),C[v][O])if(!C[v][O][L].forced){var D=C[v][O][L],N=void 0;if("hls"===S)N=new rl(D.resolvedUri,T,E);else if("dash"===S){if(!D.playlists.filter((function(v){return v.excludeUntil!==1/0})).length)return;N=new Wl(D.playlists[0],T,E,I)}else"vhs-json"===S&&(N=new rl(D.playlists?D.playlists[0]:D.resolvedUri,T,E));if(D=videojs$1.mergeOptions({"id":L,"playlistLoader":N},D),vu[v](v,D.playlistLoader,_),x[O].push(D),void 0===P[L]){var R=b.addRemoteTextTrack({"id":L,"kind":"subtitles","default":D.default&&D.autoselect,"language":D.language,"label":L},!1).track;P[L]=R}}w.on("error",gu[v](v,_))},"CLOSED-CAPTIONS":function CLOSEDCAPTIONS(v,_){var b=_.tech,T=_.master.mediaGroups,S=_.mediaTypes[v],w=S.groups,E=S.tracks;for(var C in T[v])for(var k in w[C]||(w[C]=[]),T[v][C]){var x=T[v][C][k];if(x.instreamId.match(/CC\d/)&&(w[C].push(videojs$1.mergeOptions({"id":k},x)),void 0===E[k])){var P=b.addRemoteTextTrack({"id":x.instreamId,"kind":"captions","default":x.default&&x.autoselect,"language":x.language,"label":k},!1).track;E[k]=P}}}},_u={"AUDIO":function AUDIO(v,_){return function(){var b=_.mediaTypes[v].tracks;for(var T in b)if(b[T].enabled)return b[T];return null}},"SUBTITLES":function SUBTITLES(v,_){return function(){var b=_.mediaTypes[v].tracks;for(var T in b)if("showing"===b[T].mode||"hidden"===b[T].mode)return b[T];return null}}},bu=function setupMediaGroups(v){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(_){yu[_](_,v)}));var _=v.mediaTypes,b=v.masterPlaylistLoader,T=v.tech,S=v.vhs;["AUDIO","SUBTITLES"].forEach((function(b){_[b].activeGroup=function activeGroup(v,_){return function(b){var T=_.masterPlaylistLoader,S=_.mediaTypes[v].groups,w=T.media();if(!w)return null;var E=null;return w.attributes[v]&&(E=S[w.attributes[v]]),E=E||S.main,void 0===b?E:null===b?null:E.filter((function(v){return v.id===b.id}))[0]||null}}(b,v),_[b].activeTrack=_u[b](b,v),_[b].onGroupChanged=function onGroupChanged(v,_){return function(){var b=_.segmentLoaders,T=b[v],S=b.main,w=_.mediaTypes[v],E=w.activeTrack(),C=w.activeGroup(E),k=w.activePlaylistLoader;fu(T,w),C&&(C.playlistLoader?(T.resyncLoader(),mu(C.playlistLoader,w)):k&&S.resetEverything())}}(b,v),_[b].onGroupChanging=function onGroupChanging(v,_){return function(){var b=_.segmentLoaders[v];b.abort(),b.pause()}}(b,v),_[b].onTrackChanged=function onTrackChanged(v,_){return function(){var b=_.segmentLoaders,T=b[v],S=b.main,w=_.mediaTypes[v],E=w.activeTrack(),C=w.activeGroup(E),k=w.activePlaylistLoader;if(fu(T,w),C){if("AUDIO"===v){if(!C.playlistLoader)return S.setAudio(!0),void S.resetEverything();T.setAudio(!0),S.setAudio(!1)}k!==C.playlistLoader?(T.track&&T.track(E),T.resetEverything(),mu(C.playlistLoader,w)):mu(C.playlistLoader,w)}}}(b,v)}));var w=_.AUDIO.activeGroup();if(w){var E=(w.filter((function(v){return v.default}))[0]||w[0]).id;_.AUDIO.tracks[E].enabled=!0,_.AUDIO.onTrackChanged()}b.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(v){return _[v].onGroupChanged()}))})),b.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(v){return _[v].onGroupChanging()}))}));var C=function onAudioTrackChanged(){_.AUDIO.onTrackChanged(),T.trigger({"type":"usage","name":"vhs-audio-change"}),T.trigger({"type":"usage","name":"hls-audio-change"})};for(var k in T.audioTracks().addEventListener("change",C),T.remoteTextTracks().addEventListener("change",_.SUBTITLES.onTrackChanged),S.on("dispose",(function(){T.audioTracks().removeEventListener("change",C),T.remoteTextTracks().removeEventListener("change",_.SUBTITLES.onTrackChanged)})),T.clearTracks("audio"),_.AUDIO.tracks)T.audioTracks().addTrack(_.AUDIO.tracks[k])},Tu=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Su=function sumLoaderStat(v){return this.audioSegmentLoader_[v]+this.mainSegmentLoader_[v]},wu=function(v){function MasterPlaylistController(_){var b;b=v.call(this)||this;var T=_.src,w=_.handleManifestRedirects,E=_.withCredentials,C=_.tech,k=_.bandwidth,x=_.externVhs,I=_.useCueTags,O=_.blacklistDuration,L=_.enableLowInitialPlaylist,D=_.sourceType,N=_.cacheEncryptionKeys,R=_.handlePartialData,B=_.experimentalBufferBasedABR;if(!T)throw new Error("A non-empty playlist URL or JSON manifest string is required");Uc=x,b.experimentalBufferBasedABR=Boolean(B),b.withCredentials=E,b.tech_=C,b.vhs_=C.vhs,b.sourceType_=D,b.useCueTags_=I,b.blacklistDuration=O,b.enableLowInitialPlaylist=L,b.useCueTags_&&(b.cueTagsTrack_=b.tech_.addTextTrack("metadata","ad-cues"),b.cueTagsTrack_.inBandMetadataTrackDispatchType=""),b.requestOptions_={"withCredentials":E,"handleManifestRedirects":w,"timeout":null},b.on("error",b.pauseLoading),b.mediaTypes_=function createMediaTypes(){var v={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(_){v[_]={"groups":{},"tracks":{},"activePlaylistLoader":null,"activeGroup":video_es_noop,"activeTrack":video_es_noop,"onGroupChanged":video_es_noop,"onTrackChanged":video_es_noop}})),v}(),b.mediaSource=new S.a.MediaSource,b.handleDurationChange_=b.handleDurationChange_.bind(P()(b)),b.handleSourceOpen_=b.handleSourceOpen_.bind(P()(b)),b.handleSourceEnded_=b.handleSourceEnded_.bind(P()(b)),b.mediaSource.addEventListener("durationchange",b.handleDurationChange_),b.mediaSource.addEventListener("sourceopen",b.handleSourceOpen_),b.mediaSource.addEventListener("sourceended",b.handleSourceEnded_),b.seekable_=videojs$1.createTimeRanges(),b.hasPlayed_=!1,b.syncController_=new uu(_),b.segmentMetadataTrack_=C.addRemoteTextTrack({"kind":"metadata","label":"segment-metadata"},!1).track,b.decrypter_=new hu,b.sourceUpdater_=new ru(b.mediaSource),b.inbandTextTracks_={},b.timelineChangeController_=new du;var j={"vhs":b.vhs_,"mediaSource":b.mediaSource,"currentTime":b.tech_.currentTime.bind(b.tech_),"seekable":function seekable(){return b.seekable()},"seeking":function seeking(){return b.tech_.seeking()},"duration":function duration(){return b.duration()},"hasPlayed":function hasPlayed(){return b.hasPlayed_},"goalBufferLength":function goalBufferLength(){return b.goalBufferLength()},"bandwidth":k,"syncController":b.syncController_,"decrypter":b.decrypter_,"sourceType":b.sourceType_,"inbandTextTracks":b.inbandTextTracks_,"cacheEncryptionKeys":N,"handlePartialData":R,"sourceUpdater":b.sourceUpdater_,"timelineChangeController":b.timelineChangeController_};return b.masterPlaylistLoader_="dash"===b.sourceType_?new Wl(T,b.vhs_,b.requestOptions_):new rl(T,b.vhs_,b.requestOptions_),b.setupMasterPlaylistLoaderListeners_(),b.mainSegmentLoader_=new jc(videojs$1.mergeOptions(j,{"segmentMetadataTrack":b.segmentMetadataTrack_,"loaderType":"main"}),_),b.audioSegmentLoader_=new jc(videojs$1.mergeOptions(j,{"loaderType":"audio"}),_),b.subtitleSegmentLoader_=new su(videojs$1.mergeOptions(j,{"loaderType":"vtt","featuresNativeTextTracks":b.tech_.featuresNativeTextTracks}),_),b.setupSegmentLoaderListeners_(),b.experimentalBufferBasedABR&&(b.masterPlaylistLoader_.one("loadedplaylist",(function(){return b.startABRTimer_()})),b.tech_.on("pause",(function(){return b.stopABRTimer_()})),b.tech_.on("play",(function(){return b.startABRTimer_()}))),Tu.forEach((function(v){b[v+"_"]=Su.bind(P()(b),v)})),b.logger_=Sc("MPC"),b.triggeredFmp4Usage=!1,b.masterPlaylistLoader_.load(),b}O()(MasterPlaylistController,v);var _=MasterPlaylistController.prototype;return _.checkABR_=function checkABR_(){var v=this.selectPlaylist();this.shouldSwitchToMedia_(v)&&this.masterPlaylistLoader_.media(v)},_.startABRTimer_=function startABRTimer_(){var v=this;this.stopABRTimer_(),this.abrTimer_=S.a.setInterval((function(){return v.checkABR_()}),250)},_.stopABRTimer_=function stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(S.a.clearInterval(this.abrTimer_),this.abrTimer_=null)},_.setupMasterPlaylistLoaderListeners_=function setupMasterPlaylistLoaderListeners_(){var v=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var _=v.masterPlaylistLoader_.media(),b=1.5*_.targetDuration*1e3;bl(v.masterPlaylistLoader_.master,v.masterPlaylistLoader_.media())?v.requestOptions_.timeout=0:v.requestOptions_.timeout=b,_.endList&&"none"!==v.tech_.preload()&&(v.mainSegmentLoader_.playlist(_,v.requestOptions_),v.mainSegmentLoader_.load()),bu({"sourceType":v.sourceType_,"segmentLoaders":{"AUDIO":v.audioSegmentLoader_,"SUBTITLES":v.subtitleSegmentLoader_,"main":v.mainSegmentLoader_},"tech":v.tech_,"requestOptions":v.requestOptions_,"masterPlaylistLoader":v.masterPlaylistLoader_,"vhs":v.vhs_,"master":v.master(),"mediaTypes":v.mediaTypes_,"blacklistCurrentPlaylist":v.blacklistCurrentPlaylist.bind(v)}),v.triggerPresenceUsage_(v.master(),_),v.setupFirstPlay(),!v.mediaTypes_.AUDIO.activePlaylistLoader||v.mediaTypes_.AUDIO.activePlaylistLoader.media()?v.trigger("selectedinitialmedia"):v.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){v.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var _=v.masterPlaylistLoader_.media();if(!_){var b;if(v.excludeUnsupportedVariants_(),v.enableLowInitialPlaylist&&(b=v.selectInitialPlaylist()),b||(b=v.selectPlaylist()),!b||!v.shouldSwitchToMedia_(b))return;if(v.initialMedia_=b,v.masterPlaylistLoader_.media(v.initialMedia_),!("vhs-json"===v.sourceType_&&v.initialMedia_.segments))return;_=v.initialMedia_}v.handleUpdatedMediaPlaylist(_)})),this.masterPlaylistLoader_.on("error",(function(){v.blacklistCurrentPlaylist(v.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){v.mainSegmentLoader_.abort(),v.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var _=v.masterPlaylistLoader_.media(),b=1.5*_.targetDuration*1e3;bl(v.masterPlaylistLoader_.master,v.masterPlaylistLoader_.media())?v.requestOptions_.timeout=0:v.requestOptions_.timeout=b,v.mainSegmentLoader_.playlist(_,v.requestOptions_),v.mainSegmentLoader_.load(),v.tech_.trigger({"type":"mediachange","bubbles":!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var _=v.masterPlaylistLoader_.media();v.stuckAtPlaylistEnd_(_)&&(v.blacklistCurrentPlaylist({"message":"Playlist no longer updating."}),v.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){v.tech_.trigger({"type":"usage","name":"vhs-rendition-disabled"}),v.tech_.trigger({"type":"usage","name":"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){v.tech_.trigger({"type":"usage","name":"vhs-rendition-enabled"}),v.tech_.trigger({"type":"usage","name":"hls-rendition-enabled"})}))},_.handleUpdatedMediaPlaylist=function handleUpdatedMediaPlaylist(v){this.useCueTags_&&this.updateAdCues_(v),this.mainSegmentLoader_.playlist(v,this.requestOptions_),this.updateDuration(!v.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},_.triggerPresenceUsage_=function triggerPresenceUsage_(v,_){var b=v.mediaGroups||{},T=!0,S=Object.keys(b.AUDIO);for(var w in b.AUDIO)for(var E in b.AUDIO[w]){b.AUDIO[w][E].uri||(T=!1)}T&&(this.tech_.trigger({"type":"usage","name":"vhs-demuxed"}),this.tech_.trigger({"type":"usage","name":"hls-demuxed"})),Object.keys(b.SUBTITLES).length&&(this.tech_.trigger({"type":"usage","name":"vhs-webvtt"}),this.tech_.trigger({"type":"usage","name":"hls-webvtt"})),Uc.Playlist.isAes(_)&&(this.tech_.trigger({"type":"usage","name":"vhs-aes"}),this.tech_.trigger({"type":"usage","name":"hls-aes"})),S.length&&Object.keys(b.AUDIO[S[0]]).length>1&&(this.tech_.trigger({"type":"usage","name":"vhs-alternate-audio"}),this.tech_.trigger({"type":"usage","name":"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({"type":"usage","name":"vhs-playlist-cue-tags"}),this.tech_.trigger({"type":"usage","name":"hls-playlist-cue-tags"}))},_.shouldSwitchToMedia_=function shouldSwitchToMedia_(v){var _=this.masterPlaylistLoader_.media(),b=this.tech_.buffered();return function shouldSwitchToMedia(v){var _=v.currentPlaylist,b=v.nextPlaylist,T=v.forwardBuffer,S=v.bufferLowWaterLine,w=v.bufferHighWaterLine,E=v.duration,C=v.experimentalBufferBasedABR,k=v.log;if(!b)return videojs$1.log.warn("We received no playlist to switch to. Please check your stream."),!1;var x="allowing switch "+(_&&_.id||"null")+" -> "+b.id;if(!_||!_.endList)return k(x+" as current playlist "+(_?"is live":"is not set")),!0;if(b.id===_.id)return!1;var P=C?ql.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ql.MAX_BUFFER_LOW_WATER_LINE;if(E<P)return k(x+" as duration < max low water line ("+E+" < "+P+")"),!0;var I=b.attributes.BANDWIDTH,O=_.attributes.BANDWIDTH;if(I<O&&(!C||T<w)){var L=x+" as next bandwidth < current bandwidth ("+I+" < "+O+")";return C&&(L+=" and forwardBuffer < bufferHighWaterLine ("+T+" < "+w+")"),k(L),!0}if((!C||I>O)&&T>=S){var D=x+" as forwardBuffer >= bufferLowWaterLine ("+T+" >= "+S+")";return C&&(D+=" and next bandwidth > current bandwidth ("+I+" > "+O+")"),k(D),!0}return k("not "+x+" as no switching criteria met"),!1}({"currentPlaylist":_,"nextPlaylist":v,"forwardBuffer":b.length?b.end(b.length-1)-this.tech_.currentTime():0,"bufferLowWaterLine":this.bufferLowWaterLine(),"bufferHighWaterLine":this.bufferHighWaterLine(),"duration":this.duration(),"experimentalBufferBasedABR":this.experimentalBufferBasedABR,"log":this.logger_})},_.setupSegmentLoaderListeners_=function setupSegmentLoaderListeners_(){var v=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var _=v.selectPlaylist();v.shouldSwitchToMedia_(_)&&v.masterPlaylistLoader_.media(_),v.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){v.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){v.blacklistCurrentPlaylist(v.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){v.error=v.mainSegmentLoader_.error_,v.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){v.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){v.tech_.trigger({"type":"usage","name":"vhs-timestamp-offset"}),v.tech_.trigger({"type":"usage","name":"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){v.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){v.error=v.audioSegmentLoader_.error_,v.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){v.logger_("main segment loader ended"),v.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(_){v.experimentalBufferBasedABR||(v.delegateLoaders_("all",["abort"]),v.blacklistCurrentPlaylist({"message":"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var _=function updateCodecs(){if(!v.sourceUpdater_.hasCreatedSourceBuffers())return v.tryToCreateSourceBuffers_();var _=v.getCodecsOrExclude_();_&&v.sourceUpdater_.addOrChangeSourceBuffers(_)};this.mainSegmentLoader_.on("trackinfo",_),this.audioSegmentLoader_.on("trackinfo",_),this.mainSegmentLoader_.on("fmp4",(function(){v.triggeredFmp4Usage||(v.tech_.trigger({"type":"usage","name":"vhs-fmp4"}),v.tech_.trigger({"type":"usage","name":"hls-fmp4"}),v.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){v.triggeredFmp4Usage||(v.tech_.trigger({"type":"usage","name":"vhs-fmp4"}),v.tech_.trigger({"type":"usage","name":"hls-fmp4"}),v.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){v.logger_("audioSegmentLoader ended"),v.onEndOfStream()}))},_.mediaSecondsLoaded_=function mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},_.load=function load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},_.smoothQualityChange_=function smoothQualityChange_(v){void 0===v&&(v=this.selectPlaylist()),v!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(v),this.mainSegmentLoader_.resetLoader())},_.fastQualityChange_=function fastQualityChange_(v){var _=this;void 0===v&&(v=this.selectPlaylist()),v!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(v),this.mainSegmentLoader_.resetEverything((function(){videojs$1.browser.IE_VERSION||videojs$1.browser.IS_EDGE?_.tech_.setCurrentTime(_.tech_.currentTime()+.04):_.tech_.setCurrentTime(_.tech_.currentTime())})))},_.play=function play(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var v=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<v.start(0)?this.tech_.setCurrentTime(v.end(v.length-1)):void 0}},_.setupFirstPlay=function setupFirstPlay(){var v=this,_=this.masterPlaylistLoader_.media();if(!_||this.tech_.paused()||this.hasPlayed_)return!1;if(!_.endList){var b=this.seekable();if(!b.length)return!1;if(videojs$1.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){v.trigger("firstplay"),v.tech_.setCurrentTime(b.end(0)),v.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(b.end(0))}return this.hasPlayed_=!0,this.load(),!0},_.handleSourceOpen_=function handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var v=this.tech_.play();void 0!==v&&"function"==typeof v.then&&v.then(null,(function(v){}))}this.trigger("sourceopen")},_.handleSourceEnded_=function handleSourceEnded_(){if(this.inbandTextTracks_.metadataTrack_){var v=this.inbandTextTracks_.metadataTrack_.cues;if(v&&v.length){var _=this.duration();v[v.length-1].endTime=isNaN(_)||Math.abs(_)===1/0?Number.MAX_VALUE:_}}},_.handleDurationChange_=function handleDurationChange_(){this.tech_.trigger("durationchange")},_.onEndOfStream=function onEndOfStream(){var v=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(v=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?v&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),v&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},_.stuckAtPlaylistEnd_=function stuckAtPlaylistEnd_(v){if(!this.seekable().length)return!1;var _=this.syncController_.getExpiredTime(v,this.duration());if(null===_)return!1;var b=Uc.Playlist.playlistEnd(v,_),T=this.tech_.currentTime(),S=this.tech_.buffered();if(!S.length)return b-T<=.1;var w=S.end(S.length-1);return w-T<=.1&&b-w<=.1},_.blacklistCurrentPlaylist=function blacklistCurrentPlaylist(v,_){void 0===v&&(v={});var b=v.playlist||this.masterPlaylistLoader_.media();if(_=_||v.blacklistDuration||this.blacklistDuration,!b)return this.error=v,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var T=this.masterPlaylistLoader_.master.playlists,S=T.filter(yl),w=1===S.length&&S[0]===b;if(1===T.length&&_!==1/0)return videojs$1.log.warn("Problem encountered with playlist "+b.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(w);if(w){var E=!1;T.forEach((function(v){if(v!==b){var _=v.excludeUntil;void 0!==_&&_!==1/0&&(E=!0,delete v.excludeUntil)}})),E&&(videojs$1.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}b.excludeUntil=Date.now()+1e3*_,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({"type":"usage","name":"vhs-rendition-blacklisted"}),this.tech_.trigger({"type":"usage","name":"hls-rendition-blacklisted"});var C=this.selectPlaylist();if(!C)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var k=v.internal?this.logger_:videojs$1.log.warn,x=v.message?" "+v.message:"";k((v.internal?"Internal problem":"Problem")+" encountered with playlist "+b.id+"."+x+" Switching to playlist "+C.id+"."),C.attributes.AUDIO!==b.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),C.attributes.SUBTITLES!==b.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var P=C.targetDuration/2*1e3||5e3,I="number"==typeof C.lastRequest&&Date.now()-C.lastRequest<=P;return this.masterPlaylistLoader_.media(C,w||I)},_.pauseLoading=function pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},_.delegateLoaders_=function delegateLoaders_(v,_){var b=this,T=[],S="all"===v;(S||"main"===v)&&T.push(this.masterPlaylistLoader_);var w=[];(S||"audio"===v)&&w.push("AUDIO"),(S||"subtitle"===v)&&(w.push("CLOSED-CAPTIONS"),w.push("SUBTITLES")),w.forEach((function(v){var _=b.mediaTypes_[v]&&b.mediaTypes_[v].activePlaylistLoader;_&&T.push(_)})),["main","audio","subtitle"].forEach((function(_){var S=b[_+"SegmentLoader_"];!S||v!==_&&"all"!==v||T.push(S)})),T.forEach((function(v){return _.forEach((function(_){"function"==typeof v[_]&&v[_]()}))}))},_.setCurrentTime=function setCurrentTime(v){var _=ol(this.tech_.buffered(),v);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?_&&_.length?v:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},_.duration=function duration(){if(!this.masterPlaylistLoader_)return 0;var v=this.masterPlaylistLoader_.media();return v?v.endList?this.mediaSource?this.mediaSource.duration:Uc.Playlist.duration(v):1/0:0},_.seekable=function seekable(){return this.seekable_},_.onSyncInfoUpdate_=function onSyncInfoUpdate_(){var v;if(this.masterPlaylistLoader_){var _=this.masterPlaylistLoader_.media();if(_){var b=this.syncController_.getExpiredTime(_,this.duration());if(null!==b){var T=this.masterPlaylistLoader_.master.suggestedPresentationDelay,S=Uc.Playlist.seekable(_,b,T);if(0!==S.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(_=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(b=this.syncController_.getExpiredTime(_,this.duration())))return;if(0===(v=Uc.Playlist.seekable(_,b,T)).length)return}var w,E;this.seekable_&&this.seekable_.length&&(w=this.seekable_.end(0),E=this.seekable_.start(0)),v?v.start(0)>S.end(0)||S.start(0)>v.end(0)?this.seekable_=S:this.seekable_=videojs$1.createTimeRanges([[v.start(0)>S.start(0)?v.start(0):S.start(0),v.end(0)<S.end(0)?v.end(0):S.end(0)]]):this.seekable_=S,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===w&&this.seekable_.start(0)===E||(this.logger_("seekable updated ["+ll(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},_.updateDuration=function updateDuration(v){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,v),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(v){var _=this.seekable();if(!_.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<_.end(_.length-1))&&this.sourceUpdater_.setDuration(_.end(_.length-1))}else{var b=this.tech_.buffered(),T=Uc.Playlist.duration(this.masterPlaylistLoader_.media());b.length>0&&(T=Math.max(T,b.end(b.length-1))),this.mediaSource.duration!==T&&this.sourceUpdater_.setDuration(T)}},_.dispose=function dispose(){var v=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(_){var b=v.mediaTypes_[_].groups;for(var T in b)b[T].forEach((function(v){v.playlistLoader&&v.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},_.master=function master(){return this.masterPlaylistLoader_.master},_.media=function media(){return this.masterPlaylistLoader_.media()||this.initialMedia_},_.areMediaTypesKnown_=function areMediaTypesKnown_(){var v=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||v&&!this.audioSegmentLoader_.currentMediaInfo_)},_.getCodecsOrExclude_=function getCodecsOrExclude_(){var v=this,_={"main":this.mainSegmentLoader_.currentMediaInfo_||{},"audio":this.audioSegmentLoader_.currentMediaInfo_||{}};_.video=_.main;var b=Tc(this.master(),this.media()),T={},S=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(_.main.hasVideo&&(T.video=b.video||_.main.videoCodec||yi.DEFAULT_VIDEO_CODEC),_.main.isMuxed&&(T.video+=","+(b.audio||_.main.audioCodec||yi.DEFAULT_AUDIO_CODEC)),(_.main.hasAudio&&!_.main.isMuxed||_.audio.hasAudio||S)&&(T.audio=b.audio||_.main.audioCodec||_.audio.audioCodec||yi.DEFAULT_AUDIO_CODEC,_.audio.isFmp4=_.main.hasAudio&&!_.main.isMuxed?_.main.isFmp4:_.audio.isFmp4),T.audio||T.video){var w,E={};if(["video","audio"].forEach((function(v){if(T.hasOwnProperty(v)&&!function supportFunction(v,_){return v?Object(yi.browserSupportsCodec)(_):Object(yi.muxerSupportsCodec)(_)}(_[v].isFmp4,T[v])){var b=_[v].isFmp4?"browser":"muxer";E[b]=E[b]||[],E[b].push(T[v]),"audio"===v&&(w=b)}})),S&&w&&this.media().attributes.AUDIO){var C=this.media().attributes.AUDIO;this.master().playlists.forEach((function(_){(_.attributes&&_.attributes.AUDIO)===C&&_!==v.media()&&(_.excludeUntil=1/0)})),this.logger_("excluding audio group "+C+" as "+w+' does not support codec(s): "'+T.audio+'"')}if(!Object.keys(E).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var k=[];if(["video","audio"].forEach((function(_){var b=(Object(yi.parseCodecs)(v.sourceUpdater_.codecs[_]||"")[_]||{}).type,S=(Object(yi.parseCodecs)(T[_]||"")[_]||{}).type;b&&S&&b.toLowerCase()!==S.toLowerCase()&&k.push('"'+v.sourceUpdater_.codecs[_]+'" -> "'+T[_]+'"')})),k.length)return void this.blacklistCurrentPlaylist({"playlist":this.media(),"message":"Codec switching not supported: "+k.join(", ")+".","blacklistDuration":1/0,"internal":!0})}return T}var x=Object.keys(E).reduce((function(v,_){return v&&(v+=", "),v+=_+' does not support codec(s): "'+E[_].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({"playlist":this.media(),"internal":!0,"message":x,"blacklistDuration":1/0})}else this.blacklistCurrentPlaylist({"playlist":this.media(),"message":"Could not determine codecs for playlist.","blacklistDuration":1/0})},_.tryToCreateSourceBuffers_=function tryToCreateSourceBuffers_(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var v=this.getCodecsOrExclude_();if(v){this.sourceUpdater_.createSourceBuffers(v);var _=[v.video,v.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(_)}}},_.excludeUnsupportedVariants_=function excludeUnsupportedVariants_(){var v=this,_=this.master().playlists,b=[];Object.keys(_).forEach((function(T){var S=_[T];if(-1===b.indexOf(S.id)){b.push(S.id);var w=Tc(v.master,S),E=[];!w.audio||Object(yi.muxerSupportsCodec)(w.audio)||Object(yi.browserSupportsCodec)(w.audio)||(S.excludeUntil=1/0,E.push("audio codec "+w.audio)),!w.video||Object(yi.muxerSupportsCodec)(w.video)||Object(yi.browserSupportsCodec)(w.video)||(S.excludeUntil=1/0,E.push("video codec "+w.video)),w.text&&"stpp.ttml.im1t"===w.text&&(S.excludeUntil=1/0,E.push("text codec "+w.text)),E.length&&v.logger_("excluding "+S.id+" as codecs "+E.join(", ")+" are unsupported")}}))},_.excludeIncompatibleVariants_=function excludeIncompatibleVariants_(v){var _=this,b=Object(yi.parseCodecs)(v),T=Object.keys(b).length;this.master().playlists.forEach((function(v){if(v.excludeUntil!==1/0){var S={},w=2,E=[],C=Tc(_.masterPlaylistLoader_.master,v);if(C.audio||C.video){var k=[C.video,C.audio].filter(Boolean).join(",");S=Object(yi.parseCodecs)(k),w=Object.keys(S).length}w!==T&&(E.push('codec count "'+w+'" !== "'+T+'"'),v.excludeUntil=1/0),_.sourceUpdater_.canChangeType()||(S.video&&b.video&&S.video.type.toLowerCase()!==b.video.type.toLowerCase()&&(E.push('video codec "'+S.video.type+'" !== "'+b.video.type+'"'),v.excludeUntil=1/0),S.audio&&b.audio&&S.audio.type.toLowerCase()!==b.audio.type.toLowerCase()&&(v.excludeUntil=1/0,E.push('audio codec "'+S.audio.type+'" !== "'+b.audio.type+'"'))),E.length&&_.logger_("blacklisting "+v.id+": "+E.join(" && "))}}))},_.updateAdCues_=function updateAdCues_(v){var _=0,b=this.seekable();b.length&&(_=b.start(0)),function updateAdCues(v,_,b){if(void 0===b&&(b=0),v.segments)for(var T,w=b,E=0;E<v.segments.length;E++){var C=v.segments[E];if(T||(T=lu(_,w+C.duration/2)),T){if("cueIn"in C){T.endTime=w,T.adEndTime=w,w+=C.duration,T=null;continue}if(w<T.endTime){w+=C.duration;continue}T.endTime+=C.duration}else if("cueOut"in C&&((T=new S.a.VTTCue(w,w+C.duration,C.cueOut)).adStartTime=w,T.adEndTime=w+parseFloat(C.cueOut),_.addCue(T)),"cueOutCont"in C){var k=C.cueOutCont.split("/").map(parseFloat),x=k[0],P=k[1];(T=new S.a.VTTCue(w,w+C.duration,"")).adStartTime=w-x,T.adEndTime=T.adStartTime+P,_.addCue(T)}w+=C.duration}}(v,this.cueTagsTrack_,_)},_.goalBufferLength=function goalBufferLength(){var v=this.tech_.currentTime(),_=ql.GOAL_BUFFER_LENGTH,b=ql.GOAL_BUFFER_LENGTH_RATE,T=Math.max(_,ql.MAX_GOAL_BUFFER_LENGTH);return Math.min(_+v*b,T)},_.bufferLowWaterLine=function bufferLowWaterLine(){var v=this.tech_.currentTime(),_=ql.BUFFER_LOW_WATER_LINE,b=ql.BUFFER_LOW_WATER_LINE_RATE,T=Math.max(_,ql.MAX_BUFFER_LOW_WATER_LINE),S=Math.max(_,ql.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(_+v*b,this.experimentalBufferBasedABR?S:T)},_.bufferHighWaterLine=function bufferHighWaterLine(){return ql.BUFFER_HIGH_WATER_LINE},MasterPlaylistController}(videojs$1.EventTarget),Eu=function Representation(v,_,b){var T=v.masterPlaylistController_,S=T[(v.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(T);if(_.attributes.RESOLUTION){var w=_.attributes.RESOLUTION;this.width=w.width,this.height=w.height}this.bandwidth=_.attributes.BANDWIDTH,this.codecs=Tc(T.master(),_),this.playlist=_,this.id=b,this.enabled=function enableFunction(v,_,b){return function(T){var S=v.master.playlists[_],w=vl(S),E=yl(S);return void 0===T?E:(T?delete S.disabled:S.disabled=!0,T===E||w||(b(),T?v.trigger("renditionenabled"):v.trigger("renditiondisabled")),T)}}(v.playlists,_.id,S)},Cu=["seeking","seeked","pause","playing","error"],ku=function(){function PlaybackWatcher(v){var _=this;this.masterPlaylistController_=v.masterPlaylistController,this.tech_=v.tech,this.seekable=v.seekable,this.allowSeeksWithinUnsafeLiveWindow=v.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=v.liveRangeSafeTimeDelta,this.media=v.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Sc("PlaybackWatcher"),this.logger_("initialize");var b=function canPlayHandler(){return _.monitorCurrentTime_()},T=function waitingHandler(){return _.techWaiting_()},w=function cancelTimerHandler(){return _.cancelTimer_()},E=function fixesBadSeeksHandler(){return _.fixesBadSeeks_()},C=this.masterPlaylistController_,k=["main","subtitle","audio"],x={};k.forEach((function(v){x[v]={"reset":function reset(){return _.resetSegmentDownloads_(v)},"updateend":function updateend(){return _.checkSegmentDownloads_(v)}},C[v+"SegmentLoader_"].on("appendsdone",x[v].updateend),C[v+"SegmentLoader_"].on("playlistupdate",x[v].reset),_.tech_.on(["seeked","seeking"],x[v].reset)})),this.tech_.on("seekablechanged",E),this.tech_.on("waiting",T),this.tech_.on(Cu,w),this.tech_.on("canplay",b),this.dispose=function(){_.logger_("dispose"),_.tech_.off("seekablechanged",E),_.tech_.off("waiting",T),_.tech_.off(Cu,w),_.tech_.off("canplay",b),k.forEach((function(v){C[v+"SegmentLoader_"].off("appendsdone",x[v].updateend),C[v+"SegmentLoader_"].off("playlistupdate",x[v].reset),_.tech_.off(["seeked","seeking"],x[v].reset)})),_.checkCurrentTimeTimeout_&&S.a.clearTimeout(_.checkCurrentTimeTimeout_),_.cancelTimer_()}}var v=PlaybackWatcher.prototype;return v.monitorCurrentTime_=function monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&S.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=S.a.setTimeout(this.monitorCurrentTime_.bind(this),250)},v.resetSegmentDownloads_=function resetSegmentDownloads_(v){var _=this.masterPlaylistController_[v+"SegmentLoader_"];this[v+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+v+" loader"),this[v+"StalledDownloads_"]=0,this[v+"Buffered_"]=_.buffered_()},v.checkSegmentDownloads_=function checkSegmentDownloads_(v){var _=this.masterPlaylistController_,b=_[v+"SegmentLoader_"],T=b.buffered_(),S=function isRangeDifferent(v,_){if(v===_)return!1;if(!v&&_||!_&&v)return!0;if(v.length!==_.length)return!0;for(var b=0;b<v.length;b++)if(v.start(b)!==_.start(b)||v.end(b)!==_.end(b))return!0;return!1}(this[v+"Buffered_"],T);this[v+"Buffered_"]=T,S?this.resetSegmentDownloads_(v):(this[v+"StalledDownloads_"]++,this.logger_("found #"+this[v+"StalledDownloads_"]+" "+v+" appends that did not increase buffer (possible stalled download)",{"playlistId":b.playlist_&&b.playlist_.id,"buffered":cl(T)}),this[v+"StalledDownloads_"]<10||(this.logger_(v+" loader stalled download exclusion"),this.resetSegmentDownloads_(v),this.tech_.trigger({"type":"usage","name":"vhs-"+v+"-download-exclusion"}),"subtitle"!==v&&_.blacklistCurrentPlaylist({"message":"Excessive "+v+" segment downloading detected."},1/0)))},v.checkCurrentTime_=function checkCurrentTime_(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var v=this.tech_.currentTime(),_=this.tech_.buffered();if(this.lastRecordedTime===v&&(!_.length||v+.1>=_.end(_.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&v===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):v===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=v)}},v.cancelTimer_=function cancelTimer_(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},v.fixesBadSeeks_=function fixesBadSeeks_(){if(!this.tech_.seeking())return!1;var v,_=this.seekable(),b=this.tech_.currentTime();this.afterSeekableWindow_(_,b,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(v=_.end(_.length-1));if(this.beforeSeekableWindow_(_,b)){var T=_.start(0);v=T+(T===_.end(0)?0:.1)}if(void 0!==v)return this.logger_("Trying to seek outside of seekable at time "+b+" with seekable range "+ll(_)+". Seeking to "+v+"."),this.tech_.setCurrentTime(v),!0;var S=this.tech_.buffered();return!!function closeToBufferedContent(v){var _=v.buffered,b=v.targetDuration,T=v.currentTime;return!!_.length&&(!(_.end(0)-_.start(0)<2*b)&&(!(T>_.start(0))&&_.start(0)-T<b))}({"buffered":S,"targetDuration":this.media().targetDuration,"currentTime":b})&&(v=S.start(0)+.1,this.logger_("Buffered region starts ("+S.start(0)+")  just beyond seek point ("+b+"). Seeking to "+v+"."),this.tech_.setCurrentTime(v),!0)},v.waiting_=function waiting_(){if(!this.techWaiting_()){var v=this.tech_.currentTime(),_=this.tech_.buffered(),b=ol(_,v);return b.length&&v+3<=b.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(v),this.logger_("Stopped at "+v+" while inside a buffered region ["+b.start(0)+" -> "+b.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({"type":"usage","name":"vhs-unknown-waiting"}),void this.tech_.trigger({"type":"usage","name":"hls-unknown-waiting"})):void 0}},v.techWaiting_=function techWaiting_(){var v=this.seekable(),_=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(v,_)){var b=v.end(v.length-1);return this.logger_("Fell out of live window at time "+_+". Seeking to live point (seekable end) "+b),this.cancelTimer_(),this.tech_.setCurrentTime(b),this.tech_.trigger({"type":"usage","name":"vhs-live-resync"}),this.tech_.trigger({"type":"usage","name":"hls-live-resync"}),!0}var T=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,S=this.tech_.buffered();if(this.videoUnderflow_({"audioBuffered":T.audioBuffered(),"videoBuffered":T.videoBuffered(),"currentTime":_}))return this.cancelTimer_(),this.tech_.setCurrentTime(_),this.tech_.trigger({"type":"usage","name":"vhs-video-underflow"}),this.tech_.trigger({"type":"usage","name":"hls-video-underflow"}),!0;var w=sl(S,_);if(w.length>0){var E=w.start(0)-_;return this.logger_("Stopped at "+_+", setting timer for "+E+", seeking to "+w.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*E,_),!0}return!1},v.afterSeekableWindow_=function afterSeekableWindow_(v,_,b,T){if(void 0===T&&(T=!1),!v.length)return!1;var S=v.end(v.length-1)+.1;return!b.endList&&T&&(S=v.end(v.length-1)+3*b.targetDuration),_>S},v.beforeSeekableWindow_=function beforeSeekableWindow_(v,_){return!!(v.length&&v.start(0)>0&&_<v.start(0)-this.liveRangeSafeTimeDelta)},v.videoUnderflow_=function videoUnderflow_(v){var _=v.videoBuffered,b=v.audioBuffered,T=v.currentTime;if(_){var S;if(_.length&&b.length){var w=ol(_,T-3),E=ol(_,T),C=ol(b,T);C.length&&!E.length&&w.length&&(S={"start":w.end(0),"end":C.end(0)})}else{sl(_,T).length||(S=this.gapFromVideoUnderflow_(_,T))}return!!S&&(this.logger_("Encountered a gap in video from "+S.start+" to "+S.end+". Seeking to current time "+T),!0)}},v.skipTheGap_=function skipTheGap_(v){var _=this.tech_.buffered(),b=this.tech_.currentTime(),T=sl(_,b);this.cancelTimer_(),0!==T.length&&b===v&&(this.logger_("skipTheGap_:","currentTime:",b,"scheduled currentTime:",v,"nextRange start:",T.start(0)),this.tech_.setCurrentTime(T.start(0)+1/30),this.tech_.trigger({"type":"usage","name":"vhs-gap-skip"}),this.tech_.trigger({"type":"usage","name":"hls-gap-skip"}))},v.gapFromVideoUnderflow_=function gapFromVideoUnderflow_(v,_){for(var b=function findGaps(v){if(v.length<2)return videojs$1.createTimeRanges();for(var _=[],b=1;b<v.length;b++){var T=v.end(b-1),S=v.start(b);_.push([T,S])}return videojs$1.createTimeRanges(_)}(v),T=0;T<b.length;T++){var S=b.start(T),w=b.end(T);if(_-S<4&&_-S>2)return{"start":S,"end":w}}return null},PlaybackWatcher}(),xu={"errorInterval":30,"getSource":function getSource(v){return v(this.tech({"IWillNotUseThisInPlugins":!0}).currentSource_||this.currentSource())}},Au=function reloadSourceOnError(v){!function initPlugin(v,_){var b=0,T=0,S=videojs$1.mergeOptions(xu,_);v.ready((function(){v.trigger({"type":"usage","name":"vhs-error-reload-initialized"}),v.trigger({"type":"usage","name":"hls-error-reload-initialized"})}));var w=function loadedMetadataHandler(){T&&v.currentTime(T)},E=function setSource(_){null!=_&&(T=v.duration()!==1/0&&v.currentTime()||0,v.one("loadedmetadata",w),v.src(_),v.trigger({"type":"usage","name":"vhs-error-reload"}),v.trigger({"type":"usage","name":"hls-error-reload"}),v.play())},C=function errorHandler(){return Date.now()-b<1e3*S.errorInterval?(v.trigger({"type":"usage","name":"vhs-error-reload-canceled"}),void v.trigger({"type":"usage","name":"hls-error-reload-canceled"})):S.getSource&&"function"==typeof S.getSource?(b=Date.now(),S.getSource.call(v,E)):void videojs$1.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},k=function cleanupEvents(){v.off("loadedmetadata",w),v.off("error",C),v.off("dispose",cleanupEvents)};v.on("error",C),v.on("dispose",k),v.reloadSourceOnError=function reinitPlugin(_){k(),initPlugin(v,_)}}(this,v)},Pu={"PlaylistLoader":rl,"Playlist":Tl,"utils":Dl,"STANDARD_PLAYLIST_SELECTOR":Pc,"INITIAL_PLAYLIST_SELECTOR":function lowestBitrateCompatibleVariantSelector(){var v=this,_=this.playlists.master.playlists.filter(Tl.isEnabled);return kc(_,(function(v,_){return xc(v,_)})),_.filter((function(_){return!!Tc(v.playlists.master,_).video}))[0]||null},"lastBandwidthSelector":Pc,"movingAverageBandwidthSelector":function movingAverageBandwidthSelector(v){var _=-1;if(v<0||v>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var b=this.useDevicePixelRatio&&S.a.devicePixelRatio||1;return _<0&&(_=this.systemBandwidth),_=v*this.systemBandwidth+(1-v)*_,Ac(this.playlists.master,_,parseInt(Cc(this.tech_.el(),"width"),10)*b,parseInt(Cc(this.tech_.el(),"height"),10)*b,this.limitRenditionByPlayerDimensions)}},"comparePlaylistBandwidth":xc,"comparePlaylistResolution":function comparePlaylistResolution(v,_){var b,T;return v.attributes.RESOLUTION&&v.attributes.RESOLUTION.width&&(b=v.attributes.RESOLUTION.width),b=b||S.a.Number.MAX_VALUE,_.attributes.RESOLUTION&&_.attributes.RESOLUTION.width&&(T=_.attributes.RESOLUTION.width),b===(T=T||S.a.Number.MAX_VALUE)&&v.attributes.BANDWIDTH&&_.attributes.BANDWIDTH?v.attributes.BANDWIDTH-_.attributes.BANDWIDTH:b-T},"xhr":Cl()};Object.keys(ql).forEach((function(v){Object.defineProperty(Pu,v,{"get":function get(){return videojs$1.log.warn("using Vhs."+v+" is UNSAFE be sure you know what you are doing"),ql[v]},"set":function set(_){videojs$1.log.warn("using Vhs."+v+" is UNSAFE be sure you know what you are doing"),"number"!=typeof _||_<0?videojs$1.log.warn("value of Vhs."+v+" must be greater than or equal to 0"):ql[v]=_}})}));var Iu=function handleVhsMediaChange(v,_){for(var b=_.media(),T=-1,S=0;S<v.length;S++)if(v[S].id===b.id){T=S;break}v.selectedIndex_=T,v.trigger({"selectedIndex":T,"type":"change"})};Pu.canPlaySource=function(){return videojs$1.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ou=function waitForKeySessionCreation(v){var _=v.player,b=v.sourceKeySystems,T=v.audioMedia,S=v.mainPlaylists;if(!_.eme.initializeMediaKeys)return Promise.resolve();var w=function getAllPsshKeySystemsOptions(v,_){return v.reduce((function(v,b){if(!b.contentProtection)return v;var T=_.reduce((function(v,_){var T=b.contentProtection[_];return T&&T.pssh&&(v[_]={"pssh":T.pssh}),v}),{});return Object.keys(T).length&&v.push(T),v}),[])}(T?S.concat([T]):S,Object.keys(b)),E=[],C=[];return w.forEach((function(v){C.push(new Promise((function(v,b){_.tech_.one("keysessioncreated",v)}))),E.push(new Promise((function(b,T){_.eme.initializeMediaKeys({"keySystems":v},(function(v){v?T(v):b()}))})))})),Promise.race([Promise.all(E),Promise.race(C)])},Lu=function setupEmeOptions(v){var _=v.player,b=function emeKeySystems(v,_,b){if(!v)return v;var T={"video":_&&_.attributes&&_.attributes.CODECS,"audio":b&&b.attributes&&b.attributes.CODECS};!T.audio&&T.video&&T.video.split(",").length>1&&T.video.split(",").forEach((function(v){v=v.trim(),Object(yi.isAudioCodec)(v)?T.audio=v:Object(yi.isVideoCodec)(v)&&(T.video=v)}));var S=T.video?'video/mp4;codecs="'+T.video+'"':null,w=T.audio?'audio/mp4;codecs="'+T.audio+'"':null,E={};for(var C in v)E[C]={"audioContentType":w,"videoContentType":S},_.contentProtection&&_.contentProtection[C]&&_.contentProtection[C].pssh&&(E[C].pssh=_.contentProtection[C].pssh),"string"==typeof v[C]&&(E[C].url=v[C]);return videojs$1.mergeOptions(v,E)}(v.sourceKeySystems,v.media,v.audioMedia);return!!b&&(_.currentSource().keySystems=b,!(b&&!_.eme)||(videojs$1.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},Mu=function getVhsLocalStorage(){if(!S.a.localStorage)return null;var v=S.a.localStorage.getItem("videojs-vhs");if(!v)return null;try{return JSON.parse(v)}catch(v){return null}};Pu.supportsNativeHls=function(){if(!E.a||!E.a.createElement)return!1;var v=E.a.createElement("video");if(!videojs$1.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(_){return/maybe|probably/i.test(v.canPlayType(_))}))}(),Pu.supportsNativeDash=!!(E.a&&E.a.createElement&&videojs$1.getTech("Html5").isSupported())&&/maybe|probably/i.test(E.a.createElement("video").canPlayType("application/dash+xml")),Pu.supportsTypeNatively=function(v){return"hls"===v?Pu.supportsNativeHls:"dash"===v&&Pu.supportsNativeDash},Pu.isSupported=function(){return videojs$1.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Du=function(v){function VhsHandler(_,b,T){var S;if(S=v.call(this,b,videojs$1.mergeOptions(T.hls,T.vhs))||this,T.hls&&Object.keys(T.hls).length&&videojs$1.log.warn("Using hls options is deprecated. Use vhs instead."),S.logger_=Sc("VhsHandler"),b.options_&&b.options_.playerId){var w=videojs$1(b.options_.playerId);w.hasOwnProperty("hls")||Object.defineProperty(w,"hls",{"get":function get(){return videojs$1.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),b.trigger({"type":"usage","name":"hls-player-access"}),P()(S)},"configurable":!0}),w.hasOwnProperty("vhs")||Object.defineProperty(w,"vhs",{"get":function get(){return videojs$1.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),b.trigger({"type":"usage","name":"vhs-player-access"}),P()(S)},"configurable":!0}),w.hasOwnProperty("dash")||Object.defineProperty(w,"dash",{"get":function get(){return videojs$1.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),P()(S)},"configurable":!0}),S.player_=w}if(S.tech_=b,S.source_=_,S.stats={},S.ignoreNextSeekingEvent_=!1,S.setOptions_(),S.options_.overrideNative&&b.overrideNativeAudioTracks&&b.overrideNativeVideoTracks)b.overrideNativeAudioTracks(!0),b.overrideNativeVideoTracks(!0);else if(S.options_.overrideNative&&(b.featuresNativeVideoTracks||b.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return S.on(E.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(v){var _=E.a.fullscreenElement||E.a.webkitFullscreenElement||E.a.mozFullScreenElement||E.a.msFullscreenElement;_&&_.contains(S.tech_.el())&&S.masterPlaylistController_.smoothQualityChange_()})),S.on(S.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),S.on(S.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),S.on(S.tech_,"play",S.play),S}O()(VhsHandler,v);var _=VhsHandler.prototype;return _.setOptions_=function setOptions_(){var v=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var _=Mu();_&&_.bandwidth&&(this.options_.bandwidth=_.bandwidth,this.tech_.trigger({"type":"usage","name":"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({"type":"usage","name":"hls-bandwidth-from-local-storage"})),_&&_.throughput&&(this.options_.throughput=_.throughput,this.tech_.trigger({"type":"usage","name":"vhs-throughput-from-local-storage"}),this.tech_.trigger({"type":"usage","name":"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=ql.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ql.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta"].forEach((function(_){void 0!==v.source_[_]&&(v.options_[_]=v.source_[_])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},_.src=function src(v,_){var b=this;if(v){this.setOptions_(),this.options_.src=function expandDataUri(v){return 0===v.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(v.substring(v.indexOf(",")+1)):v}(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Pu,this.options_.sourceType=Object(an.simpleTypeFromSourceType)(_),this.options_.seekTo=function(v){b.tech_.setCurrentTime(v)},this.masterPlaylistController_=new wu(this.options_);var T=videojs$1.mergeOptions({"liveRangeSafeTimeDelta":.1},this.options_,{"seekable":function seekable(){return b.seekable()},"media":function media(){return b.masterPlaylistController_.media()},"masterPlaylistController":this.masterPlaylistController_});this.playbackWatcher_=new ku(T),this.masterPlaylistController_.on("error",(function(){var v=videojs$1.players[b.tech_.options_.playerId],_=b.masterPlaylistController_.error;"object"!=typeof _||_.code?"string"==typeof _&&(_={"message":_,"code":3}):_.code=3,v.error(_)}));var w=this.options_.experimentalBufferBasedABR?Pu.movingAverageBandwidthSelector(.55):Pu.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):w.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Pu.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{"selectPlaylist":{"get":function get(){return this.masterPlaylistController_.selectPlaylist},"set":function set(v){this.masterPlaylistController_.selectPlaylist=v.bind(this)}},"throughput":{"get":function get(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},"set":function set(v){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=v,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},"bandwidth":{"get":function get(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},"set":function set(v){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=v,this.masterPlaylistController_.mainSegmentLoader_.throughput={"rate":0,"count":0}}},"systemBandwidth":{"get":function get(){var v,_=1/(this.bandwidth||1);return v=this.throughput>0?1/this.throughput:0,Math.floor(1/(_+v))},"set":function set(){videojs$1.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{"bandwidth":{"get":function get(){return b.bandwidth||0},"enumerable":!0},"mediaRequests":{"get":function get(){return b.masterPlaylistController_.mediaRequests_()||0},"enumerable":!0},"mediaRequestsAborted":{"get":function get(){return b.masterPlaylistController_.mediaRequestsAborted_()||0},"enumerable":!0},"mediaRequestsTimedout":{"get":function get(){return b.masterPlaylistController_.mediaRequestsTimedout_()||0},"enumerable":!0},"mediaRequestsErrored":{"get":function get(){return b.masterPlaylistController_.mediaRequestsErrored_()||0},"enumerable":!0},"mediaTransferDuration":{"get":function get(){return b.masterPlaylistController_.mediaTransferDuration_()||0},"enumerable":!0},"mediaBytesTransferred":{"get":function get(){return b.masterPlaylistController_.mediaBytesTransferred_()||0},"enumerable":!0},"mediaSecondsLoaded":{"get":function get(){return b.masterPlaylistController_.mediaSecondsLoaded_()||0},"enumerable":!0},"buffered":{"get":function get(){return cl(b.tech_.buffered())},"enumerable":!0},"currentTime":{"get":function get(){return b.tech_.currentTime()},"enumerable":!0},"currentSource":{"get":function get(){return b.tech_.currentSource_},"enumerable":!0},"currentTech":{"get":function get(){return b.tech_.name_},"enumerable":!0},"duration":{"get":function get(){return b.tech_.duration()},"enumerable":!0},"master":{"get":function get(){return b.playlists.master},"enumerable":!0},"playerDimensions":{"get":function get(){return b.tech_.currentDimensions()},"enumerable":!0},"seekable":{"get":function get(){return cl(b.tech_.seekable())},"enumerable":!0},"timestamp":{"get":function get(){return Date.now()},"enumerable":!0},"videoPlaybackQuality":{"get":function get(){return b.tech_.getVideoPlaybackQuality()},"enumerable":!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){b.options_.useBandwidthFromLocalStorage&&function updateVhsLocalStorage(v){if(!S.a.localStorage)return!1;var _=Mu();_=_?videojs$1.mergeOptions(_,v):v;try{S.a.localStorage.setItem("videojs-vhs",JSON.stringify(_))}catch(v){return!1}}({"bandwidth":b.bandwidth,"throughput":Math.round(b.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){!function renditionSelectionMixin(v){var _=v.playlists;v.representations=function(){return _&&_.master&&_.master.playlists?_.master.playlists.filter((function(v){return!vl(v)})).map((function(_,b){return new Eu(v,_,_.id)})):[]}}(b)})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){b.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=S.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},_.setupEme_=function setupEme_(){var v=this,_=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,b=Lu({"player":this.player_,"sourceKeySystems":this.source_.keySystems,"media":this.playlists.media(),"audioMedia":_&&_.media()});11!==videojs$1.browser.IE_VERSION&&b?(this.logger_("waiting for EME key session creation"),Ou({"player":this.player_,"sourceKeySystems":this.source_.keySystems,"audioMedia":_&&_.media(),"mainPlaylists":this.playlists.master.playlists}).then((function(){v.logger_("created EME key session"),v.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(_){v.logger_("error while creating EME key session",_),v.player_.error({"message":"Failed to initialize media keys for EME","code":3})}))):this.masterPlaylistController_.sourceUpdater_.initializedEme()},_.setupQualityLevels_=function setupQualityLevels_(){var v=this,_=videojs$1.players[this.tech_.options_.playerId];_&&_.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=_.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){!function handleVhsLoadedMetadata(v,_){_.representations().forEach((function(_){v.addQualityLevel(_)})),Iu(v,_.playlists)}(v.qualityLevels_,v)})),this.playlists.on("mediachange",(function(){Iu(v.qualityLevels_,v.playlists)})))},VhsHandler.version=function version$5(){return{"@videojs/http-streaming":"2.4.2","mux.js":"5.8.0","mpd-parser":"0.15.0","m3u8-parser":"4.5.0","aes-decrypter":"3.1.0"}},_.version=function version(){return this.constructor.version()},_.canChangeType=function canChangeType(){return ru.canChangeType()},_.play=function play(){this.masterPlaylistController_.play()},_.setCurrentTime=function setCurrentTime(v){this.masterPlaylistController_.setCurrentTime(v)},_.duration=function duration(){return this.masterPlaylistController_.duration()},_.seekable=function seekable(){return this.masterPlaylistController_.seekable()},_.dispose=function dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&S.a.URL.revokeObjectURL&&(S.a.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),v.prototype.dispose.call(this)},_.convertToProgramTime=function convertToProgramTime(v,_){return Nl({"playlist":this.masterPlaylistController_.media(),"time":v,"callback":_})},_.seekToProgramTime=function seekToProgramTime$1(v,_,b,T){return void 0===b&&(b=!0),void 0===T&&(T=2),Rl({"programTime":v,"playlist":this.masterPlaylistController_.media(),"retryCount":T,"pauseAfterSeek":b,"seekTo":this.options_.seekTo,"tech":this.options_.tech,"callback":_})},VhsHandler}(videojs$1.getComponent("Component")),Nu={"name":"videojs-http-streaming","VERSION":"2.4.2","canHandleSource":function canHandleSource(v,_){void 0===_&&(_={});var b=videojs$1.mergeOptions(videojs$1.options,_);return Nu.canPlayType(v.type,b)},"handleSource":function handleSource(v,_,b){void 0===b&&(b={});var T=videojs$1.mergeOptions(videojs$1.options,b);return _.vhs=new Du(v,_,T),videojs$1.hasOwnProperty("hls")||Object.defineProperty(_,"hls",{"get":function get(){return videojs$1.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),_.vhs},"configurable":!0}),_.vhs.xhr=Cl(),_.vhs.src(v.src,v.type),_.vhs},"canPlayType":function canPlayType(v,_){void 0===_&&(_={});var b=videojs$1.mergeOptions(videojs$1.options,_).vhs.overrideNative,T=void 0===b?!videojs$1.browser.IS_ANY_SAFARI:b,S=Object(an.simpleTypeFromSourceType)(v);return S&&(!Pu.supportsTypeNatively(S)||T)?"maybe":""}};(function supportsNativeMediaSources(){return Object(yi.browserSupportsCodec)("avc1.4d400d,mp4a.40.2")})()&&videojs$1.getTech("Html5").registerSourceHandler(Nu,0),videojs$1.VhsHandler=Du,Object.defineProperty(videojs$1,"HlsHandler",{"get":function get(){return videojs$1.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Du},"configurable":!0}),videojs$1.VhsSourceHandler=Nu,Object.defineProperty(videojs$1,"HlsSourceHandler",{"get":function get(){return videojs$1.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Nu},"configurable":!0}),videojs$1.Vhs=Pu,Object.defineProperty(videojs$1,"Hls",{"get":function get(){return videojs$1.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Pu},"configurable":!0}),videojs$1.use||(videojs$1.registerComponent("Hls",Pu),videojs$1.registerComponent("Vhs",Pu)),videojs$1.options.vhs=videojs$1.options.vhs||{},videojs$1.options.hls=videojs$1.options.hls||{},videojs$1.registerPlugin?videojs$1.registerPlugin("reloadSourceOnError",Au):videojs$1.plugin("reloadSourceOnError",Au);_.a=videojs$1},function(v,_,b){"use strict";var T=b(141),S=b.n(T),w=b(30),E=b.n(w),C=b(188),k=b.n(C),x=b(192),P=b.n(x),I=b(193),O=b.n(I),L=b(134),D=b.n(L),N=b(131),R=b.n(N),B=b(132),j=b.n(B),U=b(194),V=b.n(U),H=b(16),W=b.n(H);function ownKeys(v,_){var b=Object.keys(v);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(v);_&&(T=T.filter((function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable}))),b.push.apply(b,T)}return b}function _objectSpread(v){for(var _=1;_<arguments.length;_++){var b=null!=arguments[_]?arguments[_]:{};_%2?ownKeys(Object(b),!0).forEach((function(_){S()(v,_,b[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach((function(_){Object.defineProperty(v,_,Object.getOwnPropertyDescriptor(b,_))}))}return v}function _createSuper(v){var _=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(v){return!1}}();return function _createSuperInternal(){var b,T=j()(v);if(_){var S=j()(this).constructor;b=Reflect.construct(T,arguments,S)}else b=T.apply(this,arguments);return R()(this,b)}}W.a.createElement;var q=function reactifyWebComponent(v){var _=function(_){D()(Index,_);var b=_createSuper(Index);function Index(v){var _;return P()(this,Index),(_=b.call(this,v)).eventHandlers=[],_.ref=Object(H.createRef)(),_}return O()(Index,[{"key":"update","value":function update(_){var b=this;this.clearEventHandlers(),Object.entries(this.props).forEach((function(T){var S=k()(T,2),w=S[0],C=S[1];if(b.ref.current&&"children"!==w)if("classname"!==w.toLowerCase())if("style"!==w){if("taro-scroll-view-core"===v){if("scrollTop"===w)return void(b.ref.current.mpScrollTop=C);if("scrollLeft"===w)return void(b.ref.current.mpScrollLeft=C);if("scrollIntoView"===w)return void(b.ref.current.mpScrollIntoView=C)}if("function"==typeof C&&w.match(/^on[A-Z]/)){var x=w.substr(2).toLowerCase(),P=C;return"taro-scroll-view-core"===v&&"scroll"===x&&(P=function fn(v){v instanceof CustomEvent&&C.apply(null,Array.from(arguments))}),b.eventHandlers.push([x,P]),b.ref.current.addEventListener(x,P)}if("string"!=typeof C&&"number"!=typeof C)return"boolean"==typeof C?C?(b.ref.current[w]=!0,b.ref.current.setAttribute(w,C)):(b.ref.current[w]=!1,b.ref.current.removeAttribute(w)):void(b.ref.current[w]=C);b.ref.current[w]=C}else{if("string"==typeof C)return b.ref.current.setAttribute(w,C);if(C&&"object"===E()(C)){for(var I in C)b.ref.current.style[I]=C[I];return}}else b.ref.current.className=_?function getClassName(v,_,b){var T=Array.from(v.classList),S=(_.className||_.class||"").split(" "),w=(b.className||b.class||"").split(" "),E=[];return T.forEach((function(v){w.indexOf(v)>-1?(E.push(v),w=w.filter((function(_){return _!==v}))):-1===S.indexOf(v)&&E.push(v)})),(E=[].concat(V()(E),V()(w))).join(" ")}(b.ref.current,_,b.props):C}))}},{"key":"componentDidUpdate","value":function componentDidUpdate(v){this.update(v)}},{"key":"componentDidMount","value":function componentDidMount(){var v=this.props.forwardRef;"function"==typeof v?v(this.ref.current):v&&"object"===E()(v)&&v.hasOwnProperty("current")?v.current=this.ref.current:"string"==typeof v&&console.warn("内置组件不支持字符串 ref"),this.update()}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.clearEventHandlers()}},{"key":"clearEventHandlers","value":function clearEventHandlers(){var v=this;this.eventHandlers.forEach((function(_){var b=k()(_,2),T=b[0],S=b[1];v.ref.current&&v.ref.current.removeEventListener(T,S)})),this.eventHandlers=[]}},{"key":"render","value":function render(){var _=this.props,b=_.children,T=_.dangerouslySetInnerHTML,S={"ref":this.ref};return T&&(S.dangerouslySetInnerHTML=T),Object(H.createElement)(v,S,b)}}]),Index}(W.a.Component);return W.a.forwardRef((function(v,b){return W.a.createElement(_,_objectSpread(_objectSpread({},v),{},{"forwardRef":b}))}))};function input_ownKeys(v,_){var b=Object.keys(v);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(v);_&&(T=T.filter((function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable}))),b.push.apply(b,T)}return b}function input_objectSpread(v){for(var _=1;_<arguments.length;_++){var b=null!=arguments[_]?arguments[_]:{};_%2?input_ownKeys(Object(b),!0).forEach((function(_){S()(v,_,b[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(b)):input_ownKeys(Object(b)).forEach((function(_){Object.defineProperty(v,_,Object.getOwnPropertyDescriptor(b,_))}))}return v}var G=q("taro-input-core"),Y=(W.a.createElement,W.a.forwardRef((function(v,_){var b=input_objectSpread({},v);return b.hasOwnProperty("focus")&&(b.autoFocus=Boolean(b.focus),delete b.focus),W.a.createElement(G,input_objectSpread(input_objectSpread({},b),{},{"ref":_}))})));b.d(_,"q",(function(){return X})),b.d(_,"o",(function(){return K})),b.d(_,"a",(function(){return Q})),b.d(_,"b",(function(){return J})),b.d(_,"d",(function(){return Z})),b.d(_,"e",(function(){return ee})),b.d(_,"i",(function(){return te})),b.d(_,"k",(function(){return ne})),b.d(_,"n",(function(){return oe})),b.d(_,"p",(function(){return an})),b.d(_,"f",(function(){return sn})),b.d(_,"g",(function(){return cn})),b.d(_,"j",(function(){return un})),b.d(_,"l",(function(){return dn})),b.d(_,"m",(function(){return hn})),b.d(_,"c",(function(){return pn})),b.d(_,"h",(function(){return mn}));var X=q("taro-view-core"),K=(q("taro-icon-core"),q("taro-progress-core"),q("taro-rich-text-core"),q("taro-text-core")),Q=q("taro-button-core"),J=(q("taro-checkbox-core"),q("taro-checkbox-group-core"),q("taro-editor-core"),q("taro-form-core")),Z=Y,ee=q("taro-label-core"),te=q("taro-picker-core"),ne=(q("taro-picker-view-core"),q("taro-picker-view-column-core"),q("taro-radio-core"),q("taro-radio-group-core"),q("taro-slider-core")),oe=q("taro-switch-core"),an=(q("taro-cover-image-core"),q("taro-textarea-core")),sn=(q("taro-cover-view-core"),q("taro-movable-area-core")),cn=q("taro-movable-view-core"),un=q("taro-scroll-view-core"),dn=q("taro-swiper-core"),hn=q("taro-swiper-item-core"),pn=(q("taro-functional-page-navigator-core"),q("taro-navigator-core"),q("taro-audio-core"),q("taro-camera-core"),q("taro-image-core")),mn=(q("taro-live-player-core"),q("taro-video-core"),q("taro-map-core"),q("taro-canvas-core"),q("taro-ad-core"),q("taro-official-account-core"),q("taro-open-data-core"));q("taro-web-view-core"),q("taro-navigation-bar-core"),q("taro-block-core"),q("taro-custom-wrapper-core")}])]);